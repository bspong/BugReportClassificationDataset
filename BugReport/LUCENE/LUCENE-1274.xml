<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:24:04 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1274/LUCENE-1274.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1274] Expose explicit 2-phase commit in IndexWriter</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1274</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Currently when IndexWriter commits, it does so with a two-phase&lt;br/&gt;
commit, internally: first it prepares all the new index files, syncs&lt;br/&gt;
them; then it writes a new segments_N file and syncs that, and only if&lt;br/&gt;
that is successful does it remove any now un-referenced index files.&lt;/p&gt;

&lt;p&gt;However, these two phases are done privately, internal to the commit()&lt;br/&gt;
method.&lt;/p&gt;

&lt;p&gt;But when Lucene is involved in a transaction with external resources&lt;br/&gt;
(eg a database), it&apos;s very useful to explicitly break out the prepare&lt;br/&gt;
phase from the commit phase.&lt;/p&gt;

&lt;p&gt;Spinoff from this thread:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200804.mbox/%3C16627610.post@talk.nabble.com%3E&quot; class=&quot;external-link&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200804.mbox/%3C16627610.post@talk.nabble.com%3E&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
            <key id="12394858">LUCENE-1274</key>
            <summary>Expose explicit 2-phase commit in IndexWriter</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Apr 2008 11:46:43 +0100</created>
                <updated>Sat, 11 Oct 2008 13:49:36 +0100</updated>
                    <resolved>Tue, 6 May 2008 19:41:25 +0100</resolved>
                            <version>1.9</version>
                <version>2.0.0</version>
                <version>2.1</version>
                <version>2.2</version>
                <version>2.3</version>
                <version>2.3.1</version>
                                <fixVersion>2.4</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                    <timeestimate seconds="1209600">336h</timeestimate>
                                  <comments>
                    <comment id="12592639" author="mikemccand" created="Sun, 27 Apr 2008 11:47:48 +0100"  >&lt;p&gt;I plan to rename abort() to rollback() (deprecating abort()), then add&lt;br/&gt;
a new method &quot;prepareCommit()&quot; to IndexWriter.  If you call this, then&lt;br/&gt;
IndexWriter is left in a mode where a commit is pending.  You must&lt;br/&gt;
follow this up either with a call to rollback(), which reverts all&lt;br/&gt;
changes done since you first opened IndexWriter and closes it, or&lt;br/&gt;
commit(), which completes the transaction.  prepareCommit() requires&lt;br/&gt;
that IndexWriter is opened with autoCommit false.&lt;/p&gt;
</comment>
                    <comment id="12592679" author="mikemccand" created="Sun, 27 Apr 2008 21:33:16 +0100"  >&lt;p&gt;Attached patch.  I plan to commit in a few days.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12381002" name="LUCENE-1274.patch" size="40168" author="mikemccand" created="Sun, 27 Apr 2008 21:33:16 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12474</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26454</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>