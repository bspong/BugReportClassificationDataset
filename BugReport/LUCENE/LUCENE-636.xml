<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:34:21 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-636/LUCENE-636.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-636] [PATCH] Differently configured Lucene &apos;instances&apos; in same JVM</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-636</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Currently Lucene can be configured using system properties. When running multiple &apos;instances&apos; of Lucene for different purposes in the same JVM, it is not possible to use different settings for each &apos;instance&apos;.&lt;/p&gt;

&lt;p&gt;I made changes to some Lucene classes so you can pass a configuration to that class. The Lucene &apos;instance&apos; will use the settings from that configuration. The changes do not effect the API and/or the current behavior so are backwards compatible.&lt;/p&gt;

&lt;p&gt;In addition to the changes above I also made the SegmentReader and SegmentTermDocs extensible outside of their package. I would appreciate the inclusion of these changes but don&apos;t mind creating a separate issue for them.&lt;/p&gt;
</description>
                <environment></environment>
            <key id="12346761">LUCENE-636</key>
            <summary>[PATCH] Differently configured Lucene &apos;instances&apos; in same JVM</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jstuyts">Johan Stuyts</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Jul 2006 09:38:10 +0100</created>
                <updated>Fri, 10 May 2013 11:44:56 +0100</updated>
                    <resolved>Tue, 8 Dec 2009 04:24:18 +0000</resolved>
                            <version>2.0.0</version>
                                <fixVersion>3.0</fixVersion>
                                        <due></due>
                    <votes>3</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12423801" author="jstuyts" created="Thu, 27 Jul 2006 09:39:43 +0100"  >&lt;p&gt;Patch which includes a class for the Lucene configuration and changes to existing classes so they use the configuration.&lt;/p&gt;</comment>
                    <comment id="12437789" author="jstuyts" created="Tue, 26 Sep 2006 11:01:36 +0100"  >&lt;p&gt;I just found out that the patch is incomplete. You can only specify the subclass of the SegmentReader class, but not the subclass of the MultiReader class. If your index contains multiple segments a MultiReader instead of the specified subclass of SegmentReader is created, and it is not possible to cast the returned IndexReader to the subclass of SegmentReader you specified in the LuceneConfig object.&lt;/p&gt;</comment>
                    <comment id="12470409" author="kgeis" created="Tue, 6 Feb 2007 00:31:15 +0000"  >&lt;p&gt;I was able to work around this problem by using AspectJ to intercept calls to System.setProperty(..) and System.getProperty().  This is not a great solution.&lt;/p&gt;

&lt;p&gt;A side note...  Tomcat on Ubuntu ships with the security manager turned on by default, a strangely uncommon setting for servlet engine distributions.  The default security settings prevent a webapp from calling System.setProperty(..).&lt;/p&gt;

&lt;p&gt;It would be nice if this got resolved sometime soon because once it is resolved, I need to wait for Compass to pick up the change downstream.  It looks like it may be a year until I don&apos;t need to worry about this issue any more.&lt;/p&gt;</comment>
                    <comment id="12486832" author="otis" created="Thu, 5 Apr 2007 02:50:19 +0100"  >&lt;p&gt;We&apos;ve moved away from using system properties.  I think there are only a couple of places in the code that still refer to system properties, and those are, I believe, depreated:&lt;/p&gt;

&lt;p&gt;$ ffjg System.getProp&lt;br/&gt;
./org/apache/lucene/analysis/standard/ParseException.java:  protected String eol = System.getProperty(&quot;line.separator&quot;, &quot;\n&quot;);&lt;br/&gt;
./org/apache/lucene/index/SegmentReader.java:        System.getProperty(&quot;org.apache.lucene.SegmentReader.class&quot;,&lt;br/&gt;
./org/apache/lucene/queryParser/ParseException.java:  protected String eol = System.getProperty(&quot;line.separator&quot;, &quot;\n&quot;);&lt;br/&gt;
./org/apache/lucene/store/FSDirectory.java:  public static final String LOCK_DIR = System.getProperty(&quot;org.apache.lucene.lockDir&quot;,&lt;br/&gt;
./org/apache/lucene/store/FSDirectory.java:                                                           System.getProperty(&quot;java.io.tmpdir&quot;));&lt;br/&gt;
./org/apache/lucene/store/FSDirectory.java:        System.getProperty(&quot;org.apache.lucene.FSDirectory.class&quot;,&lt;br/&gt;
./org/apache/lucene/store/FSDirectory.java:        String lockClassName = System.getProperty(&quot;org.apache.lucene.store.FSDirectoryLockFactoryClass&quot;);&lt;br/&gt;
./org/apache/lucene/util/Constants.java:  /** The value of &amp;lt;tt&amp;gt;System.getProperty(&quot;java.version&quot;)&amp;lt;tt&amp;gt;. **/&lt;br/&gt;
./org/apache/lucene/util/Constants.java:  public static final String JAVA_VERSION = System.getProperty(&quot;java.version&quot;);&lt;br/&gt;
./org/apache/lucene/util/Constants.java:  /** The value of &amp;lt;tt&amp;gt;System.getProperty(&quot;os.name&quot;)&amp;lt;tt&amp;gt;. **/&lt;br/&gt;
./org/apache/lucene/util/Constants.java:  public static final String OS_NAME = System.getProperty(&quot;os.name&quot;);&lt;/p&gt;


&lt;p&gt;I&apos;ll close this as Won&apos;t Fix.&lt;/p&gt;</comment>
                    <comment id="12486840" author="kgeis" created="Thu, 5 Apr 2007 04:24:06 +0100"  >&lt;p&gt;This is not going to be sufficient.  There are active code paths that still use System.getProperty(..).  For instance, the static initializers of FSDirectory and SegmentReader.&lt;/p&gt;

&lt;p&gt;If I load up a Compass-based web app, and it uses an old version of Lucene that works off system properties, it will set the org.apache.lucene.SegmentReader.class property to use a Compass-specific segment reader.  Then in another web app that uses a current version of Lucene that has &quot;moved away from using system properties,&quot; the application will crash when it tries to load the SegmentReader class.&lt;/p&gt;</comment>
                    <comment id="12487323" author="hossman" created="Fri, 6 Apr 2007 20:30:17 +0100"  >&lt;p&gt;I think Ken is right, while most of the uses are for debugging or in legacy methods that have newer ways callers can specify the exact behavior they want programmaticly, these two do not, and warrant leaving the issue open (at the very least)...&lt;/p&gt;


&lt;p&gt;/org/apache/lucene/index/SegmentReader.java: System.getProperty(&quot;org.apache.lucene.SegmentReader.class&quot;,&lt;br/&gt;
./org/apache/lucene/store/FSDirectory.java: System.getProperty(&quot;org.apache.lucene.FSDirectory.class&quot;,&lt;/p&gt;</comment>
                    <comment id="12742131" author="markrmiller@gmail.com" created="Wed, 12 Aug 2009 01:09:46 +0100"  >&lt;p&gt;Both of the properties Hoss mentioned are now deprecated - I think we can close this issue unless some new one has managed to pop up (I&apos;m not aware of one myself)&lt;/p&gt;</comment>
                    <comment id="12742212" author="kgeis" created="Wed, 12 Aug 2009 05:38:25 +0100"  >&lt;p&gt;I would not close this until the code is removed, not just its use deprecated.  Even if it is deprecated, I can write a new application with the code from svn trunk (as of right now,) and the SegmentReader or FSDirectory implementation can be overridden by an old application (in the same servlet container) that sets the system property.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310010">
                <name>Incorporates</name>
                                <outwardlinks description="incorporates">
                            <issuelink>
            <issuekey id="12349441">LUCENE-670</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12337623" name="Lucene2DifferentConfigurations.patch" size="17723" author="jstuyts" created="Thu, 27 Jul 2006 09:39:43 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 6 Feb 2007 00:31:15 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13117</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27094</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>