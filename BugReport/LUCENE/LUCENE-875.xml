<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:13:02 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-875/LUCENE-875.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-875] javadocs creation has too many warnings/errors</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-875</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Currently running &apos;ant javadocs&apos; creates so many warnings that you have to grep the output to verify that new code did not add more.&lt;/p&gt;

&lt;p&gt;While most current errors might be minor, they might hide a few serious ones that we will never know abut until someone complains. &lt;/p&gt;

&lt;p&gt;Best if we fix all of them and keep it always clean...&lt;/p&gt;</description>
                <environment></environment>
            <key id="12368592">LUCENE-875</key>
            <summary>javadocs creation has too many warnings/errors</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="doronc">Doron Cohen</assignee>
                                <reporter username="doronc">Doron Cohen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 May 2007 22:52:23 +0100</created>
                <updated>Tue, 19 Jun 2007 09:14:55 +0100</updated>
                    <resolved>Fri, 1 Jun 2007 19:49:43 +0100</resolved>
                            <version>2.2</version>
                                <fixVersion>2.2</fixVersion>
                                <component>general/javadocs</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12493537" author="doronc" created="Thu, 3 May 2007 22:58:56 +0100"  >&lt;p&gt;( modified   &apos;and javadocs&apos;   --&amp;gt;    &apos;ant javadocs&apos; )&lt;/p&gt;</comment>
                    <comment id="12493557" author="doronc" created="Fri, 4 May 2007 00:23:50 +0100"  >&lt;p&gt;Attached patch fixes all javadocs warnings and errors when using javadocs 1.4.2.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; javadocs with jdk 5 - current build.xml creates javadocs also for contrib/gdata only &lt;br/&gt;
     under jdk 5. To fix the javadocs some jars had to be added to the javadocs classpath. &lt;br/&gt;
     But for gdata, even after adding the required jars there remained lots of errors that I &lt;br/&gt;
     did not want to handle here. So I commented out the addition of gdata jars, and focused &lt;br/&gt;
     in running javadocs with jdk 1.4.2.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Some of the warning had to do with peculiarities of javadocs, In one case I replaced &apos;?&apos; &lt;br/&gt;
     with  &apos;&amp;#63;&apos; - wasn&apos;t too happy with this, but it seemed nice at that particular code &lt;br/&gt;
     to have the &apos;?&apos; at the middle of a summary line, which was causing the warning. (in &lt;br/&gt;
     other places I changed the wording so that &apos;?&apos; was o more in the summary line).&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; This is quite a technical fix - only javadoc comments where modified (and build.xml), so unless &lt;br/&gt;
     there are objections I intend to commit it pretty soon.&lt;/p&gt;</comment>
                    <comment id="12493747" author="hossman" created="Fri, 4 May 2007 18:11:26 +0100"  >&lt;p&gt;skimmed the patch, noticed isPayloadAvailable method added to MemoryIndex .. unintentional?&lt;/p&gt;</comment>
                    <comment id="12493752" author="doronc" created="Fri, 4 May 2007 18:37:22 +0100"  >&lt;p&gt;yes...  thanks for reviewing this Hoss. &lt;/p&gt;

&lt;p&gt;MemoryIndex doesn&apos;t compile without implementing this method.&lt;br/&gt;
But this is unrelated to the javadocs, so I will not include in this change.&lt;/p&gt;</comment>
                    <comment id="12493757" author="hossman" created="Fri, 4 May 2007 18:58:01 +0100"  >&lt;p&gt;i vote for adding...&lt;/p&gt;

&lt;p&gt;    failonerror=&quot;true&quot;&lt;/p&gt;

&lt;p&gt;...as well.  it won&apos;t help in the case of warnings, but it will at least ensure that the build fails if we have any seriously eggregious errors in the javadocs that completely prevent them from being generated.&lt;/p&gt;</comment>
                    <comment id="12493772" author="doronc" created="Fri, 4 May 2007 19:44:12 +0100"  >&lt;p&gt;Agree, I will add that.&lt;/p&gt;
</comment>
                    <comment id="12493779" author="doronc" created="Fri, 4 May 2007 20:30:27 +0100"  >&lt;p&gt;&amp;gt; it won&apos;t help in the case of warnings&lt;/p&gt;

&lt;p&gt;We could make it fail also in case of warnings: logging javadoc stdio also to file; fail if the file has warnings (otherwise delete file); &lt;/p&gt;</comment>
                    <comment id="12493789" author="doronc" created="Fri, 4 May 2007 21:06:42 +0100"  >&lt;p&gt;An updated patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;without the MemoryIndex changes (was fixed separately).&lt;/li&gt;
	&lt;li&gt;failonerror=true added as Hoss suggested.&lt;/li&gt;
	&lt;li&gt;now fails also on javadoc warnings, as discussed above.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12493812" author="doronc" created="Fri, 4 May 2007 23:17:54 +0100"  >&lt;p&gt;It occurred to me that with this, javadoc with jdk 1.5, which also processes gdata, would fail on errors. Ucommenting the gdata-jars addition to javadocs-classpath would solve the errors but there are many warnings still. Then, the fail-on-warning logic would cause javadoc to fail.&lt;/p&gt;

&lt;p&gt;By itself this is not necessarily a bad thing, as it would encourage to fix that sooner. However when invoked as part of a larger target, like &quot;package&quot; or &quot;nightly&quot;, it would stop that target in the middle.&lt;/p&gt;</comment>
                    <comment id="12493855" author="hossman" created="Sat, 5 May 2007 06:06:35 +0100"  >&lt;p&gt;huh ... i&apos;ve never seen the &amp;lt;record&amp;gt; task before ... interesting.&lt;/p&gt;

&lt;p&gt;not being familiar with it, i don&apos;t really have an opinion about using it it in this way, but the gdata situation is ... annoying.  we may want to hold off on failing on warnings until we can get them all squared away (and/or have a better system in place for dealing with contribs that require 1.5)&lt;/p&gt;</comment>
                    <comment id="12493856" author="doronc" created="Sat, 5 May 2007 06:17:50 +0100"  >&lt;p&gt;Agree.&lt;br/&gt;
I am changing it to fail-on-warning only under 1.4, with TODO comment to remove this condition once gdata javadocs is fixed. &lt;br/&gt;
I intend to commit this and create a new issue for gdata&apos;s javadoc warnings.&lt;/p&gt;</comment>
                    <comment id="12493857" author="doronc" created="Sat, 5 May 2007 06:22:08 +0100"  >&lt;p&gt;Updated patch:&lt;br/&gt;
  1) as discussed, disable fail-on-warning under jdk5. &lt;br/&gt;
  2) updated  Changes.txt &lt;/p&gt;</comment>
                    <comment id="12493858" author="doronc" created="Sat, 5 May 2007 06:40:48 +0100"  >&lt;p&gt;Just committed.&lt;/p&gt;</comment>
                    <comment id="12494629" author="hossman" created="Thu, 10 May 2007 06:25:34 +0100"  >&lt;p&gt;Grrr... it seems we may need to reopen this, i didn&apos;t realize until just now that the previous patch (including &quot;fail on warnings unless 1.4&quot; was already committed) and my recent tweak to the build.xml so that all contribs get their javadocs built has spanwed some more warnings/problems that i didn&apos;t notice before because i was using 1.5 (and apparently so is hudson because the nightly build is still working).&lt;/p&gt;

&lt;p&gt;Note, if you are using java 1.5 and wnat to reproduce these problems, use...&lt;br/&gt;
    ant -Dant.java.version=1.4 javadocs&lt;/p&gt;

&lt;p&gt;Current issues:&lt;/p&gt;

&lt;p&gt;1) running javadocs on a virgin checkout does not force contribs that download their dependencies on the fly to do so &amp;#8211; the javadocs task currently has no dependencies that relate to contribs, so &quot;ant javadocs&quot; or even &quot;ant package&quot; will get errors from things like contrib/db because the sleepycat jar has never been downloaded.&lt;br/&gt;
(NOTE: you can NOT reproduce this by running &quot;ant clean javadocs&quot; ... the clean target doesn&apos;t remove lib jars that contribs download on the fly .. if you&apos;ve ever build contribs you&apos;ve got the jars and it will mask this bug)&lt;/p&gt;

&lt;p&gt;Possible solution: make &quot;javadocs&quot; depend on build-contrib ?  or a new task that does the contrib-crawl and calls whatever task contribs use to fetch third party jars?&lt;/p&gt;

&lt;p&gt;2) even if all the jars are downloaded, and running in 1.4 mode so current gdata errors are ignored, there are still 3 warnings...&lt;/p&gt;

&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for package &quot;org.apache&quot;&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for package &quot;org&quot;&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for package &quot;org.apache.commons&quot;&lt;/p&gt;

&lt;p&gt;...my first guess is that multiple lib jars in the contribs had package.html files for these packages ... but i can&apos;t find evidence of that ... i haven&apos;t tried the trial and error approach of commenting out contribs one at a time until those errors go away to try and track down the source of the problem&lt;/p&gt;

&lt;p&gt;3) Hudson seems to be running the nightly build using java 1.5, so the hook to ensure that there are no javadoc warnings isn&apos;t getting triggered.&lt;/p&gt;
</comment>
                    <comment id="12494631" author="doronc" created="Thu, 10 May 2007 06:43:49 +0100"  >&lt;p&gt;I checked with 1.4 earlier today and didn&apos;t get these &quot;Multiple sources&quot; warnings.&lt;br/&gt;
I checked again now, also with 1.5 and -Dant.java.version=1.4 and it passes as well. &lt;br/&gt;
This was Windows: Standard Doclet version 1.5.0_06 and Standard Doclet version 1.4.2_08&lt;br/&gt;
So I don&apos;t know what is causing these errors. &lt;br/&gt;
Seems ok to have &quot;javadocs&quot; depend on &quot;build-contrib&quot;. &lt;br/&gt;
Should we disable this fail-on-warning logic until clearing it further...?&lt;/p&gt;
</comment>
                    <comment id="12494786" author="doronc" created="Thu, 10 May 2007 17:43:01 +0100"  >&lt;p&gt;Also, since failOnEror was added to the javadocs task, build services (e.g. parabuild) with jars misconfigured would fail not only because of javadoc warnings but also because of javadoc errors. &lt;/p&gt;

&lt;p&gt;I feel that the noise this created with the failures of builds due to javadocs problems is a price to high to pay for being automatically &quot;forced&quot; to keep javadocs error/warning free. I am disabling both fail-on-jdoc-error and fail-on-jdoc-warning.&lt;/p&gt;

&lt;p&gt;I will add an item &quot;check javadocs creation&quot; to Wiki&apos;s &quot;Patch Check List&quot; page.&lt;/p&gt;</comment>
                    <comment id="12494796" author="doronc" created="Thu, 10 May 2007 18:30:43 +0100"  >&lt;p&gt;I also made &quot;javadocs&quot; depend on &quot;build-contrib&quot;. &lt;/p&gt;

&lt;p&gt;This too might create some noise, because when attempting to download jars from the net, some firewall prompt might pop up. If running unattended and no one approves, it might eventually time out and fail. On the other hand, we do want the jars to be downloaded...   So let&apos;s wait a few days and see how this works out.&lt;/p&gt;</comment>
                    <comment id="12494801" author="hossman" created="Thu, 10 May 2007 18:59:09 +0100"  >&lt;p&gt;I&apos;m not sure i follow why failOnError concerns you ... but in general i think you&apos;re right ... Lucene&apos;s build system just isn&apos;t quite &quot;clean&quot; enough at the moment to be so critical of javadoc issues.&lt;/p&gt;

&lt;p&gt;as for the &quot;Multiple sources of package comments&quot; i&apos;m using &quot;Standard Doclet version 1.5.0_02&quot; FWIW.&lt;/p&gt;</comment>
                    <comment id="12500809" author="doronc" created="Fri, 1 Jun 2007 19:49:43 +0100"  >&lt;p&gt;Fixed - we remain with not failing a build due to javadoc warnings or errors - verifying these would remain manual.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12368711">LUCENE-876</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12356816" name="875_javacc_patch.txt" size="23417" author="doronc" created="Sat, 5 May 2007 06:22:08 +0100" />
                    <attachment id="12356804" name="875_javacc_patch.txt" size="22652" author="doronc" created="Fri, 4 May 2007 21:06:42 +0100" />
                    <attachment id="12356741" name="875_javacc_patch.txt" size="21856" author="doronc" created="Fri, 4 May 2007 00:23:50 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 4 May 2007 17:11:26 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12867</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26854</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>