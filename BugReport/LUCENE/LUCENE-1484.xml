<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:00:02 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1484/LUCENE-1484.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1484] Remove SegmentReader.document synchronization</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1484</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This is probably the last synchronization issue in Lucene.  It is the document method in SegmentReader.  It is avoidable by using a threadlocal for FieldsReader.  &lt;/p&gt;</description>
                <environment></environment>
            <key id="12410299">LUCENE-1484</key>
            <summary>Remove SegmentReader.document synchronization</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="jasonrutherglen">Jason Rutherglen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 19:37:26 +0000</created>
                <updated>Fri, 25 Sep 2009 17:23:15 +0100</updated>
                    <resolved>Wed, 17 Dec 2008 10:36:38 +0000</resolved>
                            <version>2.4</version>
                                <fixVersion>2.9</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                    <timeestimate seconds="345600">96h</timeestimate>
                                  <comments>
                    <comment id="12655056" author="jasonrutherglen" created="Wed, 10 Dec 2008 01:18:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1484&quot; title=&quot;Remove SegmentReader.document synchronization&quot;&gt;&lt;del&gt;LUCENE-1484&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FieldsReader implements Cloneable&lt;/li&gt;
	&lt;li&gt;fieldsReaderLocal added to SegmentReader&lt;/li&gt;
	&lt;li&gt;TestIndexReader, TestFieldsReader, TestSegmentReader, TestParallelMultiSearcher passes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12656377" author="mikemccand" created="Sun, 14 Dec 2008 11:04:36 +0000"  >&lt;p&gt;Jason I&apos;m seeing multiple test case failures in TestIndexReaderReopen with this patch.  Are you seeing these?&lt;/p&gt;

&lt;p&gt;In general, can you say up front, on attaching a patch, whether it passes all tests for you, and if it doesn&apos;t, what the plan is for resolving the failures?&lt;/p&gt;</comment>
                    <comment id="12656395" author="mikemccand" created="Sun, 14 Dec 2008 15:30:27 +0000"  >&lt;p&gt;OK I&apos;ve fixed a few issues with the patch.  All tests &amp;amp; back-compat&lt;br/&gt;
tests now pass.  I think it&apos;s ready to commit.  Jason can you review&lt;br/&gt;
it?&lt;/p&gt;

&lt;p&gt;Details:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fixed the bug causing test failures (we were not in fact cloning&lt;br/&gt;
    the FieldsReader in reopenSegment(), causing NPEs)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Put back the call to isDeleted() in SegmentReader.document &amp;#8211; we&lt;br/&gt;
    lost the synchronization by inlining it.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Move fieldStreamTL.close() back out of the &quot;if (isOriginal)&quot; block&lt;br/&gt;
    in FieldsReader.close.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Put lost &quot;private&quot; back in front of a couple methods/members&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Added javadocs&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Removed dead code&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Added CHANGES entry&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Other small fixes...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12656539" author="jasonrutherglen" created="Mon, 15 Dec 2008 03:56:46 +0000"  >&lt;p&gt;It&apos;s in the ant script?  I&apos;ll do this for the clone patch.&lt;/p&gt;

&lt;p&gt;On Sun, Dec 14, 2008 at 3:04 AM, Michael McCandless (JIRA)&lt;/p&gt;
</comment>
                    <comment id="12656841" author="mikemccand" created="Tue, 16 Dec 2008 01:28:56 +0000"  >&lt;p&gt;Jason I didn&apos;t understand your comment.  Maybe this is the wrong issue?&lt;/p&gt;</comment>
                    <comment id="12656852" author="jasonrutherglen" created="Tue, 16 Dec 2008 02:28:48 +0000"  >&lt;p&gt;The patch is OK.  &lt;/p&gt;

&lt;p&gt;Found it &quot;ant test-core&quot;.  In the future I&apos;ll run this on the patches.&lt;/p&gt;
</comment>
                    <comment id="12656928" author="mikemccand" created="Tue, 16 Dec 2008 10:03:44 +0000"  >&lt;blockquote&gt;
&lt;p&gt;&amp;gt; Found it &quot;ant test-core&quot;. In the future I&apos;ll run this on the patches.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually it&apos;s best if you run &quot;ant test&quot; (runs contrib&apos;s unit tests, too), as well as &quot;ant test-tag&quot; (tests back compat).&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://wiki.apache.org/lucene-java/HowToContribute&quot; class=&quot;external-link&quot;&gt;http://wiki.apache.org/lucene-java/HowToContribute&lt;/a&gt;.&lt;/p&gt;</comment>
                    <comment id="12657337" author="mikemccand" created="Wed, 17 Dec 2008 10:36:38 +0000"  >&lt;p&gt;Committed revision 727338.  Thanks Jason!&lt;/p&gt;</comment>
                    <comment id="12667917" author="jasonab" created="Wed, 28 Jan 2009 02:30:26 +0000"  >&lt;p&gt;Is there any chance this patch could be released in 2.4.1, instead of waiting for 2.9?&lt;/p&gt;</comment>
                    <comment id="12670027" author="mikemccand" created="Tue, 3 Feb 2009 17:37:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there any chance this patch could be released in 2.4.1, instead of waiting for 2.9?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Most likely not.  It&apos;s really a new feature, and it touched a fair amount of code.  We normally only backport bug fixes.&lt;/p&gt;

&lt;p&gt;Also, 2.4.0 has proven quite stable and I don&apos;t think at this point we&apos;re planning on a 2.4.1 release (at least it hasn&apos;t been discussed yet).&lt;/p&gt;

&lt;p&gt;I&apos;m hoping, instead, that we can release 2.9 in not too much time.&lt;/p&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="12396026" name="LUCENE-1484.patch" size="9781" author="mikemccand" created="Sun, 14 Dec 2008 15:30:26 +0000" />
                    <attachment id="12395704" name="LUCENE-1484.patch" size="8565" author="jasonrutherglen" created="Wed, 10 Dec 2008 01:18:07 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 14 Dec 2008 11:04:36 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12267</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26243</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>