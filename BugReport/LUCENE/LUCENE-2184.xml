<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:21:45 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2184/LUCENE-2184.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2184] CartesianPolyFilterBuilder doesn&apos;t properly account for which tiers actually exist in the index </title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2184</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In the CartesianShapeFilterBuilder, there is logic that determines the &quot;best fit&quot; tier to create the Filter against.  However, it does not account for which fields actually exist in the index when doing so.  For instance, if you index tiers 1 through 10, but then choose a very small radius to restrict the space to, it will likely choose a tier like 15 or 16, which of course does not exist.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12444263">LUCENE-2184</key>
            <summary>CartesianPolyFilterBuilder doesn&apos;t properly account for which tiers actually exist in the index </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Dec 2009 19:09:33 +0000</created>
                <updated>Wed, 30 Mar 2011 16:50:04 +0100</updated>
                    <resolved>Sat, 27 Nov 2010 23:25:34 +0000</resolved>
                            <version>2.9</version>
                <version>2.9.1</version>
                <version>3.0</version>
                                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/spatial</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12795080" author="cmale" created="Tue, 29 Dec 2009 16:50:00 +0000"  >&lt;p&gt;I have also seen this bug come up.  It seems that there are only 15 possible tiers, as if the best fit tier is greater than 15, then it is scaled back to 15.  So one plausible solution that doesn&apos;t require any changes to the API, is to simply require all documents have all 15 levels indexed.  The other solution is to take into account the range of indexed levels when calculating the the best fit tier, but this would require an API change, although it could be made backwards compatible quite easily.&lt;/p&gt;

&lt;p&gt;Any thoughts on the preferred approach?&lt;/p&gt;</comment>
                    <comment id="12795857" author="gsingers" created="Sat, 2 Jan 2010 12:38:55 +0000"  >&lt;p&gt;I think the API should pass in the max range it supports and then bestFit could just do a min on the two as the last step.&lt;/p&gt;</comment>
                    <comment id="12795859" author="cmale" created="Sat, 2 Jan 2010 13:00:59 +0000"  >&lt;p&gt;I agree.  I will build a patch to that effect unless there are any other alternatives.&lt;/p&gt;</comment>
                    <comment id="12851013" author="gsingers" created="Mon, 29 Mar 2010 18:29:21 +0100"  >&lt;p&gt;Note, this bug exists for the &quot;min&quot; case too, that is when a distance is too large&lt;/p&gt;</comment>
                    <comment id="12851023" author="gsingers" created="Mon, 29 Mar 2010 18:52:18 +0100"  >&lt;p&gt;Here&apos;s a patch.  All tests still pass.&lt;/p&gt;</comment>
                    <comment id="12851043" author="gsingers" created="Mon, 29 Mar 2010 19:41:13 +0100"  >&lt;p&gt;Committed revision 928860 w/ the patch above plus some more javadocs.  I&apos;ll leave open for a day or so in case anyone has quibbles about the names of things.&lt;/p&gt;</comment>
                    <comment id="12856795" author="nicolas.helleringer" created="Wed, 14 Apr 2010 09:23:18 +0100"  >&lt;p&gt;My work @ &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2359&quot; title=&quot;CartesianPolyFilterBuilder doesn&amp;#39;t handle edge case around the 180 meridian&quot;&gt;&lt;del&gt;LUCENE-2359&lt;/del&gt;&lt;/a&gt; did break Grant work here :s&lt;/p&gt;

&lt;p&gt;Here is a patch to correct this.&lt;/p&gt;

&lt;p&gt;I put the logic into the CartesianTierPlotter instead of the CartesianPolyFilterBuilder as there was allready code to handle Tier level borders there.&lt;/p&gt;</comment>
                    <comment id="12856857" author="gsingers" created="Wed, 14 Apr 2010 13:22:29 +0100"  >&lt;p&gt;Thanks, Nicolas.  Applied.&lt;/p&gt;</comment>
                    <comment id="12926275" author="rcmuir" created="Fri, 29 Oct 2010 14:14:54 +0100"  >&lt;p&gt;reopening for possible 2.9.4/3.0.3 backport.&lt;/p&gt;

&lt;p&gt;I noticed it has a warning that it changes the APIs... someone who knows spatial please help decide if its a good or bad idea!&lt;/p&gt;</comment>
                    <comment id="12932474" author="nicolas.helleringer" created="Tue, 16 Nov 2010 14:21:38 +0000"  >&lt;p&gt;The comment is here since the early version of local lucene by Patrick O&apos;Leary&lt;/p&gt;

&lt;p&gt;It is still meaningfull as the spatial contrib is still under work and could break current indexes (if we change at last the Sinusoidal Projector implemtation)&lt;/p&gt;</comment>
                    <comment id="12964469" author="thetaphi" created="Sat, 27 Nov 2010 23:25:34 +0000"  >&lt;p&gt;Resolving again as this issue will not be backported to 2.9/3.0 branches.&lt;/p&gt;</comment>
                    <comment id="13013360" author="gsingers" created="Wed, 30 Mar 2011 16:50:04 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12441701" name="ASF.LICENSE.NOT.GRANTED--LUCENE-2184.2.patch" size="2912" author="nicolas.helleringer" created="Wed, 14 Apr 2010 09:23:18 +0100" />
                    <attachment id="12440083" name="LUCENE-2184.patch" size="6346" author="gsingers" created="Mon, 29 Mar 2010 18:52:18 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 29 Dec 2009 16:50:00 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11602</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25541</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>