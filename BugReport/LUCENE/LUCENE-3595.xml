<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:08:24 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3595/LUCENE-3595.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3595] Refactor FieldCacheRangeFilter.FieldCacheDocIdSet to be separate class and fix the dangerous matchDoc() throws AIOOBE requirement</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3595</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Followup from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3593&quot; title=&quot;Add a filter returning all document without a value in a field&quot;&gt;&lt;del&gt;LUCENE-3593&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
The FieldCacheRangeFilter.FieldCacheDocIdSet class has a strange requirement on the abstract matchDoc(): It should throw AIOOBE if the docId is &amp;gt; maxDoc. This check should be done by caller as especially on trunk, e.g. FieldCacheTermsFilter does not seem to always throw this exception correctly (getOrd() is a method and no array in TermsIndex cache).&lt;/p&gt;

&lt;p&gt;Also in 3.x the Filter does not correctly respect deletions when a FieldCache based on a reopened reader is used.&lt;/p&gt;

&lt;p&gt;This issue will refactor this and fix the bugs and moves the docId check up to the iterator.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12532661">LUCENE-3595</key>
            <summary>Refactor FieldCacheRangeFilter.FieldCacheDocIdSet to be separate class and fix the dangerous matchDoc() throws AIOOBE requirement</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Nov 2011 23:29:21 +0000</created>
                <updated>Fri, 10 May 2013 11:43:33 +0100</updated>
                    <resolved>Fri, 25 Nov 2011 02:12:58 +0000</resolved>
                                            <fixVersion>3.6</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13156947" author="thetaphi" created="Fri, 25 Nov 2011 00:55:31 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                    <comment id="13156948" author="thetaphi" created="Fri, 25 Nov 2011 00:57:26 +0000"  >&lt;p&gt;Previous patch had missing &quot;else&quot;.&lt;/p&gt;</comment>
                    <comment id="13156952" author="thetaphi" created="Fri, 25 Nov 2011 01:21:05 +0000"  >&lt;p&gt;Final patch for trunk, will commit now and backport.&lt;/p&gt;</comment>
                    <comment id="13156953" author="thetaphi" created="Fri, 25 Nov 2011 01:22:17 +0000"  >&lt;p&gt;Committed trunk revision: 1206033&lt;br/&gt;
Now backporting.&lt;/p&gt;</comment>
                    <comment id="13156955" author="thetaphi" created="Fri, 25 Nov 2011 01:56:32 +0000"  >&lt;p&gt;Patch for Lucene 3.x. This also fixes the TODO in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3593&quot; title=&quot;Add a filter returning all document without a value in a field&quot;&gt;&lt;del&gt;LUCENE-3593&lt;/del&gt;&lt;/a&gt; (respects deleted docs for the FixedBitSet case).&lt;/p&gt;</comment>
                    <comment id="13156959" author="thetaphi" created="Fri, 25 Nov 2011 02:10:04 +0000"  >&lt;p&gt;Improvements. Ready to commit.&lt;/p&gt;</comment>
                    <comment id="13156961" author="thetaphi" created="Fri, 25 Nov 2011 02:12:58 +0000"  >&lt;p&gt;Committed 3.x revision: 1206040&lt;/p&gt;</comment>
                    <comment id="13157148" author="thetaphi" created="Fri, 25 Nov 2011 13:30:15 +0000"  >&lt;p&gt;I committed a change in trunk branch to do the acceptDocs check after the matchDoc() to be consistent with other implementations. This should also be faster as bit twiddling is only done when a match was found.&lt;/p&gt;

&lt;p&gt;At revision: 1206155&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12532656">LUCENE-3593</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12505052" name="LUCENE-3595-3x.patch" size="22603" author="thetaphi" created="Fri, 25 Nov 2011 02:10:03 +0000" />
                    <attachment id="12505051" name="LUCENE-3595-3x.patch" size="22747" author="thetaphi" created="Fri, 25 Nov 2011 01:56:32 +0000" />
                    <attachment id="12505050" name="LUCENE-3595-trunk.patch" size="16772" author="thetaphi" created="Fri, 25 Nov 2011 01:21:05 +0000" />
                    <attachment id="12505048" name="LUCENE-3595-trunk.patch" size="15891" author="thetaphi" created="Fri, 25 Nov 2011 00:57:25 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>218395</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24102</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>