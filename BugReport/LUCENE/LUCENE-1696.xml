<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:17:56 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1696/LUCENE-1696.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1696] Added New Token API impl for ASCIIFoldingFilter</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1696</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I added an implementation of incrementToken to ASCIIFoldingFilter.java and extended the existing  testcase for it.&lt;br/&gt;
I will attach the patch shortly.&lt;br/&gt;
Beside this improvement I would like to start up a small discussion about this filter. ASCIIFoldingFitler is meant to be a replacement for ISOLatin1AccentFilter which is quite nice as it covers a superset of the latter. I have used this filter quite often but never on a as it is basis. In the most cases this filter does the correct thing (replace a special char with its ascii correspondent) but in some cases like for German umlaut it does not return the expected result. A german umlaut  like &apos;&#228;&apos; does not translate to a but rather to &apos;ae&apos;. I would like to change this but I&apos;n not 100% sure if that is expected by all users of that filter. Another way of doing it would be to make it configurable with a flag. This would not affect performance as we only check if such a umlaut char is found. &lt;br/&gt;
Further it would be really helpful if that filter could &quot;inject&quot; the original/unmodified token with the same position increment into the token stream on demand. I think its a valid use-case to index the modified and unmodified token. For instance, the german word &quot;s&#252;d&quot; would be folded to &quot;sud&quot;. In a query q:(s&#252;d) the filter would also fold to sud and therefore find sud which has a totally different meaning. Folding works quite well but for special cases would could add those options to make users life easier. The latter could be done in a subclass while the umlaut problem should be fixed in the base class.&lt;/p&gt;

&lt;p&gt;simon &lt;/p&gt;</description>
                <environment></environment>
            <key id="12428010">LUCENE-1696</key>
            <summary>Added New Token API impl for ASCIIFoldingFilter</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2009 15:35:30 +0100</created>
                <updated>Fri, 24 Jul 2009 23:51:00 +0100</updated>
                    <resolved>Fri, 24 Jul 2009 23:51:00 +0100</resolved>
                            <version>2.9</version>
                                <fixVersion>2.9</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12720155" author="simonw" created="Tue, 16 Jun 2009 15:35:49 +0100"  >&lt;p&gt;all tests pass&lt;/p&gt;</comment>
                    <comment id="12720173" author="rcmuir" created="Tue, 16 Jun 2009 15:56:08 +0100"  >&lt;p&gt;Simon, I think if you want to handle accents in a language-dependent/correct way, you can use contrib/collation for this purpose.&lt;/p&gt;

&lt;p&gt;i don&apos;t see an alternative, otherwise you will end out with 50-100 sets of language-dependent rules &lt;span class=&quot;error&quot;&gt;&amp;#91;essentially duplicating the logic collation already knows about&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                    <comment id="12720183" author="rcmuir" created="Tue, 16 Jun 2009 16:12:13 +0100"  >&lt;p&gt;i uploaded a testcase under &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1581&quot; title=&quot;LowerCaseFilter should be able to be configured to use a specific locale.&quot;&gt;&lt;del&gt;LUCENE-1581&lt;/del&gt;&lt;/a&gt; showing how this works with contrib/collation.&lt;/p&gt;</comment>
                    <comment id="12720189" author="simonw" created="Tue, 16 Jun 2009 16:29:16 +0100"  >&lt;blockquote&gt;&lt;p&gt;i don&apos;t see an alternative, otherwise you will end out with 50-100 sets of language-dependent rules &lt;span class=&quot;error&quot;&gt;&amp;#91;essentially duplicating the logic collation already knows about&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree, that this would end up in a mess. Still collation is not an option as I can not rely on the local in that use-case.&lt;br/&gt;
I might have to stick with my changes for umlauts at least. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12720190" author="rcmuir" created="Tue, 16 Jun 2009 16:33:58 +0100"  >&lt;p&gt;show how to do this with german... its a bit more involved since its non-standard collation behavior, but not too difficult.&lt;/p&gt;

&lt;p&gt;you can do this with the jdk version too, i always show the ICU implementation because of its performance. both are available in contrib/collation&lt;/p&gt;</comment>
                    <comment id="12720192" author="simonw" created="Tue, 16 Jun 2009 16:38:15 +0100"  >&lt;p&gt;Thanks robert,&lt;br/&gt;
I did know about collation before and I validated it for the usecase - I do not know what language / local my docs are so I can not set the correct one. Nevermind. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12720193" author="rcmuir" created="Tue, 16 Jun 2009 16:40:16 +0100"  >&lt;p&gt;simon, actually i think its documented you can use ENGLISH collator and it will behave like asciifolding filter (simply remove all diacritics).&lt;br/&gt;
you could then apply the tailorings like the example and get the behavior you want, versus maintaining a custom asciifoldingfilter...&lt;/p&gt;</comment>
                    <comment id="12720197" author="simonw" created="Tue, 16 Jun 2009 16:43:36 +0100"  >
&lt;blockquote&gt;&lt;p&gt;simon, actually i think its documented you can use ENGLISH collator and it will behave like asciifolding filter (simply remove all diacritics).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;you could then apply the tailorings like the example and get the behavior you want, versus maintaining a custom asciifoldingfilter... &lt;br/&gt;
will try, thanks!&lt;/p&gt;</comment>
                    <comment id="12720201" author="rcmuir" created="Tue, 16 Jun 2009 16:57:30 +0100"  >&lt;p&gt;since this seems to be a recurring theme maybe a javadoc modification would be useful.&lt;/p&gt;

&lt;p&gt;otherwise i imagine you might receive lots of bug reports saying &apos;asciifoldingfilter does X for Y language incorrectly&apos;.&lt;/p&gt;

&lt;p&gt;part of the confusion might be because the docs say it &apos;converts to their ASCII equivalents&apos; and &apos;equivalent&apos; means different things to different people in different languages...&lt;/p&gt;</comment>
                    <comment id="12721054" author="markrmiller@gmail.com" created="Thu, 18 Jun 2009 05:40:48 +0100"  >&lt;p&gt;Patch looks good! I&apos;ll just hold off till the token api improvement patch is finished, just in case we need to make an adjustment here.&lt;/p&gt;</comment>
                    <comment id="12721116" author="simonw" created="Thu, 18 Jun 2009 08:55:28 +0100"  >&lt;p&gt;I will be around and fix / adjust it if it needs some changes. If I do not react please send me a ping on this issue. Thanks&lt;/p&gt;</comment>
                    <comment id="12730866" author="thetaphi" created="Tue, 14 Jul 2009 15:22:53 +0100"  >&lt;p&gt;I already iplmeneted the new API in this filter for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1693&quot; title=&quot;AttributeSource/TokenStream API improvements&quot;&gt;&lt;del&gt;LUCENE-1693&lt;/del&gt;&lt;/a&gt;. Patch will come shortly together with this issue.&lt;/p&gt;

&lt;p&gt;The old API can be removed, the filter is now final and so next() and nextToken() can be left unimplemented.&lt;/p&gt;</comment>
                    <comment id="12730867" author="markrmiller@gmail.com" created="Tue, 14 Jul 2009 15:26:02 +0100"  >&lt;p&gt;Heh - hate to sound like a broken record, but: making this class final breaks back compat?&lt;/p&gt;</comment>
                    <comment id="12730868" author="thetaphi" created="Tue, 14 Jul 2009 15:28:10 +0100"  >&lt;p&gt;No, it is a new class in 2.9 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ASCIIFoldingFilter is not in 2.4.1&lt;/p&gt;</comment>
                    <comment id="12730870" author="markrmiller@gmail.com" created="Tue, 14 Jul 2009 15:30:37 +0100"  >&lt;p&gt;Ah, thanks. Thats hard to keep track of. It feels like I committed this so long ago that it couldn&apos;t possibly be new &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12735197" author="thetaphi" created="Fri, 24 Jul 2009 23:51:00 +0100"  >&lt;p&gt;Resolved with &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1693&quot; title=&quot;AttributeSource/TokenStream API improvements&quot;&gt;&lt;del&gt;LUCENE-1693&lt;/del&gt;&lt;/a&gt;. Thanks Simon for the original patch!&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10032">
                <name>Blocker</name>
                                                <inwardlinks description="is blocked by">
                            <issuelink>
            <issuekey id="12427984">LUCENE-1693</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12410814" name="ASCIIFoldingFilter._newTokenAPI.patch" size="15345" author="simonw" created="Tue, 16 Jun 2009 15:35:49 +0100" />
                    <attachment id="12410821" name="TestGermanCollation.java" size="2177" author="rcmuir" created="Tue, 16 Jun 2009 16:33:58 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 16 Jun 2009 14:56:08 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12062</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26030</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>