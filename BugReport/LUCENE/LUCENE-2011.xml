<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:58:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2011/LUCENE-2011.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2011] Remove deprecated Scorer.explain(int) method</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2011</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This is the only remaining deprecation in core, but is not so easy to handle, because lot&apos;s of code in core still uses the explain() method in Scorer. So e.g. in PhraseQuery, the explain method has to be moved from Scorer to the Weight.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12439158">LUCENE-2011</key>
            <summary>Remove deprecated Scorer.explain(int) method</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Oct 2009 11:18:58 +0000</created>
                <updated>Thu, 2 May 2013 03:29:24 +0100</updated>
                    <resolved>Tue, 27 Oct 2009 22:30:03 +0000</resolved>
                                            <fixVersion>3.0</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12770492" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 13:25:24 +0000"  >&lt;p&gt;I think I&apos;ve everything but the PhraseQuery issue - thats a tough one though, and extends to MultiPhraseQuery and SpanQuery.&lt;/p&gt;</comment>
                    <comment id="12770498" author="thetaphi" created="Tue, 27 Oct 2009 13:32:11 +0000"  >&lt;p&gt;I have a patch here which moves the explain part from the scorer to the weight. Almost all test pass, only a few. I can post this here, and maybe you fix the rmaining issues.&lt;/p&gt;</comment>
                    <comment id="12770500" author="thetaphi" created="Tue, 27 Oct 2009 13:34:03 +0000"  >&lt;p&gt;Only TestPayloadTermQuery fails with wrong explanations.&lt;/p&gt;

&lt;p&gt;This patch also adds lots of @Override, because only by this I can test that I do not override a no longer available method.&lt;/p&gt;</comment>
                    <comment id="12770502" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 13:35:04 +0000"  >&lt;p&gt;&lt;b&gt;cough&lt;/b&gt; hack &lt;b&gt;cough&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;If we went this way, we should prob also hack termweight#explain too so that i can still use the cache.&lt;/p&gt;</comment>
                    <comment id="12770504" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 13:36:33 +0000"  >&lt;p&gt;Okay, Uwe - perhaps we can merge and get something nice - I didn&apos;t do anything with contrib with my patch as well.&lt;/p&gt;</comment>
                    <comment id="12770505" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 13:40:48 +0000"  >&lt;p&gt;Okay, nice - looks like we are pretty similar - you just pulled some more cruft that I didn&apos;t and pulled the phrasequery/spanquery stuff up a level it looks. My hack was to keep them were they are, make them package private, and just cast the scorer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;d say lets go with your patch and just fix that test.&lt;/p&gt;</comment>
                    <comment id="12770507" author="thetaphi" created="Tue, 27 Oct 2009 13:45:28 +0000"  >&lt;p&gt;An updated patch, I added the termDocs==null case in the TermQuery explanation (you did it correctly).&lt;/p&gt;

&lt;p&gt;If you can somehow fix the PayloadTermQuery, I would be happy. By the way, I have to cast the scorers, too, to get the current freq value (I added a method to these scorers to get them).&lt;/p&gt;</comment>
                    <comment id="12770508" author="thetaphi" created="Tue, 27 Oct 2009 13:47:41 +0000"  >&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;cough&lt;/b&gt; hack &lt;b&gt;cough&lt;/b&gt;.&lt;br/&gt;
If we went this way, we should prob also hack termweight#explain too so that i can still use the cache.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The cache was of no use for TermWeight.explain, because the explain method created a new Scorer.&lt;/p&gt;</comment>
                    <comment id="12770509" author="thetaphi" created="Tue, 27 Oct 2009 13:48:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d say lets go with your patch and just fix that test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is the test wrong or my code?&lt;/p&gt;</comment>
                    <comment id="12770524" author="thetaphi" created="Tue, 27 Oct 2009 14:31:11 +0000"  >&lt;p&gt;I reanimated the TestNearSpan test. TestTermScorer.testExplain cannot be reanimated, because it tests the lower level tfExplanation only and it is not easy to get from the Weight.&lt;/p&gt;

&lt;p&gt;Contrib builds and tests without problems.&lt;/p&gt;

&lt;p&gt;So only one failing test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12770525" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 14:33:23 +0000"  >&lt;p&gt;Its because of the loss of whats going on in PayloadTermQuery - we also lose some custom info from PayloadNearQuery - on first blush it seems best just to leave the exp in the scorer for Span queries - its still gone from Scorer so I don&apos;t see it as much of a problem myself - havn&apos;t thought on it much yet though.&lt;/p&gt;

&lt;p&gt;I guess we could pull all that custom info up to the weight through the span/payload stuff - but then each has to duplicate a bunch of the info from the SpanWeight - it seems nicer just to leave things as they are, let the Scorer do it, and cast. What do you think?&lt;/p&gt;</comment>
                    <comment id="12770526" author="thetaphi" created="Tue, 27 Oct 2009 14:38:14 +0000"  >&lt;p&gt;Looks good. I also thought about it and I also think, whe should just leave an explain() in SpanScorer, maybe we should make it package-protected or protected, because it is no longer public.&lt;/p&gt;

&lt;p&gt;In my last patch I only reanimated the TestNearSpan test.&lt;/p&gt;</comment>
                    <comment id="12770530" author="thetaphi" created="Tue, 27 Oct 2009 14:47:47 +0000"  >&lt;p&gt;Added the test to your patch.&lt;/p&gt;

&lt;p&gt;I also made explain() in SpanScorer protected.&lt;/p&gt;</comment>
                    <comment id="12770532" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 14:55:22 +0000"  >&lt;p&gt;Nice on protected - i wanted to package private it, but couldnt because of the payloads package - good call.&lt;/p&gt;</comment>
                    <comment id="12770533" author="thetaphi" created="Tue, 27 Oct 2009 14:57:44 +0000"  >&lt;p&gt;...had the same idea - and problem.&lt;/p&gt;</comment>
                    <comment id="12770536" author="thetaphi" created="Tue, 27 Oct 2009 15:10:03 +0000"  >&lt;p&gt;Attached the backwards branch patch.&lt;/p&gt;</comment>
                    <comment id="12770585" author="thetaphi" created="Tue, 27 Oct 2009 17:27:12 +0000"  >&lt;p&gt;All tests pass, I think it is now ready to commit. Will commit in a day.&lt;/p&gt;</comment>
                    <comment id="12770682" author="thetaphi" created="Tue, 27 Oct 2009 22:30:03 +0000"  >&lt;p&gt;Committed revision: 830377&lt;/p&gt;

&lt;p&gt;Thanks Mark!&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12437819">LUCENE-1973</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12423326" name="LUCENE-2011-bw.patch" size="3521" author="thetaphi" created="Tue, 27 Oct 2009 15:10:03 +0000" />
                    <attachment id="12423325" name="LUCENE-2011.patch" size="37608" author="thetaphi" created="Tue, 27 Oct 2009 14:47:47 +0000" />
                    <attachment id="12423324" name="LUCENE-2011.patch" size="34673" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 14:33:23 +0000" />
                    <attachment id="12423323" name="LUCENE-2011.patch" size="40611" author="thetaphi" created="Tue, 27 Oct 2009 14:31:11 +0000" />
                    <attachment id="12423322" name="LUCENE-2011.patch" size="40756" author="thetaphi" created="Tue, 27 Oct 2009 13:45:28 +0000" />
                    <attachment id="12423320" name="LUCENE-2011.patch" size="18207" author="markrmiller@gmail.com" created="Tue, 27 Oct 2009 13:35:04 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>6.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 27 Oct 2009 13:25:24 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11762</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25714</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>