<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:31:28 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3645/LUCENE-3645.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3645] Remove unnecessary array wrapping when calling varargs methods</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3645</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;varargs method callers don&apos;t have to wrap args in arrays&lt;/p&gt;</description>
                <environment></environment>
            <key id="12535041">LUCENE-3645</key>
            <summary>Remove unnecessary array wrapping when calling varargs methods</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="steve_rowe">Steve Rowe</assignee>
                                <reporter username="steve_rowe">Steve Rowe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2011 21:51:06 +0000</created>
                <updated>Fri, 10 May 2013 11:44:52 +0100</updated>
                    <resolved>Wed, 14 Dec 2011 19:36:13 +0000</resolved>
                            <version>3.5</version>
                <version>4.0-ALPHA</version>
                                <fixVersion>3.6</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13168815" author="steve_rowe" created="Tue, 13 Dec 2011 22:58:12 +0000"  >&lt;p&gt;Patches implementing the idea (thanks to IntelliJ&apos;s &quot;Redundant array creation&quot; inspection that found all these).&lt;/p&gt;

&lt;p&gt;In branch_3x, I didn&apos;t change anything under &lt;tt&gt;lucene/backwards/&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Also converted one &lt;tt&gt;Arrays.asList(new Integer[0])&lt;/tt&gt; to &lt;tt&gt;Collections.emptyList()&lt;/tt&gt;, and several &lt;tt&gt;Arrays.asList(new CLASS[] { ... })&lt;/tt&gt; to &lt;tt&gt;Arrays.&amp;lt;CLASS&amp;gt;asList(...)&lt;/tt&gt;.&lt;/p&gt;</comment>
                    <comment id="13168865" author="rcmuir" created="Tue, 13 Dec 2011 23:32:00 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Also converted one Arrays.asList(new Integer&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) to Collections.emptyList()&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But these are different right? specifically the first is mutable but the latter is immutable?&lt;/p&gt;</comment>
                    <comment id="13169058" author="steve_rowe" created="Wed, 14 Dec 2011 03:48:50 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Also converted one Arrays.asList(new Integer&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) to Collections.emptyList()&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But these are different right? specifically the first is mutable but the latter is immutable?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm, I hadn&apos;t considered that.  Ordinarily I might argue that for a test of sorting an empty list, immutability is not a problem.&lt;/p&gt;

&lt;p&gt;However, &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2989&quot; title=&quot;TestCollectionUtil fails on IBM JRE&quot;&gt;&lt;del&gt;LUCENE-2989&lt;/del&gt;&lt;/a&gt; switched this exact line &lt;b&gt;away&lt;/b&gt; from &lt;tt&gt;Collections.emptyList()&lt;/tt&gt; to what it is now.&lt;/p&gt;

&lt;p&gt;So in this version of the branch_3x patch I&apos;ve reverted that change and added a comment pointing to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2989&quot; title=&quot;TestCollectionUtil fails on IBM JRE&quot;&gt;&lt;del&gt;LUCENE-2989&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    <comment id="13169217" author="thetaphi" created="Wed, 14 Dec 2011 09:07:19 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Also converted one Arrays.asList(new Integer&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) to Collections.emptyList()&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;But these are different right? specifically the first is mutable but the latter is immutable?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Immutability is not a problem, an empty array cannot change.&lt;/p&gt;

&lt;p&gt;The answer is correct, the IBM JDK has a bug, making the Collection&apos;s.emptyList() not implement RandomAccess. Can you add a comment, if not already there?&lt;/p&gt;</comment>
                    <comment id="13169219" author="thetaphi" created="Wed, 14 Dec 2011 09:09:25 +0000"  >&lt;p&gt;And thats not the only bug in IBM JDK. Several version don&apos;t even run trunk tests, because ServiceLoader is mixing up the classpath &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;it uses broken Harmony code&amp;#93;&lt;/span&gt; and the RW codec comes after the core codecs.&lt;/p&gt;</comment>
                    <comment id="13169227" author="thetaphi" created="Wed, 14 Dec 2011 09:25:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;So in this version of the branch_3x patch I&apos;ve reverted that change and added a comment pointing to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2989&quot; title=&quot;TestCollectionUtil fails on IBM JRE&quot;&gt;&lt;del&gt;LUCENE-2989&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This also affects trunk, the trunk patch still contains emptyList().&lt;/p&gt;</comment>
                    <comment id="13169398" author="steve_rowe" created="Wed, 14 Dec 2011 14:35:45 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;So in this version of the branch_3x patch I&apos;ve reverted that change and added a comment pointing to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2989&quot; title=&quot;TestCollectionUtil fails on IBM JRE&quot;&gt;&lt;del&gt;LUCENE-2989&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This also affects trunk, the trunk patch still contains emptyList().&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks, I forgot that.&lt;/p&gt;

&lt;p&gt;This version of the trunk patch puts back emptyList() and adds the &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2989&quot; title=&quot;TestCollectionUtil fails on IBM JRE&quot;&gt;&lt;del&gt;LUCENE-2989&lt;/del&gt;&lt;/a&gt; comment.&lt;/p&gt;

&lt;p&gt;I plan on committing later today.&lt;/p&gt;</comment>
                    <comment id="13169610" author="steve_rowe" created="Wed, 14 Dec 2011 19:36:13 +0000"  >&lt;p&gt;Committed to branch_3x and trunk.&lt;/p&gt;</comment>
                    <comment id="13169612" author="steve_rowe" created="Wed, 14 Dec 2011 19:37:03 +0000"  >&lt;p&gt;Thanks Uwe and Robert for your reviews.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12507301" name="LUCENE-3645-branch_3x.patch" size="43110" author="steve_rowe" created="Wed, 14 Dec 2011 03:48:50 +0000" />
                    <attachment id="12507261" name="LUCENE-3645-branch_3x.patch" size="42815" author="steve_rowe" created="Tue, 13 Dec 2011 22:58:12 +0000" />
                    <attachment id="12507358" name="LUCENE-3645-trunk.patch" size="12383" author="steve_rowe" created="Wed, 14 Dec 2011 14:35:45 +0000" />
                    <attachment id="12507260" name="LUCENE-3645-trunk.patch" size="12362" author="steve_rowe" created="Tue, 13 Dec 2011 22:58:12 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 13 Dec 2011 23:32:00 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>220726</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24053</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>