<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:17 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1728/LUCENE-1728.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1728] Move SmartChineseAnalyzer &amp; resources to own contrib project</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1728</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;SmartChineseAnalyzer depends on  a large dictionary that causes the analyzer jar to grow up to 3MB. The dictionary is quite big compared to all the other resouces / class files contained in that jar. &lt;br/&gt;
Having a separate analyzer-cn contrib project enables footprint-sensitive users (e.g. using lucene on a mobile phone) to include analyzer.jar without getting into trouble with disk space.&lt;/p&gt;

&lt;p&gt;Moving SmartChineseAnalyzer to a separate project could also include a small refactoring as Robert mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1722&quot; class=&quot;external-link&quot;&gt;LUCENE-1722&lt;/a&gt; several classes should be package protected, members and classes could be final, commented syserr and logging code should be removed etc.&lt;/p&gt;

&lt;p&gt;I set this issue target to 2.9 - if we can not make it until then feel free to move it to 3.0&lt;/p&gt;</description>
                <environment></environment>
            <key id="12429308">LUCENE-1728</key>
            <summary>Move SmartChineseAnalyzer &amp; resources to own contrib project</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jul 2009 18:38:26 +0100</created>
                <updated>Mon, 16 May 2011 19:15:39 +0100</updated>
                    <resolved>Thu, 23 Jul 2009 18:12:55 +0100</resolved>
                                            <fixVersion>2.9</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12726155" author="rcmuir" created="Wed, 1 Jul 2009 19:00:21 +0100"  >&lt;p&gt;Simon, what do you think about name for the new folder?&lt;/p&gt;

&lt;p&gt;I am concerned users will be confused between analyzers/cjk, analyzers/cn and analyzer-cn, all of which are different.&lt;br/&gt;
Should we name the new package analyzer-cnhmm or something to help clarify it? &lt;br/&gt;
I intend to also add a little wordage to the javadocs to help disambiguate this, whatever we decide to name it.&lt;/p&gt;

&lt;p&gt;thanks &lt;/p&gt;</comment>
                    <comment id="12726184" author="simonw" created="Wed, 1 Jul 2009 19:58:41 +0100"  >&lt;blockquote&gt;&lt;p&gt;I am concerned users will be confused between analyzers/cjk, analyzers/cn and analyzer-cn, all of which are different. Should we name the new package analyzer-cnhmm or something to help clarify it? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The name analyzer-cn was just an example though but I don&apos;t like analyzer-cnhmm. Whats about analyzer-smartcn?  Definitly +1 for a less ambigious name.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I intend to also add a little wordage to the javadocs to help disambiguate this, whatever we decide to name it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12726187" author="rcmuir" created="Wed, 1 Jul 2009 20:08:02 +0100"  >&lt;p&gt;Simon, analyzer-smartcn works, and its consistent with the name of the analyzer.&lt;/p&gt;

&lt;p&gt;If i &quot;svn move&quot; the files in my local, and submit a patch, will it ensure that history is preserved? I am not an svn expert.&lt;/p&gt;</comment>
                    <comment id="12726314" author="simonw" created="Thu, 2 Jul 2009 05:13:01 +0100"  >&lt;blockquote&gt;&lt;p&gt;If i &quot;svn move&quot; the files in my local, and submit a patch, will it ensure that history is preserved? I am not an svn expert.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No. an svn copy (or svn move) will not be reflected in a patch. If you &quot;svn move A B&quot; and create a patch from your local WC the history of A will be lost. I guess I should do the moveing and commit it,  the refactoring should be done afterwards. Would that make sense to you?!&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12726319" author="rcmuir" created="Thu, 2 Jul 2009 06:19:01 +0100"  >&lt;p&gt;simon, i think i&apos;ve almost got it ready. i&apos;ve got a set of svn move&apos;s etc you can run first, then a patch to apply over it. &lt;/p&gt;

&lt;p&gt;this way also the patch only reflects the real changes, and you can review what these are before changing anything in SVN... &lt;/p&gt;

&lt;p&gt;i&apos;ll upload it soon... &lt;/p&gt;</comment>
                    <comment id="12726354" author="thetaphi" created="Thu, 2 Jul 2009 07:44:45 +0100"  >&lt;p&gt;After creating the new contrib, do not forget to add the javadocs generation of the &quot;all/&quot; subdir in the main build.xml! Also new contribs should be added to the developers part in the site docs and so on. I can do that if you like after committing the whole thing (I have done it several times the last months for spatial, trie,...).&lt;/p&gt;

&lt;p&gt;Another idea: We can do it without creating a new contrib, instead do it like the contrib-bdb, which consists of 2 sub-contribs. Here the contrib folder of bdb is divided into two sub-folders, the build.xml of the main folder is just a &quot;delegator&quot; (or how you would call it) and delegates the ant targets to the build.xmls in the sub-folders. Using this approach we would still have only one contrib-analyzers main folder with two subdirs, which are two separate contribs modules (like the two bdb ones), but are in one folder.&lt;/p&gt;

&lt;p&gt;This approach is only good for source code, the user still gets the jar files in the main build folder directly under contrib. So I am not sure, if this is really better than two really separate contribs.&lt;/p&gt;</comment>
                    <comment id="12726362" author="simonw" created="Thu, 2 Jul 2009 08:14:50 +0100"  >&lt;blockquote&gt;&lt;p&gt;After creating the new contrib, do not forget to add the javadocs generation of the &quot;all/&quot; subdir in the main build.xml! Also new contribs should be added to the developers part in the site docs and so on. I can do that if you like after committing the whole thing (I have done it several times the last months for spatial, trie,...). &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Uwe, I will not be able to commit those changes I guess. This reminds me that contrib commiters should have access to those files too. Once I get this change in I will notify you with a patch so you can get it in.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This approach is only good for source code, the user still gets the jar files in the main build folder directly under contrib. So I am not sure, if this is really better than two really separate contribs.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I really like this approach as it keeps the code logically consistent. I think we should go for this approach, that makes much more sense to me.&lt;/p&gt;</comment>
                    <comment id="12726453" author="rcmuir" created="Thu, 2 Jul 2009 13:10:57 +0100"  >&lt;blockquote&gt;&lt;p&gt;I really like this approach as it keeps the code logically consistent. I think we should go for this approach, that makes much more sense to me.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Simon, are you referring to Uwe&apos;s approach of splitting the analyzers contrib into two, or your (previous) approach of analyzer-smartcn contrib? &lt;/p&gt;</comment>
                    <comment id="12726456" author="simonw" created="Thu, 2 Jul 2009 13:21:17 +0100"  >&lt;blockquote&gt;&lt;p&gt;Simon, are you referring to Uwe&apos;s approach of splitting the analyzers contrib into two, or your (previous) approach of analyzer-smartcn contrib?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I refer to Uwe&apos;s approach.&lt;/p&gt;</comment>
                    <comment id="12726458" author="rcmuir" created="Thu, 2 Jul 2009 13:36:34 +0100"  >&lt;p&gt;great, I like this too. any preference on names? contrib/analyzers/analyzers and contrib/analyzers/smartcn? &lt;/p&gt;

&lt;p&gt;once we figure that out i can create updated set of svn moves + patch for this approach&lt;/p&gt;</comment>
                    <comment id="12726818" author="simonw" created="Fri, 3 Jul 2009 08:55:02 +0100"  >&lt;blockquote&gt;&lt;p&gt;contrib/analyzers/analyzers and contrib/analyzers/smartcn? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 &lt;/p&gt;

&lt;p&gt;go ahead!&lt;/p&gt;</comment>
                    <comment id="12727379" author="rcmuir" created="Mon, 6 Jul 2009 03:01:02 +0100"  >&lt;p&gt;Simon, below is the method I used to do the refactoring with this patch.&lt;br/&gt;
I know I am pressing the limits of what is a &quot;refactoring&quot; but in my opinion, this minor cleanup was necessary to prevent internal structures from being exposed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Use of two Tokenizers in the same analyzer was confusing, WordTokenizer is now a TokenFilter.&lt;/li&gt;
	&lt;li&gt;Analyzer uses the standard WordListLoader rather than custom stuff.&lt;/li&gt;
	&lt;li&gt;Rather than force SmartChineseAnalyzer to keep track of internal heavyweight structures, it implements reusableTokenStream, etc.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added a few tests to ensure I didn&apos;t break anything in the SmartChineseAnalyzer.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;## 1. clean svn checkout
## 2. run the following commands to refactor the files.

mkdir -p contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn contrib/analysis/smartcn/src/test/org/apache/lucene/analysis/cn contrib/analysis/smartcn/src/resources/org/apache/lucene/analysis/cn
svn add contrib/analysis
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/SmartChineseAnalyzer.java contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart/hhmm/* contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart/*.java contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn
svn delete contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart
svn move contrib/analyzers/src/test/org/apache/lucene/analysis/cn/TestSmartChineseAnalyzer.java contrib/analysis/smartcn/src/test/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/resources/org/apache/lucene/analysis/cn/stopwords.txt contrib/analysis/smartcn/src/resources/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/resources/org/apache/lucene/analysis/cn/smart/hhmm/* contrib/analysis/smartcn/src/resources/org/apache/lucene/analysis/cn
svn delete contrib/analyzers/src/resources/org/apache/lucene/analysis/cn
svn move contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn/WordTokenizer.java contrib/analysis/smartcn/src/java/org/apache/lucene/analysis/cn/WordTokenFilter.java
svn move contrib/analyzers contrib/analysis

## 3. eclipse &quot;refresh&quot; at project level.
## 4. set text-file encoding at project level to UTF-8
## 5. manually force text-file encoding as UTF-8 for contrib/analysis/analyzers/src/java/org/apache/lucene/analysis/cn/package.html
##   this is an existing encoding issue that is corrected by this patch.
## 6. apply patch from clipboard (you may now remove the above hack and you will notice this file is now detected properly as UTF-8)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="12728264" author="simonw" created="Tue, 7 Jul 2009 19:07:46 +0100"  >&lt;p&gt;Robert, thanks for all that! I just had a brief look at it but looks good so far. I need to look over it again in the next days. &lt;br/&gt;
Plan to commit it this week.&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12731354" author="simonw" created="Wed, 15 Jul 2009 09:55:39 +0100"  >&lt;p&gt;Robert, I don&apos;t think we should rename the directory analyzers to analysis I would rather go for analyzers/common and analyzers/smartcn or a similar scheme.&lt;/p&gt;


&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12731357" author="rcmuir" created="Wed, 15 Jul 2009 10:04:44 +0100"  >&lt;p&gt;Simon, sounds good. I will update the patch / svn commands with that scheme (hopefully in the next day or 2)&lt;/p&gt;</comment>
                    <comment id="12731360" author="simonw" created="Wed, 15 Jul 2009 10:21:16 +0100"  >&lt;p&gt;cool thanks!&lt;/p&gt;</comment>
                    <comment id="12732077" author="rcmuir" created="Thu, 16 Jul 2009 19:48:48 +0100"  >&lt;p&gt;Simon, I revised the patch. Here are the new instructions for the analyzers/common and analyzers/smartcn scheme.&lt;br/&gt;
Sorry for the delay.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
## 1. clean svn checkout
## 2. run the following commands to refactor the files.

mkdir contrib/analyzers/common
mkdir -p contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn contrib/analyzers/smartcn/src/test/org/apache/lucene/analysis/cn contrib/analyzers/smartcn/src/resources/org/apache/lucene/analysis/cn
svn add contrib/analyzers/smartcn contrib/analyzers/common
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/SmartChineseAnalyzer.java contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart/hhmm/* contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart/*.java contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn
svn delete contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart
svn move contrib/analyzers/src/test/org/apache/lucene/analysis/cn/TestSmartChineseAnalyzer.java contrib/analyzers/smartcn/src/test/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/resources/org/apache/lucene/analysis/cn/stopwords.txt contrib/analyzers/smartcn/src/resources/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/resources/org/apache/lucene/analysis/cn/smart/hhmm/* contrib/analyzers/smartcn/src/resources/org/apache/lucene/analysis/cn
svn delete contrib/analyzers/src/resources/org/apache/lucene/analysis/cn
svn move contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn/WordTokenizer.java contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn/WordTokenFilter.java
svn move contrib/analyzers/build.xml contrib/analyzers/common
svn move contrib/analyzers/pom.xml.template contrib/analyzers/common
svn move contrib/analyzers/src contrib/analyzers/common

## 3. eclipse &lt;span class=&quot;code-quote&quot;&gt;&quot;refresh&quot;&lt;/span&gt; at project level.
## 4. set text-file encoding at project level to UTF-8
## 5. manually force text-file encoding as UTF-8 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; contrib/analyzers/common/src/java/org/apache/lucene/analysis/cn/&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html
##   &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is an existing encoding issue that is corrected by &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; patch.
## 6. apply patch from clipboard (you may now remove the above hack and you will notice &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file is now detected properly as UTF-8)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="12732080" author="rcmuir" created="Thu, 16 Jul 2009 19:50:38 +0100"  >&lt;p&gt;same patch, but this time i clicked ASF license... sorry!&lt;/p&gt;</comment>
                    <comment id="12733538" author="simonw" created="Tue, 21 Jul 2009 09:52:30 +0100"  >&lt;p&gt;Robert, I have looked at this patch and more important at the source itself and I get more and more the impression that we have to do more work on this analyzer and the related classes as just moving them into one package and make everything package private. From my understanding the Hidden Markov Model Segmenter is a feature which could be replaced by some other algorithm. Once you have such a feature relationship I would prefer packages by feature which enables you to remove a single feature just by removing a whole package. &lt;br/&gt;
In other words I would love to see a general refactoring of the code which exploits a tiny but common API in the base package and is subsequently used by the HHMM &quot;feature&quot;. There is quite a bit of work to do that I do not consider 2.9 work. &lt;br/&gt;
So here is the question, do we keep the structure as it is and just move it to a new subdir to build a sep. jar or do we move them into one single package (as you did in the patch) and build up a clean HHMM package  later in 3.*. &lt;/p&gt;

&lt;p&gt;Beside the packaging I found heaps of things I do not like very much in the code (not your patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; an my fingertips getting nervous when I see stuff like the AbstractDictionary hierarchy or those Singletions. I would really like to have this separation of CN and common Analyzers in for 2.9 &amp;#8211; we just need to decide which way we go. I guess moving it over without changing code would be easiest.&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12733544" author="rcmuir" created="Tue, 21 Jul 2009 10:19:53 +0100"  >&lt;p&gt;Simon, I agree with you, there is a ton of work to be done. &lt;/p&gt;

&lt;p&gt;I also did not particularly like my method of moving everything into one package to hide the internals... and I 100% agree that a &quot;correct&quot; refactoring is quite a bit of work. &lt;/p&gt;

&lt;p&gt;I don&apos;t want to sound like a complainer since I don&apos;t have a patch to fix these things, but I want to list some things that I would like to fix/refactor also.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;removal of GB2312 dictionary dependency: this limits functionality to simplified chinese.&lt;/li&gt;
	&lt;li&gt;use of unicode categories (java Character class, etc) versus Utility.getCharType()&lt;/li&gt;
	&lt;li&gt;support for codepoints outside of BMP, this is necessary to support traditional chinese.&lt;/li&gt;
	&lt;li&gt;a little more flexibility with tokenization, honestly I&apos;m really not sold on indexing &quot;words&quot; for chinese in the first place. But words + bigrams (overlapping tokens), that would be nice.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In the future it would be nice to add support for traditional chinese, and there is frequency data out there (libtabe: BSD license, etc), but we need to refactor first.&lt;/p&gt;

&lt;p&gt;As far as what to do for 2.9... I really don&apos;t know either, just let me know if you need a new patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12733547" author="simonw" created="Tue, 21 Jul 2009 10:34:44 +0100"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t want to sound like a complainer since I don&apos;t have a patch to fix these things, but I want to list some things that I would like to fix/refactor also.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; pushing things forward is not complaining to me. I agree with you points I did not look closely into implementation details but rather on structural things. Apparently we both agree that we have work to do on this and I guess we can work out good solutions in the future together. Let&apos;s just move the classes into it&apos;s own subdir as you already did and keep the structure as it is (with the smallest changes - some classes have to be moved). If you could provide a patch I will commit the refactoring and we open a new issue for 3.*. &lt;br/&gt;
This solution seems to be ideal as 2.9 release is quite close...&lt;/p&gt;


&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12733552" author="rcmuir" created="Tue, 21 Jul 2009 10:47:51 +0100"  >&lt;p&gt;Simon OK, I will work on a patch that tries to maintain the package structure.&lt;/p&gt;

&lt;p&gt;Other than package structure, is there anything in the patch you are uncomfortable with? &lt;br/&gt;
I can either try to unfix any small fixes you don&apos;t like or create more testcases, whatever makes sense.&lt;/p&gt;</comment>
                    <comment id="12733556" author="simonw" created="Tue, 21 Jul 2009 10:56:37 +0100"  >&lt;blockquote&gt;&lt;p&gt;Other than package structure, is there anything in the patch you are uncomfortable with? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;no that I could tell. You can keep whatever applies to the package structure - means we might have to keep some classes public etc.&lt;/p&gt;

&lt;p&gt;thanks for your patience! Good job!&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12733560" author="rcmuir" created="Tue, 21 Jul 2009 11:01:28 +0100"  >&lt;p&gt;Simon, yes some things may have to be public that should not be due to the package structure.&lt;/p&gt;

&lt;p&gt;I&apos;ll see if I can improve the javadocs for anything that falls in this situation as a short-term workaround.&lt;/p&gt;</comment>
                    <comment id="12733986" author="michaelbusch" created="Wed, 22 Jul 2009 05:58:02 +0100"  >&lt;p&gt;So we are going to move everything currently under contrib/analyzers to contrib/analyzers/common?&lt;/p&gt;</comment>
                    <comment id="12733989" author="rcmuir" created="Wed, 22 Jul 2009 06:13:55 +0100"  >&lt;p&gt;yeah, except smart chinese analyzer. I am testing the latest patch (that keeps the previous smart chinese analyzer package structure), regenerating docs, etc etc.&lt;/p&gt;

&lt;p&gt;I will upload it in a few when I think it is good to go.&lt;/p&gt;</comment>
                    <comment id="12733991" author="rcmuir" created="Wed, 22 Jul 2009 06:37:05 +0100"  >&lt;p&gt;Simon, here is the new patch. It also has the changes to build.xml and site.xml so that javadocs are correctly linked, and the regenerated docs.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;## 1. clean svn checkout
## 2. run the following commands to refactor the files.

mkdir contrib/analyzers/common
mkdir -p contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn contrib/analyzers/smartcn/src/test/org/apache/lucene/analysis/cn contrib/analyzers/smartcn/src/resources/org/apache/lucene/analysis
svn add contrib/analyzers/smartcn contrib/analyzers/common
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/SmartChineseAnalyzer.java contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/java/org/apache/lucene/analysis/cn/smart contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/test/org/apache/lucene/analysis/cn/TestSmartChineseAnalyzer.java contrib/analyzers/smartcn/src/test/org/apache/lucene/analysis/cn
svn move contrib/analyzers/src/resources/org/apache/lucene/analysis/cn contrib/analyzers/smartcn/src/resources/org/apache/lucene/analysis
svn copy contrib/analyzers/build.xml contrib/analyzers/common
svn move contrib/analyzers/pom.xml.template contrib/analyzers/common
svn move contrib/analyzers/src contrib/analyzers/common
svn move contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn/smart/WordTokenizer.java contrib/analyzers/smartcn/src/java/org/apache/lucene/analysis/cn/smart/WordTokenFilter.java

## 3. eclipse &quot;refresh&quot; at project level.
## 4. set text-file encoding at project level to UTF-8
## 5. manually force text-file encoding as UTF-8 for contrib/analyzers/common/src/java/org/apache/lucene/analysis/cn/package.html
##   also manually force text-file encoding as UTF-8 for contrib/analyzers/common/src/java/org/apache/lucene/analysis/cjk/package.html
##   this is an existing encoding issue that is corrected by this patch.
## 6. apply patch from clipboard (you may now remove the above hack and you will notice the above files are now detected properly as UTF-8)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="12734646" author="simonw" created="Thu, 23 Jul 2009 18:12:55 +0100"  >&lt;p&gt;Robert, I just committed your patch. Thanks a lot for that. &lt;br/&gt;
I added equals and hashcode methods to the classes you removed them just in case.&lt;/p&gt;

&lt;p&gt;@ Uwe(or some other core commiter): could you please prepare the documentation and top level build.xml and commit it, thanks! I think robert already prepared everything in his patch.&lt;/p&gt;</comment>
                    <comment id="12734647" author="rcmuir" created="Thu, 23 Jul 2009 18:20:30 +0100"  >&lt;p&gt;Simon, thanks!&lt;/p&gt;

&lt;p&gt;oh, the equals and hashcode were commented out in the original src (I removed the commented lines).&lt;/p&gt;

&lt;p&gt;I was afraid to uncomment them (I didnt know why they were commented out),&lt;br/&gt;
 but I shouldn&apos;t have deleted the commented lines... thanks for resolving this.&lt;/p&gt;</comment>
                    <comment id="12734685" author="mikemccand" created="Thu, 23 Jul 2009 19:28:50 +0100"  >&lt;p&gt;I&apos;ll commit the top-level changes for the web-site.  Thanks Robert!&lt;/p&gt;</comment>
                    <comment id="12734695" author="simonw" created="Thu, 23 Jul 2009 19:43:12 +0100"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ll commit the top-level changes for the web-site. Thanks Robert! &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;thanks mike! &lt;/p&gt;</comment>
                    <comment id="12734768" author="thetaphi" created="Thu, 23 Jul 2009 21:29:59 +0100"  >&lt;p&gt;I committed a fix for the incorrect javadocs dirs for contrib/analysis in the main build.xml.&lt;br/&gt;
Revision: 797213&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12414184" name="LUCENE-1728.txt" size="53988" author="rcmuir" created="Wed, 22 Jul 2009 06:37:05 +0100" />
                    <attachment id="12413720" name="LUCENE-1728.txt" size="44238" author="rcmuir" created="Thu, 16 Jul 2009 19:50:37 +0100" />
                    <attachment id="12413719" name="LUCENE-1728.txt" size="44238" author="rcmuir" created="Thu, 16 Jul 2009 19:48:48 +0100" />
                    <attachment id="12412572" name="LUCENE-1728.txt" size="44225" author="rcmuir" created="Mon, 6 Jul 2009 03:01:02 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 1 Jul 2009 18:00:21 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12031</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25998</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>