<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:01:20 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2813/LUCENE-2813.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2813] TestIndexWriterDelete fails randomly</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2813</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;10 out of 9 runs with that see fail on my trunk:&lt;/p&gt;

&lt;p&gt;ant test-core -Dtestcase=TestIndexWriterDelete -Dtestmethod=testErrorAfterApplyDeletes -Dtests.seed=4269712067829708991:1888184886355172227 -Dtests.codec=randomPerField&lt;/p&gt;


&lt;p&gt;with this result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

junit-sequential:
    [junit] Testsuite: org.apache.lucene.index.TestIndexWriterDelete
    [junit] Tests run: 1, Failures: 2, Errors: 0, Time elapsed: 1.725 sec
    [junit] 
    [junit] ------------- Standard Output ---------------
    [junit] NOTE: reproduce with: ant test -Dtestcase=TestIndexWriterDelete -Dtestmethod=testErrorAfterApplyDeletes -Dtests.seed=4269712067829708991:1888184886355172227 -Dtests.codec=randomPerField
    [junit] NOTE: test params are: codec=RandomCodecProvider: {id=Standard, contents=SimpleText, city=MockSep}, locale=ar_QA, timezone=VST
    [junit] ------------- ---------------- ---------------
    [junit] ------------- Standard Error -----------------
    [junit] NOTE: all tests run in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; JVM:
    [junit] [TestIndexWriterDelete]
    [junit] ------------- ---------------- ---------------
    [junit] Testcase: testErrorAfterApplyDeletes(org.apache.lucene.index.TestIndexWriterDelete):	FAILED
    [junit] 
    [junit] junit.framework.AssertionFailedError: 
    [junit] 	at org.apache.lucene.index.TestIndexWriterDelete.testErrorAfterApplyDeletes(TestIndexWriterDelete.java:736)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:1043)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:981)
    [junit] 
    [junit] 
    [junit] Testcase: testErrorAfterApplyDeletes(org.apache.lucene.index.TestIndexWriterDelete):	FAILED
    [junit] ConcurrentMergeScheduler hit unhandled exceptions
    [junit] junit.framework.AssertionFailedError: ConcurrentMergeScheduler hit unhandled exceptions
    [junit] 	at org.apache.lucene.util.LuceneTestCase.tearDown(LuceneTestCase.java:503)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:1043)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:981)
    [junit] 
    [junit] 
    [junit] Test org.apache.lucene.index.TestIndexWriterDelete FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
            <key id="12493093">LUCENE-2813</key>
            <summary>TestIndexWriterDelete fails randomly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Dec 2010 17:20:28 +0000</created>
                <updated>Wed, 30 Mar 2011 16:50:12 +0100</updated>
                    <resolved>Mon, 13 Dec 2010 19:06:24 +0000</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12970926" author="mikemccand" created="Mon, 13 Dec 2010 18:01:49 +0000"  >&lt;p&gt;Hmm I can&apos;t reproduce this, neither w/ that seed nor w/ the while1 tester.  Not good that we have a repro bug.&lt;/p&gt;

&lt;p&gt;That assertion trip means that the mock-failure the test tries to throw failed to throw.&lt;/p&gt;

&lt;p&gt;Also, what&apos;s up w/ the additional CMS unhandled exc failure?  You don&apos;t see any other exceptions printed for CMS threads?&lt;/p&gt;

&lt;p&gt;I just committed some verbosity &amp;#8211; can you make a failure happen w/ -Dtests.verbose=true and post the output?&lt;/p&gt;</comment>
                    <comment id="12970945" author="rcmuir" created="Mon, 13 Dec 2010 18:37:44 +0000"  >&lt;p&gt;we should dig deeper. i reproduced trivially on the mac.&lt;/p&gt;

&lt;p&gt;i tried windows 32bit, 64bit, linux 32bit, all with 500 iterations, this test never fails.&lt;/p&gt;

&lt;p&gt;first try on the mac: boom&lt;/p&gt;

&lt;p&gt;Darwin new-host.home 10.4.0 Darwin Kernel Version 10.4.0: Fri Apr 23 18:28:53 PDT 2010; root:xnu-1504.7.4~1/RELEASE_I386 i386 i386&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_20-b02-279-10M3065)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 16.3-b01-279, mixed mode)&lt;/p&gt;</comment>
                    <comment id="12970948" author="rcmuir" created="Mon, 13 Dec 2010 18:45:34 +0000"  >&lt;p&gt;output with -Dtests.verbose=true&lt;/p&gt;</comment>
                    <comment id="12970958" author="mikemccand" created="Mon, 13 Dec 2010 18:56:49 +0000"  >&lt;p&gt;OK thanks for the output Robert.&lt;/p&gt;

&lt;p&gt;It&apos;s a test bug &amp;#8211; the mock failure was throwing into a merge thread instead of the main thread.  Can you try the attached patch?&lt;/p&gt;</comment>
                    <comment id="12970964" author="rcmuir" created="Mon, 13 Dec 2010 19:03:57 +0000"  >&lt;p&gt;Patch works here, i tried 100 times with Simon&apos;s seed, then 100 times normally... no problems.&lt;/p&gt;</comment>
                    <comment id="12970966" author="mikemccand" created="Mon, 13 Dec 2010 19:06:24 +0000"  >&lt;p&gt;Test only bug.&lt;/p&gt;</comment>
                    <comment id="12971061" author="simonw" created="Mon, 13 Dec 2010 22:44:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;i tried windows 32bit, 64bit, linux 32bit, all with 500 iterations, this test never fails.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;weird thing - I was just gonna dig deeper but you fixed it already &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; thanks mike &amp;amp; robert...&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="13013395" author="gsingers" created="Wed, 30 Mar 2011 16:50:12 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12466161" name="LUCENE-2813.patch" size="1068" author="mikemccand" created="Mon, 13 Dec 2010 18:56:49 +0000" />
                    <attachment id="12466159" name="output.txt" size="63205" author="rcmuir" created="Mon, 13 Dec 2010 18:45:34 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 13 Dec 2010 18:01:49 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11046</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24879</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>