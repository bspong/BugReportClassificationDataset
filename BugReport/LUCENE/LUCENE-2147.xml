<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:07:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2147/LUCENE-2147.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2147] Improve Spatial Utility like classes</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2147</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;DistanceUnits can be improved by giving functionality to the enum, such as being able to convert between different units, and adding tests.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;GeoHashUtils can be improved through some code tidying, documentation, and tests.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SpatialConstants allows us to move all constants, such as the radii and circumferences of Earth, to a single consistent location that we can then use throughout the contrib.  This also allows us to improve the transparency of calculations done in the contrib, as users of the contrib can easily see the values being used.  Currently this issues does not migrate classes to use these constants, that will happen in issues related to the appropriate classes.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
            <key id="12443084">LUCENE-2147</key>
            <summary>Improve Spatial Utility like classes</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="cmale">Chris Male</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Dec 2009 12:13:40 +0000</created>
                <updated>Fri, 10 May 2013 11:43:58 +0100</updated>
                    <resolved>Tue, 5 Jan 2010 22:05:11 +0000</resolved>
                            <version>3.1</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/spatial</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12789268" author="cmale" created="Fri, 11 Dec 2009 12:15:16 +0000"  >&lt;p&gt;Added patch that implementations described behavior.&lt;/p&gt;</comment>
                    <comment id="12789270" author="cmale" created="Fri, 11 Dec 2009 12:16:22 +0000"  >&lt;p&gt;Ideally DistanceUnits would be renamed to DistanceUnit and moved to the new util package, and GeoHashUtils would be moved to the util package as well.&lt;/p&gt;</comment>
                    <comment id="12789313" author="simonw" created="Fri, 11 Dec 2009 13:51:47 +0000"  >&lt;p&gt;Chris, good stuff so far.&lt;br/&gt;
I have added a couple of final keywords and prevent some autoboxing in GeoHashUtils as the char / int values should be mainly cached anyway. this prevents a couple of object creations.&lt;br/&gt;
I also added a testcase which relates to the weird precision issues in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1815&quot; title=&quot;Geohash encode/decode floating point problems&quot;&gt;LUCENE-1815&lt;/a&gt; that seem to be gone now - good stuff! -&amp;gt; btw I like that we have only one decode method instead of the precision one.&lt;/p&gt;

&lt;p&gt;At the current state I found that the SpatialConstants should be part of DistanceUnits provided as getters. This might change in the future if there are more constants but for now I would rather put them into the enum as this enforces consistency for distance units.&lt;/p&gt;

&lt;p&gt;thoughts?&lt;/p&gt;</comment>
                    <comment id="12789316" author="cmale" created="Fri, 11 Dec 2009 13:57:12 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Yeah you are right about DistanceUnits using the SpatialConstants.  I would like to leave SpatialConstants in as it gives us a single place to manage these values, particularly if the values are dependent on eachother (for example the circumference should really depend on the radius).  However adding to DistanceUnits getEarthRadius() and getEarthCircumference() would make alot of sense in the current environment.  These could then simply pull their values from the SpatialConstants.&lt;/p&gt;

&lt;p&gt;I am fine with removing SpatialConstants if you feel this is overkill.&lt;/p&gt;</comment>
                    <comment id="12792433" author="cmale" created="Fri, 18 Dec 2009 11:04:32 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fixed bug in the patch which assigned earthCircumference to earthRadius in the DistanceUnits constructor.&lt;/li&gt;
	&lt;li&gt;Added javadoc to DistanceUnits constructor for new parameters&lt;/li&gt;
	&lt;li&gt;Tidied some of the other javadoc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12792836" author="simonw" created="Sat, 19 Dec 2009 12:18:28 +0000"  >&lt;p&gt;chris this looks good I feel that we are pretty close to commit this. I will wait another 2 days, review again and announce the commit.&lt;/p&gt;</comment>
                    <comment id="12793144" author="cmale" created="Mon, 21 Dec 2009 10:14:03 +0000"  >&lt;p&gt;Improved javadoc on DistanceUnits.convert so its a little clearer.&lt;/p&gt;</comment>
                    <comment id="12794840" author="simonw" created="Mon, 28 Dec 2009 17:56:51 +0000"  >&lt;p&gt;Chris, this seems to be ready to be committed soon. I removed the &quot;flux&quot; warnings in the class JavaDocs, converted the tests to junit 4 and added a CHANGES.TXT notice to make it ready to be committed.&lt;/p&gt;</comment>
                    <comment id="12795277" author="simonw" created="Wed, 30 Dec 2009 10:32:05 +0000"  >&lt;p&gt;Since this is the first issue which comes near to be committed some questions arise from my side if we should mark the new API as experimental like the function API in o.a.l.s.function. I think it would make sense to keep a warning that contrib/spatial might slightly change in the future.&lt;br/&gt;
On the other hand we should try to put more confidence into contrib/spatial for more user acceptance. I currently work for customers that moved away from spatial due to its early stage and &quot;flux&quot; warnings which is quite understandable though. I would like to hear other opinions regarding this topic - especially opinions of more experienced committers would be appreciated.&lt;/p&gt;</comment>
                    <comment id="12795858" author="gsingers" created="Sat, 2 Jan 2010 12:40:35 +0000"  >&lt;p&gt;I&apos;d say that we remove the flux warnings, but instead put a note in the top level that since this is a contrib module, it will not adhere to Lucene core&apos;s strict back compat. policy.&lt;/p&gt;</comment>
                    <comment id="12795892" author="simonw" created="Sat, 2 Jan 2010 18:39:04 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;d say that we remove the flux warnings, but instead put a note in the top level that since this is a contrib module, it will not adhere to Lucene core&apos;s strict back compat. policy. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;that sounds good, I will put it into a package.html doc and will also add a readme to the project itself.&lt;/p&gt;

&lt;p&gt;I think this issue is good to go. I will commit this is a few days if nobody objects.&lt;/p&gt;
</comment>
                    <comment id="12795895" author="cmale" created="Sat, 2 Jan 2010 18:46:59 +0000"  >&lt;p&gt;Okay, I will remove them from the other patches as well and update them over the next few days.&lt;/p&gt;</comment>
                    <comment id="12796867" author="simonw" created="Tue, 5 Jan 2010 22:05:11 +0000"  >&lt;p&gt;Committed in revision 896240&lt;/p&gt;

&lt;p&gt;Thanks Chris&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12442845">LUCENE-2139</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12429020" name="LUCENE-2147.patch" size="18040" author="simonw" created="Mon, 28 Dec 2009 17:56:51 +0000" />
                    <attachment id="12428617" name="LUCENE-2147.patch" size="16806" author="cmale" created="Mon, 21 Dec 2009 10:14:03 +0000" />
                    <attachment id="12428427" name="LUCENE-2147.patch" size="16782" author="cmale" created="Fri, 18 Dec 2009 11:04:32 +0000" />
                    <attachment id="12427724" name="LUCENE-2147.patch" size="17044" author="simonw" created="Fri, 11 Dec 2009 13:51:47 +0000" />
                    <attachment id="12427715" name="LUCENE-2147.patch" size="17344" author="cmale" created="Fri, 11 Dec 2009 12:15:16 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 11 Dec 2009 13:51:47 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11636</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25578</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>