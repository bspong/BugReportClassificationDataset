<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:35:01 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3723/LUCENE-3723.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3723] Remove FieldMaskingSpanQuery (or fix its scoring)</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3723</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In Lucene 4.0 we added new scoring mechanisms, but FieldMaskingSpanQuery is a serious problem:&lt;/p&gt;

&lt;p&gt;Because it lies about the fields of its terms, this sometimes results in totally bogus&lt;br/&gt;
statistics, cases where a single terms totalTermFreq exceeds sumTotalTermFreq for the entire field (since its lying about it).&lt;/p&gt;

&lt;p&gt;Such lying could result in NaN/Inf/Negative scores, exceptions, divide by zero, and other problems,&lt;br/&gt;
because the statistics are impossibly bogus.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12539764">LUCENE-3723</key>
            <summary>Remove FieldMaskingSpanQuery (or fix its scoring)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2012 13:32:54 +0000</created>
                <updated>Wed, 25 Jan 2012 13:54:51 +0000</updated>
                                    <version>4.0-ALPHA</version>
                                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13193028" author="rcmuir" created="Wed, 25 Jan 2012 13:33:56 +0000"  >&lt;p&gt;I&apos;d really like to commit these asserts, but this query is in the way.&lt;/p&gt;

&lt;p&gt;As a temporary measure we can @Ignore its tests.&lt;/p&gt;</comment>
                    <comment id="13193047" author="rcmuir" created="Wed, 25 Jan 2012 13:54:51 +0000"  >&lt;p&gt;Patch enabling the assertions, and disabling FieldMaskingSpanQuery&apos;s query tests unless the sim for the masked field is TFIDFSimilarity.&lt;/p&gt;

&lt;p&gt;I also changed the javadoc:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  * &amp;lt;p&amp;gt;Note: as {@link #getField()} returns the masked field, scoring will be 
- * done using the norms of the field name supplied. This may lead to unexpected
- * scoring behaviour.&amp;lt;/p&amp;gt;
+ * done using the Similarity and collection statistics of the field name supplied,
+ * but with the term statistics of the real field. This may lead to exceptions,
+ * poor performance, and unexpected scoring behaviour.&amp;lt;/p&amp;gt;
  */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think because this query doesn&apos;t really work except with certain scoring models, we should at least move it to contrib if we aren&apos;t going to fix its scoring or remove it.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12511838" name="LUCENE-3723.patch" size="4194" author="rcmuir" created="Wed, 25 Jan 2012 13:54:51 +0000" />
                    <attachment id="12511836" name="LUCENE-3723_test.patch" size="1780" author="rcmuir" created="Wed, 25 Jan 2012 13:33:56 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>225268</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>23975</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                        </customfields>
    </item>
</channel>
</rss>