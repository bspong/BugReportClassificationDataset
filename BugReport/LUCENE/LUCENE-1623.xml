<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:29:07 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1623/LUCENE-1623.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1623] Back-compat break with non-ascii field names</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1623</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;If a field name contains non-ascii characters in a 2.3.x index, then&lt;br/&gt;
on upgrade to 2.4.x unexpected problems are hit.  It&apos;s possible to hit&lt;br/&gt;
a &quot;read past EOF&quot; IOException; it&apos;s also possible to not hit an&lt;br/&gt;
exception but get an incorrect field name.&lt;/p&gt;

&lt;p&gt;This was caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-510&quot; title=&quot;IndexOutput.writeString() should write length in bytes&quot;&gt;&lt;del&gt;LUCENE-510&lt;/del&gt;&lt;/a&gt;, because the FieldInfos (*.fnm) file is&lt;br/&gt;
not properly versioned.&lt;/p&gt;

&lt;p&gt;Spinoff from &lt;a href=&quot;http://www.nabble.com/Read-past-EOF-td23276171.html&quot; class=&quot;external-link&quot;&gt;http://www.nabble.com/Read-past-EOF-td23276171.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12424087">LUCENE-1623</key>
            <summary>Back-compat break with non-ascii field names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 21:14:56 +0100</created>
                <updated>Fri, 25 Sep 2009 17:23:23 +0100</updated>
                    <resolved>Fri, 1 May 2009 23:13:40 +0100</resolved>
                            <version>2.4</version>
                <version>2.4.1</version>
                                <fixVersion>2.9</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="12703816" author="mikemccand" created="Tue, 28 Apr 2009 21:19:50 +0100"  >&lt;p&gt;Attached patch.  I plan to commit in a day or two, and back-port to&lt;br/&gt;
2.4.x branch.&lt;/p&gt;

&lt;p&gt;I updated the back compat test to show the failure, and also&lt;br/&gt;
separately added 2.4 cases to the back-compat test.&lt;/p&gt;</comment>
                    <comment id="12704955" author="mikemccand" created="Fri, 1 May 2009 11:56:29 +0100"  >&lt;p&gt;Committed to trunk &amp;amp; 2.4 branch.&lt;/p&gt;</comment>
                    <comment id="12705128" author="thetaphi" created="Fri, 1 May 2009 22:42:22 +0100"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;a little bit too late, but there is a small flow-error in handling of the IOException in FieldInfos ctor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioe) {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (format == FORMAT_PRE) {
     ...
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem: If the IOException occurs and the Format is not FORMAT_PRE, the Exception should be re-thrown.&lt;/p&gt;

&lt;p&gt;And here a suggestion:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
byNumber = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList();
byName = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I would simply clear() the two collections...&lt;/p&gt;</comment>
                    <comment id="12705133" author="mikemccand" created="Fri, 1 May 2009 22:48:36 +0100"  >&lt;p&gt;Great catches Uwe, I&apos;ll fold them in &amp;#8211; thanks!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12406690" name="LUCENE-1623.patch" size="56815" author="mikemccand" created="Tue, 28 Apr 2009 21:19:50 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 1 May 2009 21:42:22 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12134</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26105</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>