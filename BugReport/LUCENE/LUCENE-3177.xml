<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:21:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3177/LUCENE-3177.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3177] Decouple indexer from Document/Field impls</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3177</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I think we should define minimal iterator interfaces,&lt;br/&gt;
IndexableDocument/Field, that indexer requires to index documents.&lt;/p&gt;

&lt;p&gt;Indexer would consume only these bare minimum interfaces, not the&lt;br/&gt;
concrete Document/Field/FieldType classes from oal.document package.&lt;/p&gt;

&lt;p&gt;Then, the Document/Field/FieldType hierarchy is one concrete impl of&lt;br/&gt;
these interfaces. Apps are free to make their own impls as well.&lt;br/&gt;
Maybe eventually we make another impl that enforces a global schema,&lt;br/&gt;
eg factored out of Solr&apos;s impl.&lt;/p&gt;

&lt;p&gt;I think this frees design pressure on our Document/Field/FieldType&lt;br/&gt;
hierarchy, ie, these classes are free to become concrete&lt;br/&gt;
fully-featured &quot;user-space&quot; classes with all sorts of friendly sugar&lt;br/&gt;
APIs for adding/removing fields, getting/setting values, types, etc.,&lt;br/&gt;
but they don&apos;t need substantial extensibility/hierarchy. Ie, the&lt;br/&gt;
extensibility point shifts to IndexableDocument/Field interface.&lt;/p&gt;

&lt;p&gt;I think this means we can collapse the three classes we now have for a&lt;br/&gt;
Field (Fieldable/AbstracField/Field) down to a single concrete class&lt;br/&gt;
(well, except for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2308&quot; title=&quot;Separately specify a field&amp;#39;s type&quot;&gt;&lt;del&gt;LUCENE-2308&lt;/del&gt;&lt;/a&gt; where we want to break out dedicated&lt;br/&gt;
classes for different field types...).&lt;/p&gt;</description>
                <environment></environment>
            <key id="12509430">LUCENE-3177</key>
            <summary>Decouple indexer from Document/Field impls</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 10:56:28 +0100</created>
                <updated>Fri, 10 May 2013 11:43:25 +0100</updated>
                    <resolved>Tue, 20 Mar 2012 15:10:28 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13045345" author="mikemccand" created="Tue, 7 Jun 2011 10:57:55 +0100"  >&lt;p&gt;Patch.&lt;/p&gt;

&lt;p&gt;Tests pass, but there are many nocommits.&lt;/p&gt;

&lt;p&gt;I was &lt;b&gt;almost&lt;/b&gt; able to create only IndexableField, so that&lt;br/&gt;
IW.addDocument took Iterable&amp;lt;IndexableField&amp;gt;, except for doc level&lt;br/&gt;
boost, so I had to create IndexableDocument.&lt;/p&gt;

&lt;p&gt;I also cutover to a .binaryValue(BytesRef reuse) API here, replacing&lt;br/&gt;
getBinaryValue/Length/Offset.&lt;/p&gt;

&lt;p&gt;I would actually like to take IndexableDocument/Field further, so that&lt;br/&gt;
eg responsibiliity for analysis lies &quot;under&quot; the tokenStreamValue()&lt;br/&gt;
method, but I think we should leave that for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2309&quot; title=&quot;Fully decouple IndexWriter from analyzers&quot;&gt;&lt;del&gt;LUCENE-2309&lt;/del&gt;&lt;/a&gt;.  This is a&lt;br/&gt;
big enough change already...&lt;/p&gt;</comment>
                    <comment id="13046698" author="mikemccand" created="Thu, 9 Jun 2011 18:46:13 +0100"  >&lt;p&gt;New patch, removing IndexableDocument so now we only have&lt;br/&gt;
IndexableField and IW accepts Iterable&amp;lt;? extends IndexableField&amp;gt; to&lt;br/&gt;
add/updateDocument.&lt;/p&gt;

&lt;p&gt;This breaks one Lucene core test (TestDocBoost), because indexer no&lt;br/&gt;
longer applies doc boost.&lt;/p&gt;

&lt;p&gt;I&apos;d like to cut a new branch, and commit this starting patch there.&lt;br/&gt;
I think (hopefully) the plan for the branch will be something like&lt;br/&gt;
this:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Commit/iterate on this issue, which fully decouples indexer&lt;br/&gt;
    (oal.index.*) from our current&lt;br/&gt;
    Field/Fieldable/AbstractField/Document impl.  This gives&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2308&quot; title=&quot;Separately specify a field&amp;#39;s type&quot;&gt;&lt;del&gt;LUCENE-2308&lt;/del&gt;&lt;/a&gt; more freedom to make concrete &quot;user space&quot; classes.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Commit/iterate on &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2308&quot; title=&quot;Separately specify a field&amp;#39;s type&quot;&gt;&lt;del&gt;LUCENE-2308&lt;/del&gt;&lt;/a&gt;, which collapses the *Field&lt;br/&gt;
    hierarchy to one concrete class, and adds FieldType&lt;br/&gt;
    hierarchy.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Maybe: do &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2309&quot; title=&quot;Fully decouple IndexWriter from analyzers&quot;&gt;&lt;del&gt;LUCENE-2309&lt;/del&gt;&lt;/a&gt; (decouple analyzers from indexer).  This&lt;br/&gt;
    would mean IndexableField no longer needs isTokenized, nor the&lt;br/&gt;
    string/readerValue() methods.  Indexer would just ask for the&lt;br/&gt;
    tokenStream, and the doc/field impl would go and look at its flags&lt;br/&gt;
    like NOT_ANALYZED, etc., to figure out what token stream to&lt;br/&gt;
    create.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12458721">LUCENE-2308</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12481957" name="LUCENE-3177.patch" size="68586" author="mikemccand" created="Thu, 9 Jun 2011 18:46:13 +0100" />
                    <attachment id="12481676" name="LUCENE-3177.patch" size="72136" author="mikemccand" created="Tue, 7 Jun 2011 10:57:55 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2909</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24520</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>