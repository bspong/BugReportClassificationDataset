<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:08:50 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2703/LUCENE-2703.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2703] multitermquery scoring differences between 3x and trunk</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2703</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;try this patch with a test, that applies clean to both 3x and trunk, but fails on trunk.&lt;/p&gt;

&lt;p&gt;if you modify the test-data-generator to use TopTerms*BoostOnly* rewrite, then it acts like TestFuzzyQuery2, and passes.&lt;/p&gt;

&lt;p&gt;So the problem is in TopTermsScoringBooleanRewrite, or BooleanQuery, or somewhere else.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12477407">LUCENE-2703</key>
            <summary>multitermquery scoring differences between 3x and trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Oct 2010 23:16:33 +0100</created>
                <updated>Fri, 10 May 2013 11:43:23 +0100</updated>
                    <resolved>Sun, 17 Oct 2010 15:09:57 +0100</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12921151" author="rcmuir" created="Thu, 14 Oct 2010 23:23:33 +0100"  >&lt;p&gt;The bug is in TermQuery(Term, int docfreq)&lt;/p&gt;

&lt;p&gt;if i change this to:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  public TermQuery(Term t, int docFreq) {
    term = t;
    // this.docFreq = docFreq;
    this.docFreq = -1;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the test passes&lt;/p&gt;</comment>
                    <comment id="12921157" author="rcmuir" created="Fri, 15 Oct 2010 00:03:27 +0100"  >&lt;p&gt;here&apos;s a patch, really a bad bug, the df was wrong here, but never used until we started&lt;br/&gt;
doing these optimizations recently.&lt;/p&gt;</comment>
                    <comment id="12921168" author="rcmuir" created="Fri, 15 Oct 2010 00:16:50 +0100"  >&lt;p&gt;i committed the bugfix, but i will write a good test before resolving the issue.&lt;/p&gt;

&lt;p&gt;the &quot;test&quot; i uploaded here is no good, its huge and undebuggable and dependent on the scoring system.&lt;/p&gt;</comment>
                    <comment id="12921850" author="rcmuir" created="Sun, 17 Oct 2010 15:09:57 +0100"  >&lt;p&gt;Uwe&apos;s assert in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2690&quot; title=&quot;Do MultiTermQuery boolean rewrites per segment&quot;&gt;&lt;del&gt;LUCENE-2690&lt;/del&gt;&lt;/a&gt; is better than any test i could add here... it even found a bug in another TermEnum impl.&lt;/p&gt;</comment>
                    <comment id="12921851" author="thetaphi" created="Sun, 17 Oct 2010 15:19:17 +0100"  >&lt;p&gt;Thanks! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12457205" name="LUCENE-2703.patch" size="1142" author="rcmuir" created="Fri, 15 Oct 2010 00:03:59 +0100" />
                    <attachment id="12457198" name="LUCENE-2703_test.patch" size="127969" author="rcmuir" created="Thu, 14 Oct 2010 23:17:07 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 17 Oct 2010 14:19:17 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11142</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24989</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>