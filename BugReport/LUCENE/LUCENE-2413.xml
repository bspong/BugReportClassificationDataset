<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:34:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2413/LUCENE-2413.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2413] Consolidate all (Solr&apos;s &amp; Lucene&apos;s) analyzers into modules/analysis</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2413</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;We&apos;ve been wanting to do this for quite some time now...  I think, now that Solr/Lucene are merged, and we&apos;re looking at opening an unstable line of development for Solr/Lucene, now is the right time to do it.&lt;/p&gt;

&lt;p&gt;A standalone module for all analyzers also empowers apps to separately version the analyzers from which version of Solr/Lucene they use, possibly enabling us to remove Version entirely from the analyzers.&lt;/p&gt;

&lt;p&gt;We should also do &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2309&quot; title=&quot;Fully decouple IndexWriter from analyzers&quot;&gt;&lt;del&gt;LUCENE-2309&lt;/del&gt;&lt;/a&gt; (decouple, as much as possible, indexer from the analysis API), but I don&apos;t think that issue needs to block this consolidation.&lt;/p&gt;

&lt;p&gt;Once we do this, there is one place where our users can find all the analyzers that Solr/Lucene provide.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12462815">LUCENE-2413</key>
            <summary>Consolidate all (Solr&apos;s &amp; Lucene&apos;s) analyzers into modules/analysis</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 21:12:33 +0100</created>
                <updated>Fri, 10 May 2013 11:44:30 +0100</updated>
                    <resolved>Wed, 23 Jun 2010 12:26:33 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12859989" author="rcmuir" created="Thu, 22 Apr 2010 21:16:16 +0100"  >&lt;p&gt;Does consolidation include contrib/icu, too?&lt;/p&gt;

&lt;p&gt;Otherwise we still suffer from similar problems, such as you need this filter in contrib/icu to standardize your width differences in CJK text, &lt;br/&gt;
GreekLowerCaseFilter and such that are not really necessary and can be satisfied with case folding, etc.&lt;br/&gt;
(and really NFKC_Casefold in my opinion should just replace LowerCaseFilter in every single last one of these analyzers)&lt;/p&gt;</comment>
                    <comment id="12859995" author="dmsmith" created="Thu, 22 Apr 2010 21:24:25 +0100"  >&lt;p&gt;Robert: +1&lt;/p&gt;</comment>
                    <comment id="12860030" author="mikemccand" created="Thu, 22 Apr 2010 22:39:33 +0100"  >&lt;blockquote&gt;&lt;p&gt;Does consolidation include contrib/icu, too?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12860304" author="steve_rowe" created="Fri, 23 Apr 2010 17:31:51 +0100"  >&lt;blockquote&gt;&lt;p&gt;Does consolidation include contrib/icu, too?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Especially if we really go the route of individually packaging artifacts for &amp;amp; releasing each component separately.&lt;/p&gt;</comment>
                    <comment id="12863194" author="rcmuir" created="Sun, 2 May 2010 21:41:58 +0100"  >&lt;p&gt;I played with this issue enough already to realize its gonna be a pain, huge svn movements and lots of changes.&lt;/p&gt;

&lt;p&gt;so here&apos;s a patch that moves the PorterStemmer to contrib/analyzers... (under the &apos;en&apos; pkg)... its a start.&lt;/p&gt;

&lt;p&gt;I would like to commit tomorrow unless anyone objects.&lt;/p&gt;</comment>
                    <comment id="12863287" author="mikemccand" created="Mon, 3 May 2010 10:50:46 +0100"  >&lt;p&gt;+1 to doing this in as-baby-steps as we can &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12863478" author="rcmuir" created="Mon, 3 May 2010 20:22:12 +0100"  >&lt;p&gt;committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_porter.patch revision 940459.&lt;/p&gt;</comment>
                    <comment id="12863482" author="rcmuir" created="Mon, 3 May 2010 20:25:35 +0100"  >&lt;p&gt;attached is a patch to move ISOLatin1AccentFilter and ASCIIFoldingFilter to contrib (under miscellaneous).&lt;/p&gt;

&lt;p&gt;I hacked the analyzing queryparser&apos;s test to avoid a dependency &lt;br/&gt;
on contrib analyzers, but gonna need a &apos;TestAnalyzer&apos; soon.&lt;/p&gt;

&lt;p&gt;would like to commit soon unless there are objections&lt;/p&gt;</comment>
                    <comment id="12863496" author="rcmuir" created="Mon, 3 May 2010 21:03:12 +0100"  >&lt;p&gt;committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_folding.patch revision 940591.&lt;/p&gt;</comment>
                    <comment id="12863516" author="thetaphi" created="Mon, 3 May 2010 22:16:42 +0100"  >&lt;p&gt;Here my patch for LengthFilter and PerFieldAnalyzerWrapper.&lt;/p&gt;</comment>
                    <comment id="12863518" author="rcmuir" created="Mon, 3 May 2010 22:19:19 +0100"  >&lt;p&gt;Thanks Uwe, the help is appreciated!&lt;/p&gt;</comment>
                    <comment id="12863520" author="rcmuir" created="Mon, 3 May 2010 22:23:41 +0100"  >&lt;p&gt;attached is a patch for TeeSink, it moves it to contrib/analyzers/sinks&lt;/p&gt;

&lt;p&gt;I moved the test in TestIW (seems to really be unrelated to IW) as-is to &lt;br/&gt;
the TeeSinkTest, it appears from the JIRA issue etc that this is simply &lt;br/&gt;
testing that end() is implemented correctly in TeeSink, and there is &lt;br/&gt;
already a separate test for end() in TestIW.&lt;/p&gt;</comment>
                    <comment id="12863526" author="thetaphi" created="Mon, 3 May 2010 22:38:47 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;-PFAW+LF.patch revision: 940632&lt;/p&gt;</comment>
                    <comment id="12863530" author="rcmuir" created="Mon, 3 May 2010 22:42:12 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_teesink.patch revision 940633&lt;/p&gt;</comment>
                    <comment id="12863564" author="rcmuir" created="Tue, 4 May 2010 00:20:51 +0100"  >&lt;p&gt;attached is a patch that moves some high-level charfilter functionality to contrib/analyzers&lt;br/&gt;
so MappingCharFilter,BaseCharFilter,NormalizeCharMap -&amp;gt; o.a.l.analysis.charfilter&lt;/p&gt;</comment>
                    <comment id="12863566" author="rcmuir" created="Tue, 4 May 2010 00:37:11 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;-charfilter.patch revision 940676.&lt;/p&gt;</comment>
                    <comment id="12863708" author="rcmuir" created="Tue, 4 May 2010 08:47:22 +0100"  >&lt;p&gt;patch for commongrams(query)filter&lt;/p&gt;</comment>
                    <comment id="12863710" author="rcmuir" created="Tue, 4 May 2010 08:51:43 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_commongrams.patch revision 940761.&lt;/p&gt;</comment>
                    <comment id="12863713" author="rcmuir" created="Tue, 4 May 2010 09:26:07 +0100"  >&lt;p&gt;htmlstripcharfilter -&amp;gt; o.a.l.charfilter.htmlstripcharfilter&lt;/p&gt;</comment>
                    <comment id="12863715" author="rcmuir" created="Tue, 4 May 2010 09:34:56 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_htmlstrip.patch revision 940768.&lt;/p&gt;</comment>
                    <comment id="12863726" author="rcmuir" created="Tue, 4 May 2010 10:01:24 +0100"  >&lt;p&gt;worddelimiterfilter -&amp;gt; analysis.misc.WordDelimiterFilter&lt;/p&gt;</comment>
                    <comment id="12863729" author="rcmuir" created="Tue, 4 May 2010 10:12:09 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_wdf.patch revision 940781.&lt;/p&gt;</comment>
                    <comment id="12863741" author="rcmuir" created="Tue, 4 May 2010 10:53:36 +0100"  >&lt;p&gt;removeDuplicatesTokenFilter -&amp;gt; misc/&lt;/p&gt;</comment>
                    <comment id="12863742" author="rcmuir" created="Tue, 4 May 2010 10:56:44 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_removeDups.patch revision 940788.&lt;/p&gt;</comment>
                    <comment id="12863754" author="rcmuir" created="Tue, 4 May 2010 12:06:54 +0100"  >&lt;p&gt;this patch moves pattern-based components (PatternReplaceFilter, PatternTokenizer, PatternReplaceCharFilter)&lt;br/&gt;
to analysis.pattern package.&lt;/p&gt;

&lt;p&gt;the existing PatternAnalyzer in contrib is marked deprecated in favor of this.&lt;/p&gt;

&lt;p&gt;additionally, i removed the commons dependency on PatternTokenizer and improved its performance by reusing a stringbuilder (instead of IOUtils.toString), and by not creating new strings for group-matching.&lt;/p&gt;</comment>
                    <comment id="12863780" author="rcmuir" created="Tue, 4 May 2010 12:58:21 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_pattern.patch revision 940813&lt;/p&gt;</comment>
                    <comment id="12863864" author="rcmuir" created="Tue, 4 May 2010 17:16:22 +0100"  >&lt;p&gt;keepwordfilter,trimfilter,hyphenatedwordsfilter -&amp;gt; misc&lt;/p&gt;</comment>
                    <comment id="12863891" author="rcmuir" created="Tue, 4 May 2010 18:08:33 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_keep_hyphen_trim.patch revision 940962.&lt;/p&gt;</comment>
                    <comment id="12865738" author="rcmuir" created="Mon, 10 May 2010 12:48:15 +0100"  >&lt;p&gt;attached is a patch to move synonymfilter/synonymmap into the analyzers module.&lt;/p&gt;

&lt;p&gt;didn&apos;t deprecate the synonymfilter/synonymmap from contrib/wordnet quite yet.&lt;/p&gt;</comment>
                    <comment id="12865838" author="rcmuir" created="Mon, 10 May 2010 18:38:51 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_synonym.patch revision 942827.&lt;/p&gt;</comment>
                    <comment id="12866213" author="rcmuir" created="Tue, 11 May 2010 18:18:06 +0100"  >&lt;p&gt;attached is a patch that creates a barebones _TestAnalyzer and _TestTokenizer in src/test&lt;/p&gt;

&lt;p&gt;These can be used for running lucene tests, so that more analyzers can be moved to the analyzers module.&lt;/p&gt;

&lt;p&gt;I didn&apos;t convert all tests to use it, only the easy ones so far.&lt;/p&gt;</comment>
                    <comment id="12866261" author="rcmuir" created="Tue, 11 May 2010 19:36:34 +0100"  >&lt;p&gt;i renamed the test analyzer to MockAnalyzer/Tokenizer at hossman&apos;s suggestion...&lt;/p&gt;

&lt;p&gt;all tests pass&lt;/p&gt;</comment>
                    <comment id="12866334" author="rcmuir" created="Tue, 11 May 2010 22:05:12 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_testanalyzer.patch revision 943288.&lt;/p&gt;

&lt;p&gt;By the way, when reviewing I found some disabled queryparser tests: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-  public void tesStopwordsParsing() throws Exception {
+  public void testStopwordsParsing() throws Exception {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will re-enable these tests on the 3x branch too.&lt;/p&gt;</comment>
                    <comment id="12867888" author="rcmuir" created="Sat, 15 May 2010 17:11:16 +0100"  >&lt;p&gt;attached is a patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_tests2.patcH) that adds a &quot;SIMPLE&quot; mode to MockAnalyzer.&lt;br/&gt;
I cut over a lot of tests that were previously using SimpleAnalyzer/LowerCaseTokenizer etc to this.&lt;/p&gt;

&lt;p&gt;I also added some basic tests for the MockAnalyzer itself (one day we will want to free it from CharTokenizer, etc)&lt;/p&gt;</comment>
                    <comment id="12867892" author="rcmuir" created="Sat, 15 May 2010 17:42:29 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_tests2.patch revision 944677&lt;/p&gt;</comment>
                    <comment id="12868029" author="rcmuir" created="Sun, 16 May 2010 20:40:14 +0100"  >&lt;p&gt;attached is some cleanup for the mock analyzers tests.&lt;/p&gt;

&lt;p&gt;additionally i added a filter for testing, that removes any terms accepted by a DFA.&lt;br/&gt;
So you can use this to emulate stopfilter, keepfilter, lengthfilter, ...&lt;br/&gt;
Lots of tests need to test this sorta stuff with posIncs.&lt;/p&gt;</comment>
                    <comment id="12868030" author="rcmuir" created="Sun, 16 May 2010 20:42:37 +0100"  >&lt;p&gt;oops, i forgot to svn add.&lt;br/&gt;
heres the corrected patch&lt;/p&gt;</comment>
                    <comment id="12868037" author="thetaphi" created="Sun, 16 May 2010 21:35:44 +0100"  >&lt;p&gt;Just thinking about MockFilter:&lt;br/&gt;
May this much faster than CharArraySet? If we build a DFA out of the stopwords, like done in the MockFilter, and also minimize it, will the checking for a hit not be much faster? e.g. if the first character of the termBuffer does not match the automaton it gets rejected. CAS always has to calculate the hashCode of the whole string first and then look it up.&lt;br/&gt;
I would like to see a comparison with a minimized Automaton vs. CAS for StopFilter. OK, LengthFilter is more performant by just comparing TermLength, but the StopFilter should be much faster.&lt;br/&gt;
I propose to pass a Set to the StopFilter and internally it converts it to a minimized Automaton similar to MockFilter.&lt;/p&gt;</comment>
                    <comment id="12868038" author="rcmuir" created="Sun, 16 May 2010 21:47:46 +0100"  >&lt;blockquote&gt;&lt;p&gt;May this much faster than CharArraySet&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I ran indexing tests a while ago (reuters) with CharArraySet itself implemented with a DFA, and it was slightly faster, but not much. I think this is because english words are usually not very long (average length=5). For other languages this technique might save some cpu time, but there are some &quot;problems&quot; i imagine&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;building an automaton from a list of words is more expensive, although Dawid Weiss has implemented an addition to automaton that does this fast.&lt;/li&gt;
	&lt;li&gt;in general building automaton and runautomaton etc is more &quot;heavy&quot; i would think, but Mike Mccandless hacked away a lot of this heaviness when we converted to UTF-32.&lt;/li&gt;
	&lt;li&gt;the CharacterRunAutomaton is not optimized right now, we disabled the classmap[] for chars because it consume more RAM. I think if we were to care about performance on char[] we should make it classmap 0x0-0xffff and binary search the rest, or something similar. currently it binarysearches on each input character.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Somewhat related, a while ago i tested this with CharArraySet as a DFA, and opened this issue: &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2227&quot; title=&quot;separate chararrayset interface from impl&quot;&gt;LUCENE-2227&lt;/a&gt;. But obviously this is not the only way, as this example shows filtering on the dfa itself (and not using chararrayset at all). &lt;/p&gt;

&lt;p&gt;So in general, i have those concerns right now, but maybe in the future once some things are addressed we could at least make an optional stopfilter impl or something similar.&lt;/p&gt;

&lt;p&gt;One thing i like about this filter personally, is that rejected terms always get (optionally) the posInc increased... I do not think our existing KeepWord or LengthFilters do this, but maybe i am wrong.&lt;/p&gt;</comment>
                    <comment id="12868039" author="rcmuir" created="Sun, 16 May 2010 22:01:55 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_mockfilter.patch 944908.&lt;/p&gt;

&lt;p&gt;I think now we can move all tests to this framework and pull all the analyzers out.&lt;/p&gt;</comment>
                    <comment id="12868045" author="rcmuir" created="Sun, 16 May 2010 22:54:23 +0100"  >&lt;p&gt;attached is a patch that converts over some more tests... need a break and this was a good stopping point.&lt;/p&gt;</comment>
                    <comment id="12868071" author="rcmuir" created="Mon, 17 May 2010 05:01:00 +0100"  >&lt;p&gt;attached is a patch cutting over a lot more tests.&lt;/p&gt;</comment>
                    <comment id="12868080" author="rcmuir" created="Mon, 17 May 2010 05:39:05 +0100"  >&lt;p&gt;committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_tests3.patch revision 944925&lt;br/&gt;
committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_test4.patch revision 944966&lt;/p&gt;</comment>
                    <comment id="12869450" author="rcmuir" created="Thu, 20 May 2010 03:08:13 +0100"  >&lt;p&gt;Attached patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_icu.patch) folds contrib/icu into the analyzers module.&lt;/p&gt;

&lt;p&gt;Since it depends on an external lib, i set it up as analyzers-icu.jar&lt;/p&gt;</comment>
                    <comment id="12869557" author="rcmuir" created="Thu, 20 May 2010 11:47:33 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_icu.patch revision 946590.&lt;/p&gt;</comment>
                    <comment id="12869572" author="rcmuir" created="Thu, 20 May 2010 12:39:22 +0100"  >&lt;p&gt;this patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_keyword.patch) moves the keywordmarkerfilter out of core into the module.&lt;/p&gt;</comment>
                    <comment id="12869600" author="rcmuir" created="Thu, 20 May 2010 14:23:55 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_keyword.patch revision 946621.&lt;/p&gt;</comment>
                    <comment id="12870842" author="doronc" created="Mon, 24 May 2010 21:58:51 +0100"  >&lt;p&gt;contrib/benchmark&apos;s NewShingleAnalyzerTask depends on modules&apos; o.a.l.analysis.shingle.ShingleAnalyzerWrapper - causing cyclic dependency between projects - e.g. when creating separate Eclipse projects for lucene and modules. &lt;/p&gt;</comment>
                    <comment id="12870843" author="rcmuir" created="Mon, 24 May 2010 22:04:38 +0100"  >&lt;blockquote&gt;
&lt;p&gt;contrib/benchmark&apos;s NewShingleAnalyzerTask depends on modules&apos; o.a.l.analysis.shingle.ShingleAnalyzerWrapper - causing cyclic dependency between projects - e.g. when creating separate Eclipse projects for lucene and modules.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hi, its not a cyclic dependency, as the analyzers module only depends on core lucene. &lt;/p&gt;

&lt;p&gt;If you want to have separate projects I would make the contribs separate, too, or put everything in one eclipse project (this is what I prefer).&lt;/p&gt;</comment>
                    <comment id="12870846" author="rcmuir" created="Mon, 24 May 2010 22:13:27 +0100"  >&lt;p&gt;By the way, one idea could be to make benchmark a module itself (the benchmarking module for all lucene/solr related stuff).&lt;/p&gt;

&lt;p&gt;I noticed Solr lacks a standard benchmarking suite, and at the same time more benchmarks are being created even for&lt;br/&gt;
contribs/modules (highlighter, analyzers)&lt;/p&gt;</comment>
                    <comment id="12871284" author="rcmuir" created="Tue, 25 May 2010 19:36:43 +0100"  >&lt;p&gt;attached is a patch that pulls out the rest of lucene&apos;s concrete analyzers and puts them in the analyzers module.&lt;/p&gt;

&lt;p&gt;in order to do this, I had to rearrange demo. Instead i made it contrib/demo, and this really simplified the build system.&lt;/p&gt;</comment>
                    <comment id="12871338" author="rcmuir" created="Tue, 25 May 2010 21:18:06 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_coreAnalyzers.patch revision 948195.&lt;/p&gt;</comment>
                    <comment id="12871373" author="rcmuir" created="Tue, 25 May 2010 22:36:55 +0100"  >&lt;p&gt;moves CharFilter, CharArraySet, and CharArrayMap&lt;/p&gt;</comment>
                    <comment id="12871392" author="rcmuir" created="Tue, 25 May 2010 23:28:49 +0100"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2413&quot; title=&quot;Consolidate all (Solr&amp;#39;s &amp;amp; Lucene&amp;#39;s) analyzers into modules/analysis&quot;&gt;&lt;del&gt;LUCENE-2413&lt;/del&gt;&lt;/a&gt;_coreUtils.patch revision 948225&lt;/p&gt;</comment>
                    <comment id="12879260" author="steve_rowe" created="Wed, 16 Jun 2010 07:42:49 +0100"  >&lt;p&gt;I found an unchanged package name in a .alg file in contrib/benchmark, and went looking for more similar issues - this patch fixes the directory references and packages I found that were still pointing to the old locations.&lt;/p&gt;</comment>
                    <comment id="12879312" author="rcmuir" created="Wed, 16 Jun 2010 12:34:32 +0100"  >&lt;p&gt;Thanks Steven, committed revision 955203 of your patch.&lt;/p&gt;</comment>
                    <comment id="12881546" author="rcmuir" created="Wed, 23 Jun 2010 05:55:19 +0100"  >&lt;p&gt;patch that moves the phonetic, doublemetaphone, and capitalization filters to the analysis module.&lt;/p&gt;

&lt;p&gt;with this patch, all concrete analysis components are consolidated and available to both lucene and solr users. &lt;/p&gt;

&lt;p&gt;I think i would like to close this issue and further, more complicated refactorings  (distancing analysis from indexing, moving factories/abstract classes etc) can be done on their own issues.&lt;/p&gt;</comment>
                    <comment id="12881645" author="rcmuir" created="Wed, 23 Jun 2010 12:26:33 +0100"  >&lt;p&gt;Committed revision 957162.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310010">
                <name>Incorporates</name>
                                <outwardlinks description="incorporates">
                            <issuelink>
            <issuekey id="12403703">LUCENE-1377</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12462145">LUCENE-2396</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12447796" name="LUCENE-2413_capitalize_phonetic.patch" size="78688" author="rcmuir" created="Wed, 23 Jun 2010 05:55:19 +0100" />
                    <attachment id="12443520" name="LUCENE-2413-charfilter.patch" size="9148" author="rcmuir" created="Tue, 4 May 2010 00:20:51 +0100" />
                    <attachment id="12443556" name="LUCENE-2413_commongrams.patch" size="12048" author="rcmuir" created="Tue, 4 May 2010 08:47:22 +0100" />
                    <attachment id="12445488" name="LUCENE-2413_coreAnalyzers.patch" size="257789" author="rcmuir" created="Tue, 25 May 2010 19:36:43 +0100" />
                    <attachment id="12445498" name="LUCENE-2413_coreUtils.patch" size="70715" author="rcmuir" created="Tue, 25 May 2010 22:36:55 +0100" />
                    <attachment id="12447207" name="LUCENE-2413-dir-and-package-fixes.patch" size="6730" author="steve_rowe" created="Wed, 16 Jun 2010 07:42:49 +0100" />
                    <attachment id="12443490" name="LUCENE-2413_folding.patch" size="9407" author="rcmuir" created="Mon, 3 May 2010 20:25:35 +0100" />
                    <attachment id="12443558" name="LUCENE-2413_htmlstrip.patch" size="5475" author="rcmuir" created="Tue, 4 May 2010 09:26:07 +0100" />
                    <attachment id="12445014" name="LUCENE-2413_icu.patch" size="59723" author="rcmuir" created="Thu, 20 May 2010 03:08:13 +0100" />
                    <attachment id="12443591" name="LUCENE-2413_keep_hyphen_trim.patch" size="19058" author="rcmuir" created="Tue, 4 May 2010 17:16:22 +0100" />
                    <attachment id="12445054" name="LUCENE-2413_keyword.patch" size="36818" author="rcmuir" created="Thu, 20 May 2010 12:39:22 +0100" />
                    <attachment id="12444616" name="LUCENE-2413_mockfilter.patch" size="41340" author="rcmuir" created="Sun, 16 May 2010 20:42:37 +0100" />
                    <attachment id="12444615" name="LUCENE-2413_mockfilter.patch" size="36574" author="rcmuir" created="Sun, 16 May 2010 20:40:13 +0100" />
                    <attachment id="12443565" name="LUCENE-2413_pattern.patch" size="38064" author="rcmuir" created="Tue, 4 May 2010 12:06:54 +0100" />
                    <attachment id="12443505" name="LUCENE-2413-PFAW+LF.patch" size="24571" author="thetaphi" created="Mon, 3 May 2010 22:16:42 +0100" />
                    <attachment id="12443428" name="LUCENE-2413_porter.patch" size="53032" author="rcmuir" created="Sun, 2 May 2010 21:41:58 +0100" />
                    <attachment id="12443563" name="LUCENE-2413_removeDups.patch" size="6122" author="rcmuir" created="Tue, 4 May 2010 10:53:36 +0100" />
                    <attachment id="12444105" name="LUCENE-2413_synonym.patch" size="6143" author="rcmuir" created="Mon, 10 May 2010 12:48:15 +0100" />
                    <attachment id="12443506" name="LUCENE-2413_teesink.patch" size="16494" author="rcmuir" created="Mon, 3 May 2010 22:23:41 +0100" />
                    <attachment id="12444629" name="LUCENE-2413_test4.patch" size="88376" author="rcmuir" created="Mon, 17 May 2010 05:00:59 +0100" />
                    <attachment id="12444229" name="LUCENE-2413_testanalyzer.patch" size="371369" author="rcmuir" created="Tue, 11 May 2010 19:36:34 +0100" />
                    <attachment id="12444219" name="LUCENE-2413_testanalyzer.patch" size="372128" author="rcmuir" created="Tue, 11 May 2010 18:18:06 +0100" />
                    <attachment id="12444578" name="LUCENE-2413_tests2.patch" size="40429" author="rcmuir" created="Sat, 15 May 2010 17:11:16 +0100" />
                    <attachment id="12444621" name="LUCENE-2413_tests3.patch" size="21223" author="rcmuir" created="Sun, 16 May 2010 22:54:22 +0100" />
                    <attachment id="12443559" name="LUCENE-2413_wdf.patch" size="20882" author="rcmuir" created="Tue, 4 May 2010 10:01:24 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 22 Apr 2010 20:16:16 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11390</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25278</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>