<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:15:40 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2331/LUCENE-2331.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2331] Add NoOpMergePolicy</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2331</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I&apos;d like to add a simple and useful MP implementation which does .... nothing ! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I&apos;ve came across many places where either the following is documented or implemented: &quot;if you want to prevent merges, set mergeFactor to a high enough value&quot;. I think a NoOpMergePolicy is just as good, and can REALLY allow you disable merges (except for maybe set mergeFactor to Int.MAX_VAL).&lt;/p&gt;

&lt;p&gt;As such, NoOpMergePolicy will be introduced as a singleton, and can be used for convenience purposes only. Also, for Parallel Index it&apos;s important, because I&apos;d like the slices to never do any merges, unless ParallelWriter decides so. So they should be set w/ that MP.&lt;/p&gt;

&lt;p&gt;I have a patch ready. Waiting for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2320&quot; title=&quot;Add MergePolicy to IndexWriterConfig&quot;&gt;&lt;del&gt;LUCENE-2320&lt;/del&gt;&lt;/a&gt; to go in, so that I don&apos;t need to change it afterwards.&lt;/p&gt;

&lt;p&gt;About the name - I like the name, but suggestions are welcome. I thought of a NullMergePolicy, but I don&apos;t like &apos;Null&apos; used for a NoOp.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12459519">LUCENE-2331</key>
            <summary>Add NoOpMergePolicy</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="shaie">Shai Erera</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Mar 2010 14:09:05 +0000</created>
                <updated>Fri, 10 May 2013 11:43:55 +0100</updated>
                    <resolved>Mon, 22 Mar 2010 19:52:06 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12846926" author="earwin" created="Thu, 18 Mar 2010 14:23:52 +0000"  >&lt;p&gt;NoMergesPolicy - that&apos;s exactly what it is, a policy of no merges&lt;/p&gt;</comment>
                    <comment id="12846998" author="shaie" created="Thu, 18 Mar 2010 17:00:05 +0000"  >&lt;p&gt;I like NoMergesPolicy ... perhaps, like NoLockFactory, we can call it NoMergePolicy? so MP is preserved in the name (not that it&apos;s critical)?&lt;/p&gt;</comment>
                    <comment id="12847018" author="mikemccand" created="Thu, 18 Mar 2010 17:46:18 +0000"  >&lt;p&gt;+1 for NoMergePolicy&lt;/p&gt;</comment>
                    <comment id="12847086" author="shaie" created="Thu, 18 Mar 2010 20:09:16 +0000"  >&lt;p&gt;In the process, I&apos;ll also add a NoMergeScheduler which will have empty implementations of MS. That&apos;s kind of redundant if one uses NoMP, however for symmetry it&apos;s nice to have it, as well as for not running any unnecessary code, like CMS and its threads, just to discover MP returned nothing.&lt;/p&gt;</comment>
                    <comment id="12847643" author="shaie" created="Fri, 19 Mar 2010 23:10:26 +0000"  >&lt;p&gt;Patch includes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;NoMergePolicy + TestNoMergePolicy&lt;/li&gt;
	&lt;li&gt;NoMergeScheduler + TestNoMergeScheduler&lt;/li&gt;
	&lt;li&gt;MergeScheduler - methods changed to public&lt;/li&gt;
	&lt;li&gt;CHANGES entry (New Features)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12848080" author="mikemccand" created="Mon, 22 Mar 2010 10:34:11 +0000"  >&lt;p&gt;Patch looks good Shai!&lt;/p&gt;

&lt;p&gt;But, can you normalize the white space (2 space indent)?&lt;/p&gt;

&lt;p&gt;Also... do you think we should allow instantiation of NoMergePolicy, allowing you to control if it uses CFS or not?&lt;/p&gt;</comment>
                    <comment id="12848112" author="shaie" created="Mon, 22 Mar 2010 12:53:00 +0000"  >&lt;p&gt;Sorry - new eclipse and project settings &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Should be ok now.&lt;/p&gt;</comment>
                    <comment id="12848113" author="shaie" created="Mon, 22 Mar 2010 12:56:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;do you think we should allow instantiation of NoMergePolicy, allowing you to control if it uses CFS or not?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You ask because of the useCompound* methods? I wanted NMP to be a singleton really, and I don&apos;t think those two really matter? Meaning, if you are using it, I guess you don&apos;t really care if it uses a cmpnd file or not?&lt;/p&gt;

&lt;p&gt;But if you think it&apos;s important, I can create 3 singletons: NO_COMPOUND_FILES_AND_STORE, COMPOUND_FILES, COMPOUND_FILES_AND_STORE (I really hate the long names though). We can settle w/ just two - (NO)COMPOUND_FILES ...&lt;/p&gt;</comment>
                    <comment id="12848158" author="mikemccand" created="Mon, 22 Mar 2010 15:13:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;You ask because of the useCompound* methods?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, because these methods (unexpectedly &amp;#8211; not good) also affect whether newly flushed segments are CFS or not.&lt;/p&gt;

&lt;p&gt;I think just the two is OK?  One can always make their own class if they really need diff&apos;t settings for the stores vs non-stores.&lt;/p&gt;</comment>
                    <comment id="12848174" author="shaie" created="Mon, 22 Mar 2010 15:49:12 +0000"  >&lt;p&gt;Patch includes NoMergePolicy.NO_COMPOUND_FILES and COMPOUND_FILES singletons.&lt;/p&gt;</comment>
                    <comment id="12848189" author="mikemccand" created="Mon, 22 Mar 2010 16:21:50 +0000"  >&lt;p&gt;In the jdocs for NoMergeScheduler you say this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Note that you can achieve the same thing by using {@link NoMergePolicy}, however with {@link NoMergeScheduler}
you also ensure that no unnecessary code of any {@link MergeScheduler} implementation is ever executed. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should that &lt;/p&gt;
{@link MergeScheduler}
&lt;p&gt; be &lt;/p&gt;
{@link MergePolicy}
&lt;p&gt; instead?  I can fix...&lt;/p&gt;</comment>
                    <comment id="12848192" author="shaie" created="Mon, 22 Mar 2010 16:26:48 +0000"  >&lt;p&gt;I think it&apos;s correct. The idea is to say that even w/ NMP, if you use NMS you ensure that no MS code is ever run (e.g. if you use NMP only, then CMS code &lt;span class=&quot;error&quot;&gt;&amp;#91;default&amp;#93;&lt;/span&gt; will always run but won&apos;t do anything).&lt;/p&gt;</comment>
                    <comment id="12848196" author="mikemccand" created="Mon, 22 Mar 2010 16:28:13 +0000"  >&lt;p&gt;OK, then I&apos;ll leave it.&lt;/p&gt;

&lt;p&gt;Patch looks good &amp;#8211; these are simple additions &amp;#8211; I&apos;ll commit shortly.  Thanks Shai!&lt;/p&gt;</comment>
                    <comment id="12848304" author="mikemccand" created="Mon, 22 Mar 2010 19:52:06 +0000"  >&lt;p&gt;Committed on newtrunk.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12439468" name="LUCENE-2331.patch" size="14322" author="shaie" created="Mon, 22 Mar 2010 15:49:12 +0000" />
                    <attachment id="12439452" name="LUCENE-2331.patch" size="13411" author="shaie" created="Mon, 22 Mar 2010 12:53:00 +0000" />
                    <attachment id="12439337" name="LUCENE-2331.patch" size="13308" author="shaie" created="Fri, 19 Mar 2010 23:10:26 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 18 Mar 2010 14:23:52 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11464</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25394</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>