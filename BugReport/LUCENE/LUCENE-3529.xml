<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:04:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3529/LUCENE-3529.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3529] creating empty field + empty term leads to invalid index</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3529</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3526&quot; title=&quot;preflex codec returns wrong terms if you use an empty field name&quot;&gt;&lt;del&gt;LUCENE-3526&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;if you create new Field(&quot;&quot;, &quot;&quot;), you get IllegalArgumentException from Field&apos;s ctor: &quot;name and value cannot both be empty&quot;&lt;/li&gt;
	&lt;li&gt;But there are tons of other ways to index an empty term for the empty field (for example initially make it &quot;garbage&quot; then .setValue(&quot;&quot;), or via tokenstream).&lt;/li&gt;
	&lt;li&gt;If you do this, and you have assertions enabled, you will trip an assert (the assert is fixed in trunk, in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3526&quot; title=&quot;preflex codec returns wrong terms if you use an empty field name&quot;&gt;&lt;del&gt;LUCENE-3526&lt;/del&gt;&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;But If you don&apos;t have assertions enabled, you will create a corrupt index: test: terms, freq, prox...ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;term : docFreq=1 != num docs seen 0 + num docs deleted 0&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
            <key id="12528541">LUCENE-3529</key>
            <summary>creating empty field + empty term leads to invalid index</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Oct 2011 19:38:58 +0100</created>
                <updated>Sun, 27 Nov 2011 12:29:36 +0000</updated>
                    <resolved>Tue, 25 Oct 2011 01:10:13 +0100</resolved>
                            <version>3.4</version>
                                <fixVersion>3.5</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13134346" author="rcmuir" created="Mon, 24 Oct 2011 19:44:44 +0100"  >&lt;p&gt;attached is a test (committed to trunk).&lt;/p&gt;

&lt;p&gt;I also fixed the assert and removed the bogus check in Field&apos;s ctor.&lt;/p&gt;

&lt;p&gt;But the checkIndex fails (as it does before, if you index this term with assertions disabled). So next step is to figure out a fix...&lt;/p&gt;</comment>
                    <comment id="13134534" author="rcmuir" created="Mon, 24 Oct 2011 22:46:38 +0100"  >&lt;p&gt;attached is a patch... its basically just a backport of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3526&quot; title=&quot;preflex codec returns wrong terms if you use an empty field name&quot;&gt;&lt;del&gt;LUCENE-3526&lt;/del&gt;&lt;/a&gt; to fix the problem.&lt;/p&gt;</comment>
                    <comment id="13134651" author="rcmuir" created="Tue, 25 Oct 2011 01:10:13 +0100"  >&lt;p&gt;Thanks Mike, your fix from 3183 was correct all along... we should have just gone with it originally...&lt;/p&gt;</comment>
                    <comment id="13157813" author="thetaphi" created="Sun, 27 Nov 2011 12:29:36 +0000"  >&lt;p&gt;Bulk close after release of 3.5&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12500549" name="LUCENE-3529.patch" size="5212" author="rcmuir" created="Mon, 24 Oct 2011 22:46:38 +0100" />
                    <attachment id="12500511" name="LUCENE-3529_test.patch" size="3134" author="rcmuir" created="Mon, 24 Oct 2011 19:44:43 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 27 Nov 2011 12:29:36 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>214402</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24168</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>