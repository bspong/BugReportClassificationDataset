<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:01:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2247/LUCENE-2247.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2247] Add CharArrayMap to lucene and make CharAraySet an proxy on the keySet() of it</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2247</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This patch adds a CharArrayMap&amp;lt;V&amp;gt; to Lucene&apos;s analysis package as compagnon of CharArraySet. It supports fast retrieval of char[] keys like CharArraySet does. This is important for some stemmers and other places in Lucene.&lt;/p&gt;

&lt;p&gt;Stemers generally use CharArrayMap&amp;lt;String&amp;gt;, which has then get(char[]) returning String. Strings are compact and can be easily copied into termBuffer. A Map&amp;lt;String,String&amp;gt; would be slow as the termBuffer would be first converted to String, then looked up. The return value as String is perfectly legal, as it can be copied easily into termBuffer.&lt;/p&gt;

&lt;p&gt;This class borrows lots of code from Solr&apos;s pendant, but has additional features and more consistent API according to CharArraySet. The key is always &amp;lt;?&amp;gt;, because as of CharArraySet, anything that has a toString() representation can be used as key (of course with overhead). It also defines a unmodifiable map and correct iterators (returning the native char[]).&lt;/p&gt;

&lt;p&gt;CharArraySet was made consistent and now returns for matchVersion&amp;gt;=3.1 also an iterator on char[]. CharArraySet&apos;s code was almost completely copied to CharArrayMap and removed in the Set. CharArraySet is now a simple proxy on the keySet().&lt;/p&gt;

&lt;p&gt;In future we can think of making CharArraySet/CharArrayMap/CharArrayCollection an interface so the whole API would be more consistent to the Java collections API. But this would be a backwards break. But it would be possible to use better impl instead of hashing (like prefix trees).&lt;/p&gt;</description>
                <environment></environment>
            <key id="12454992">LUCENE-2247</key>
            <summary>Add CharArrayMap to lucene and make CharAraySet an proxy on the keySet() of it</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Feb 2010 23:38:17 +0000</created>
                <updated>Fri, 10 May 2013 11:43:55 +0100</updated>
                    <resolved>Wed, 3 Feb 2010 12:39:33 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12828333" author="thetaphi" created="Mon, 1 Feb 2010 23:40:09 +0000"  >&lt;p&gt;Here the patch.&lt;/p&gt;

&lt;p&gt;To apply, first do:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
svn copy src/java/org/apache/lucene/analysis/CharArraySet.java src/java/org/apache/lucene/analysis/CharArrayMap.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Have fun!&lt;/p&gt;</comment>
                    <comment id="12828348" author="thetaphi" created="Tue, 2 Feb 2010 00:03:12 +0000"  >&lt;p&gt;Add CHANGES entry and some javadoc improvements and typo fixes. No code changes.&lt;/p&gt;</comment>
                    <comment id="12828367" author="rcmuir" created="Tue, 2 Feb 2010 00:24:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12828372" author="thetaphi" created="Tue, 2 Feb 2010 00:34:15 +0000"  >&lt;p&gt;Thanks Robert!&lt;/p&gt;

&lt;p&gt;I only optimized the entrySet() calls to only produce the &quot;view&quot; one time and cache (without synchronization of course), like the Java collections API suggests and does.&lt;/p&gt;

&lt;p&gt;I think it is now ready to commit.&lt;/p&gt;</comment>
                    <comment id="12828603" author="thetaphi" created="Tue, 2 Feb 2010 11:31:52 +0000"  >&lt;p&gt;Improved patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;keySet now returns a CharArraySet view on the map&lt;/li&gt;
	&lt;li&gt;toString() improvements of all views in CAS and CAM&lt;/li&gt;
	&lt;li&gt;further tests on the views and toString() outputs&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12828635" author="thetaphi" created="Tue, 2 Feb 2010 14:50:40 +0000"  >&lt;p&gt;I will commit this in a day or two.&lt;/p&gt;</comment>
                    <comment id="12829056" author="thetaphi" created="Wed, 3 Feb 2010 12:39:01 +0000"  >&lt;p&gt;Here the latest patch, now committed revision: 906032&lt;/p&gt;</comment>
                    <comment id="12829057" author="thetaphi" created="Wed, 3 Feb 2010 12:39:33 +0000"  >&lt;p&gt;Thanks Robert for testing!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12434672" name="LUCENE-2247.patch" size="58055" author="thetaphi" created="Wed, 3 Feb 2010 12:39:00 +0000" />
                    <attachment id="12434521" name="LUCENE-2247.patch" size="57488" author="thetaphi" created="Tue, 2 Feb 2010 11:31:52 +0000" />
                    <attachment id="12434472" name="LUCENE-2247.patch" size="53859" author="thetaphi" created="Tue, 2 Feb 2010 00:34:15 +0000" />
                    <attachment id="12434466" name="LUCENE-2247.patch" size="53752" author="thetaphi" created="Tue, 2 Feb 2010 00:03:12 +0000" />
                    <attachment id="12434454" name="LUCENE-2247.patch" size="52904" author="thetaphi" created="Mon, 1 Feb 2010 23:40:09 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 2 Feb 2010 00:24:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11541</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25478</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>