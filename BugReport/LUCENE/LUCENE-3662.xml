<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:32:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3662/LUCENE-3662.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3662] extend LevenshteinAutomata to support transpositions as primitive edits</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3662</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This would be a nice improvement for spell correction: currently a transposition counts as 2 edits,&lt;br/&gt;
which means users of DirectSpellChecker must use larger values of n (e.g. 2 instead of 1) and &lt;br/&gt;
larger priority queue sizes, plus some sort of re-ranking with another distance measure for good results.&lt;/p&gt;

&lt;p&gt;Instead if we can integrate &quot;chapter 7&quot; of &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.16.652&quot; class=&quot;external-link&quot;&gt;http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.16.652&lt;/a&gt; &lt;br/&gt;
then you can just build an alternative DFA where a transposition is only a single edit &lt;br/&gt;
(&lt;a href=&quot;http://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance&quot; class=&quot;external-link&quot;&gt;http://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;According to the benchmarks in the original paper, the performance for LevT looks to be very similar to Lev.&lt;/p&gt;

&lt;p&gt;Support for this is now in moman (&lt;a href=&quot;https://bitbucket.org/jpbarrette/moman/&quot; class=&quot;external-link&quot;&gt;https://bitbucket.org/jpbarrette/moman/&lt;/a&gt;) thanks to Jean-Philippe &lt;br/&gt;
Barrette-LaPierre.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12535942">LUCENE-3662</key>
            <summary>extend LevenshteinAutomata to support transpositions as primitive edits</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2011 00:44:05 +0000</created>
                <updated>Fri, 10 May 2013 11:43:34 +0100</updated>
                    <resolved>Mon, 26 Dec 2011 21:19:06 +0000</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13173722" author="rcmuir" created="Wed, 21 Dec 2011 01:15:07 +0000"  >&lt;p&gt;as a start, i thought we could try upgrading moman, passing &apos;False&apos; for transpositions (as if you pass true, it uses the extended state notation including t-positions and this really makes our code-generator angry).&lt;/p&gt;

&lt;p&gt;But already there is some silly problem (likely in our code generator). I&apos;ll attach some files showing how the difference in the moman output changed&lt;/p&gt;</comment>
                    <comment id="13173737" author="rcmuir" created="Wed, 21 Dec 2011 01:24:04 +0000"  >&lt;p&gt;here is the before and after... at a glance the changes only seem cosmetic, maybe mike has an idea &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I attached a lev1T just for fun to show the new notation as well.&lt;/p&gt;</comment>
                    <comment id="13173772" author="rcmuir" created="Wed, 21 Dec 2011 02:02:25 +0000"  >&lt;p&gt;ok i found the bug, it was a (no longer valid) optimization in the parser for this null state case... no longer a problem now.&lt;/p&gt;

&lt;p&gt;Tests pass with this patch, which simply upgrades our moman to the latest revision.&lt;/p&gt;

&lt;p&gt;From here we have to modify the code generator to also generate &quot;T&quot; tables, and deal with the new t-position syntax.&lt;/p&gt;
</comment>
                    <comment id="13173786" author="rcmuir" created="Wed, 21 Dec 2011 02:37:57 +0000"  >&lt;p&gt;updated patch with hacks to the parser and generated Lev1T and Lev2T parametric descriptions... i have no idea if any of this works yet.&lt;/p&gt;</comment>
                    <comment id="13173804" author="rcmuir" created="Wed, 21 Dec 2011 03:10:33 +0000"  >&lt;p&gt;updated patch, hooking this into LevenshteinAutomata.&lt;/p&gt;

&lt;p&gt;I wrote a trivial test for &quot;dog&quot; and it passes... this is promising. &lt;/p&gt;

&lt;p&gt;I&apos;ll try to come up with a good testing strategy.&lt;/p&gt;</comment>
                    <comment id="13173942" author="dweiss" created="Wed, 21 Dec 2011 08:19:31 +0000"  >&lt;p&gt;Avanti Robert! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="13173965" author="thetaphi" created="Wed, 21 Dec 2011 09:19:13 +0000"  >&lt;p&gt;How many beers did you need for that?&lt;/p&gt;</comment>
                    <comment id="13174878" author="rcmuir" created="Thu, 22 Dec 2011 16:20:13 +0000"  >&lt;p&gt;updated patch with tests. this reveals a bug in moman for LevT(2)... &lt;/p&gt;</comment>
                    <comment id="13175788" author="rcmuir" created="Sun, 25 Dec 2011 00:36:22 +0000"  >&lt;p&gt;patch updated to revision 120 of moman, fixing the bug. tests pass now.&lt;/p&gt;
</comment>
                    <comment id="13175870" author="markrmiller@gmail.com" created="Mon, 26 Dec 2011 01:13:14 +0000"  >&lt;p&gt;Sweet. I&apos;d estimate many beers.&lt;/p&gt;</comment>
                    <comment id="13175871" author="rcmuir" created="Mon, 26 Dec 2011 01:51:31 +0000"  >&lt;p&gt;patch, hooking this into directspellchecker by default. I think its ready to commit.&lt;/p&gt;

&lt;p&gt;I did some rough perf tests, the transpositions costs us nothing. But the suggestions are much more relevant in some situations:&lt;/p&gt;

&lt;p&gt;for example, I typed &quot;Wahsington&quot; into the geonames database, asking for top-5 suggestions:&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;maxEdits=1&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;before:&lt;br/&gt;
(no suggestions)&lt;/p&gt;

&lt;p&gt;after:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Suggestion&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Score&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;DocFreq&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Washington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;61&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;maxEdits=2&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;before:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Suggestion&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Score&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;DocFreq&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Washington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;61&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Warrington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Waddington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Wallington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Watlington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;after:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Suggestion&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Score&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;DocFreq&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Washington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;61&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Warrington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Waddington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Wallington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Watlington&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;About the beers: the story is that I made some small progress towards implementing this (&lt;a href=&quot;https://bitbucket.org/rmuir/moman&quot; class=&quot;external-link&quot;&gt;https://bitbucket.org/rmuir/moman&lt;/a&gt;) with many many beers, but got stuck, Jean-Phillipe merged my commits, emailed me that he is confident he can implement it in 15 hours, and did just that. I found a bug in the test, he fixed it the next day as before... and go figure it looks like the bug might have been in the part I did.&lt;/p&gt;</comment>
                    <comment id="13175910" author="thetaphi" created="Mon, 26 Dec 2011 08:22:09 +0000"  >&lt;p&gt;A nice Xmas present! +1&lt;/p&gt;

&lt;p&gt;I think we should send Jean-Philippe some beers, too.&lt;/p&gt;</comment>
                    <comment id="13175937" author="dweiss" created="Mon, 26 Dec 2011 13:21:14 +0000"  >&lt;p&gt;+1 for beers for Jean-Phillipe.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12508173" name="lev1.rev115.txt" size="3791" author="rcmuir" created="Wed, 21 Dec 2011 01:24:04 +0000" />
                    <attachment id="12508174" name="lev1.rev119.txt" size="3352" author="rcmuir" created="Wed, 21 Dec 2011 01:24:04 +0000" />
                    <attachment id="12508175" name="lev1t.txt" size="4589" author="rcmuir" created="Wed, 21 Dec 2011 01:24:04 +0000" />
                    <attachment id="12508617" name="LUCENE-3662.patch" size="54619" author="rcmuir" created="Mon, 26 Dec 2011 01:51:31 +0000" />
                    <attachment id="12508600" name="LUCENE-3662.patch" size="48839" author="rcmuir" created="Sun, 25 Dec 2011 00:36:22 +0000" />
                    <attachment id="12508406" name="LUCENE-3662.patch" size="49061" author="rcmuir" created="Thu, 22 Dec 2011 16:20:13 +0000" />
                    <attachment id="12508191" name="LUCENE-3662.patch" size="37820" author="rcmuir" created="Wed, 21 Dec 2011 03:10:32 +0000" />
                    <attachment id="12508189" name="LUCENE-3662.patch" size="34955" author="rcmuir" created="Wed, 21 Dec 2011 02:37:57 +0000" />
                    <attachment id="12508183" name="LUCENE-3662_upgrade_moman.patch" size="14561" author="rcmuir" created="Wed, 21 Dec 2011 02:02:25 +0000" />
                    <attachment id="12508171" name="update-moman.patch" size="18200" author="rcmuir" created="Wed, 21 Dec 2011 01:15:07 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 21 Dec 2011 08:19:31 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>221626</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24036</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>