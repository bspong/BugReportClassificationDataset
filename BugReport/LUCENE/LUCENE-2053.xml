<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:09:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2053/LUCENE-2053.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2053] When thread is interrupted we should throw a clear exception</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2053</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This is the 3.0 followon from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1573&quot; title=&quot;IndexWriter does not do the right thing when a Thread is interrupt()&amp;#39;d&quot;&gt;&lt;del&gt;LUCENE-1573&lt;/del&gt;&lt;/a&gt;.  We should throw a dedicated exception, not just RuntimeException.&lt;/p&gt;

&lt;p&gt;Recent discussion from java-dev &quot;Thread.interrupt()&quot; subject: &lt;a href=&quot;http://www.lucidimagination.com/search/document/8423f9f0b085034e/thread_interrupt&quot; class=&quot;external-link&quot;&gt;http://www.lucidimagination.com/search/document/8423f9f0b085034e/thread_interrupt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12440364">LUCENE-2053</key>
            <summary>When thread is interrupted we should throw a clear exception</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Nov 2009 00:50:16 +0000</created>
                <updated>Wed, 25 Nov 2009 16:47:57 +0000</updated>
                    <resolved>Sun, 15 Nov 2009 18:38:20 +0000</resolved>
                                            <fixVersion>3.0</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12776973" author="thetaphi" created="Thu, 12 Nov 2009 12:36:39 +0000"  >&lt;p&gt;Here are some names for Exceptions:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;UnexpectedInterruptException extends RuntimeException&lt;/li&gt;
	&lt;li&gt;IndexerInterruptedException extends RuntimeException&lt;/li&gt;
	&lt;li&gt;IndexWriterInterruptedException extends RuntimeException&lt;/li&gt;
	&lt;li&gt;SmartInterruptedException (just a joke)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Another possibility would be to use IOException as super class, this would enable users to catch it without changing code and they will correctly log the message and not fallback to default RuntimeException catch in JVM.&lt;/p&gt;

&lt;p&gt;The patch is easy, you have to just find all Thread.interrupt() calls or catch InterruptedException in the code.&lt;/p&gt;</comment>
                    <comment id="12776982" author="mikemccand" created="Thu, 12 Nov 2009 13:04:25 +0000"  >&lt;p&gt;How about ThreadInterruptedException?  Maybe under oal.util?&lt;/p&gt;

&lt;p&gt;I wouldn&apos;t restrict the name/scope to indexing.  Sure, maybe today you can&apos;t Thread.interrupt a Lucene search, but maybe in the future we&apos;ll allow that and then this same exception should be thrown.&lt;/p&gt;

&lt;p&gt;I think it&apos;s cleaner to extend RuntimeException.  Right now (2.9) you get a RuntimeException, so extending IOException instead is more of a back compat break.&lt;/p&gt;

&lt;p&gt;I just wish InterruptedException had been non-checked from the get-go...&lt;/p&gt;</comment>
                    <comment id="12776989" author="thetaphi" created="Thu, 12 Nov 2009 13:17:36 +0000"  >&lt;p&gt;So I think we go with RuntimeException.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ThreadInterruptedException&lt;/li&gt;
	&lt;li&gt;UnexpectedInterruptedException&lt;/li&gt;
	&lt;li&gt;UncheckedInterruptedException&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;...&lt;/p&gt;</comment>
                    <comment id="12777026" author="mikemccand" created="Thu, 12 Nov 2009 15:48:59 +0000"  >&lt;p&gt;OK I&apos;ll go with ThreadInterruptedException!  I&apos;ll wait a while just in case someone has a violent reaction to that name &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12777463" author="mikemccand" created="Fri, 13 Nov 2009 11:32:49 +0000"  >&lt;p&gt;Attached patch.&lt;/p&gt;</comment>
                    <comment id="12778096" author="mikemccand" created="Sun, 15 Nov 2009 13:00:41 +0000"  >&lt;p&gt;Reopening to address buggy intermittent test failure...&lt;/p&gt;</comment>
                    <comment id="12778099" author="mikemccand" created="Sun, 15 Nov 2009 13:37:07 +0000"  >&lt;p&gt;Attached my current approach for fixing the test.&lt;/p&gt;

&lt;p&gt;Includes a silly workaround to not let an interrupted thread hit the class loader.  Weird....&lt;/p&gt;
</comment>
                    <comment id="12778122" author="thetaphi" created="Sun, 15 Nov 2009 16:36:36 +0000"  >&lt;p&gt;Patch looks good, even I do not understand it completely.&lt;/p&gt;</comment>
                    <comment id="12778139" author="mikemccand" created="Sun, 15 Nov 2009 18:17:24 +0000"  >&lt;p&gt;OK I&apos;ll commit shortly.&lt;/p&gt;

&lt;p&gt;Basically, with the patch the test is now more careful: the main thread issues the interrupt, and then waits for the child thread to confirm it handled the exception.  This way the main thread won&apos;t send another interrupt until the child thread is done handling the last one.&lt;/p&gt;</comment>
                    <comment id="12778145" author="mikemccand" created="Sun, 15 Nov 2009 18:38:20 +0000"  >&lt;p&gt;OK, trying again!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12424998" name="LUCENE-2053.patch" size="4513" author="mikemccand" created="Sun, 15 Nov 2009 13:37:07 +0000" />
                    <attachment id="12424834" name="LUCENE-2053.patch" size="23184" author="mikemccand" created="Fri, 13 Nov 2009 11:32:49 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 12 Nov 2009 12:36:39 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11724</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25672</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>