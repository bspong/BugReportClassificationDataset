<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:14:38 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2869/LUCENE-2869.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2869] remove Query.getSimilarity()</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2869</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2854&quot; title=&quot;Deprecate SimilarityDelegator and Similarity.lengthNorm&quot;&gt;&lt;del&gt;LUCENE-2854&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2828&quot; title=&quot;SimilarityDelegator broke back-compat for subclasses overriding lengthNorm&quot;&gt;&lt;del&gt;LUCENE-2828&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2854&quot; title=&quot;Deprecate SimilarityDelegator and Similarity.lengthNorm&quot;&gt;&lt;del&gt;LUCENE-2854&lt;/del&gt;&lt;/a&gt; for reference.&lt;/p&gt;

&lt;p&gt;In general, the SimilarityDelegator was problematic with regards to back-compat, and if queries&lt;br/&gt;
want to score differently, trying to runtime subclass Similarity only causes trouble.&lt;/p&gt;

&lt;p&gt;The reason we could not fix this in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2854&quot; title=&quot;Deprecate SimilarityDelegator and Similarity.lengthNorm&quot;&gt;&lt;del&gt;LUCENE-2854&lt;/del&gt;&lt;/a&gt; is because:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Michael McCandless added a comment - 08/Jan/11 01:53 PM
bq. Is it possible to remove this method Query.getSimilarity also? I don&apos;t understand why we need this method!

I would love to! But I think that&apos;s for another day...

I looked into this and got stuck with BoostingQuery, which rewrites to an anon 
subclass of BQ overriding its getSimilarity in turn override its coord method. 
Rather twisted... if we can do this differently I think we could remove Query.getSimilarity.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;here is the method in question:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/** Expert: Returns the Similarity implementation to be used for this query.
 * Subclasses may override this method to specify their own Similarity
 * implementation, perhaps one that delegates through that of the Searcher.
 * By default the Searcher&apos;s Similarity implementation is returned.*/
public Similarity getSimilarity(IndexSearcher searcher) {
  return searcher.getSimilarity();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
            <key id="12495599">LUCENE-2869</key>
            <summary>remove Query.getSimilarity()</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jan 2011 15:42:22 +0000</created>
                <updated>Wed, 19 Jan 2011 23:08:34 +0000</updated>
                    <resolved>Wed, 19 Jan 2011 23:08:34 +0000</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12981798" author="rcmuir" created="Fri, 14 Jan 2011 15:44:05 +0000"  >&lt;p&gt;Here&apos;s a patch.&lt;/p&gt;

&lt;p&gt;To fix the BoostingQuery in contrib, it overrides BooleanWeight.&lt;br/&gt;
(Also a test that instantiates BooleanScorer with a null weight had to be fixed).&lt;/p&gt;</comment>
                    <comment id="12983929" author="rcmuir" created="Wed, 19 Jan 2011 23:08:34 +0000"  >&lt;p&gt;Committed revision 1061050, 1061052 (3x)&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12468379" name="LUCENE-2869.patch" size="24371" author="rcmuir" created="Fri, 14 Jan 2011 15:44:05 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10997</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24823</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>