<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:58 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3254/LUCENE-3254.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3254] BitVector.isSparse is sometimes wrong</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3254</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In working on &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3246&quot; title=&quot;Invert IR.getDelDocs -&amp;gt; IR.getLiveDocs&quot;&gt;&lt;del&gt;LUCENE-3246&lt;/del&gt;&lt;/a&gt;, I found a few problems with&lt;br/&gt;
BitVector.isSparse:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Its math can overflow int, such that if there are enough deleted&lt;br/&gt;
    docs and maxDoc() is largish, isSparse may incorrectly return true&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;It over-estimates the size of the sparse file, since when&lt;br/&gt;
    estimating number of bytes for the vInt dgaps it uses bits.length&lt;br/&gt;
    instead of bits.length divided by number of set bits (ie, the&lt;br/&gt;
    &quot;average&quot; gap between set bits)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is relatively harmless (just affects performance / size of .del&lt;br/&gt;
file on disk, not correctness).&lt;/p&gt;</description>
                <environment></environment>
            <key id="12511993">LUCENE-3254</key>
            <summary>BitVector.isSparse is sometimes wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jun 2011 14:47:48 +0100</created>
                <updated>Sun, 27 Nov 2011 12:31:41 +0000</updated>
                    <resolved>Tue, 28 Jun 2011 18:44:59 +0100</resolved>
                                            <fixVersion>3.4</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/other</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13056514" author="mikemccand" created="Tue, 28 Jun 2011 14:50:02 +0100"  >&lt;p&gt;Patch, fixing those two issues, and also 1) marking BV as&lt;br/&gt;
@lucene.internal, 2) removing BV.subset (we don&apos;t use it), 3) adding a&lt;br/&gt;
back-compat version header to the BV file (I need this for&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3246&quot; title=&quot;Invert IR.getDelDocs -&amp;gt; IR.getLiveDocs&quot;&gt;&lt;del&gt;LUCENE-3246&lt;/del&gt;&lt;/a&gt;), and other small changes.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12484439" name="LUCENE-3254.patch" size="9721" author="mikemccand" created="Tue, 28 Jun 2011 14:50:02 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10748</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24442</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>