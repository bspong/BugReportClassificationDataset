<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:20:49 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2140/LUCENE-2140.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2140] TopTermsScoringBooleanQueryRewrite minscore</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2140</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;when using the TopTermsScoringBooleanQueryRewrite (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2123&quot; title=&quot;Move FuzzyQuery rewrite as separate RewriteMode into MTQ, was: Highlighter fails to highlight FuzzyQuery&quot;&gt;&lt;del&gt;LUCENE-2123&lt;/del&gt;&lt;/a&gt;), it would be nice if MultiTermQuery could set an attribute specifying the minimum required score once the Priority Queue is filled. &lt;/p&gt;

&lt;p&gt;This way, FilteredTermsEnums could adjust their behavior accordingly based on the minimal score needed to actually be a useful term (i.e. not just pass thru the pq)&lt;/p&gt;

&lt;p&gt;An example is FuzzyTermsEnum: at some point the bottom of the priority queue contains words with edit distance of 1 and enumerating any further terms is simply a waste of time.&lt;br/&gt;
This is because terms are compared by score, then termtext. So in this case FuzzyTermsEnum could simply seek to the exact match, then end.&lt;/p&gt;

&lt;p&gt;This behavior could be also generalized for all n, for a different impl of fuzzyquery where it is only looking in the term dictionary for words within edit distance of n&apos; which is the lowest scoring term in the pq (they adjust their behavior during enumeration of the terms depending upon this attribute).&lt;/p&gt;

&lt;p&gt;Other FilteredTermsEnums could make use of this minimal score in their own way, to drive the most efficient behavior so that they do not waste time enumerating useless terms.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12442932">LUCENE-2140</key>
            <summary>TopTermsScoringBooleanQueryRewrite minscore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Dec 2009 00:11:22 +0000</created>
                <updated>Fri, 10 May 2013 11:44:53 +0100</updated>
                    <resolved>Mon, 14 Dec 2009 13:27:21 +0000</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12788547" author="thetaphi" created="Thu, 10 Dec 2009 07:00:23 +0000"  >&lt;p&gt;I would add this extra seeting to BoostAttribute itsself, because it correlates with the retunred boost. This way the attribute is used in two directions. The only thing:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;clear() should leave this setting untouched&lt;/li&gt;
	&lt;li&gt;equals and hashcode maybe should also ignore this, too&lt;/li&gt;
	&lt;li&gt;the default will be Float.NEGATIVE_INFINITY&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The code to support this is added into the newest patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2123&quot; title=&quot;Move FuzzyQuery rewrite as separate RewriteMode into MTQ, was: Highlighter fails to highlight FuzzyQuery&quot;&gt;&lt;del&gt;LUCENE-2123&lt;/del&gt;&lt;/a&gt; with few lines, as it now also did not even try to insert uncompetitive hits into the PQ. The TermCollector would be changed from interface to abstract class that has a protected final accessor to the boostAttr. But for now, we should wait with adding this to BoostAttr.&lt;/p&gt;</comment>
                    <comment id="12788652" author="mikemccand" created="Thu, 10 Dec 2009 10:28:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would add this extra seeting to BoostAttribute itsself,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;So BoostAttr would have something like set/getMinCompetiveValue or something?&lt;/p&gt;
</comment>
                    <comment id="12788656" author="mikemccand" created="Thu, 10 Dec 2009 10:35:30 +0000"  >&lt;p&gt;This same sort of optimization would be interesting to explore for Lucene&apos;s sorting, btw.&lt;/p&gt;

&lt;p&gt;EG, say I&apos;m sorting by an int field, keeping top 10 resuls, and, I&apos;m collecting alot of hits.  I see at some point that the &quot;bottom&quot; of the queue has int value 7.  At this point, because the int[] from FieldCache is RAM resident, it&apos;d likely be faster, possibly much faster for complex queries, to jump into the field cache, skip forward until you find a doc that has &amp;lt; 7 as its value, and ask the Scorer to advance to that doc.&lt;/p&gt;

&lt;p&gt;Ie, there comes a time in the search where the int value of that field is a more performant way to drive the scoring.&lt;/p&gt;

&lt;p&gt;I wonder if sorting by relevance could do something similar... eg if we know at some point the worst (bottom) relevance in our queue is 2.0, can any Scorer out there somehow use that info to efficiently skip forward.  Maybe only TermScorer, when norms aren&apos;t in use, though...&lt;/p&gt;</comment>
                    <comment id="12789749" author="thetaphi" created="Sat, 12 Dec 2009 14:56:40 +0000"  >&lt;p&gt;Here the patch.&lt;/p&gt;

&lt;p&gt;Robert: Is this what you need? Any better method names?&lt;/p&gt;</comment>
                    <comment id="12789751" author="thetaphi" created="Sat, 12 Dec 2009 15:04:34 +0000"  >&lt;p&gt;Maybe the method should have a better name instead of minXXXX: This is not the minimum possible boost, that would go into the PQ, it is the largest boost that would not go into the PQ (so the check in the enum should be: accept term only if its boost is &amp;gt; boost hint).&lt;/p&gt;</comment>
                    <comment id="12789754" author="mikemccand" created="Sat, 12 Dec 2009 15:37:38 +0000"  >&lt;p&gt;minCompetitiveBoost?  minRequiredBoost?&lt;/p&gt;</comment>
                    <comment id="12789755" author="thetaphi" created="Sat, 12 Dec 2009 15:47:05 +0000"  >&lt;p&gt;The problem with minCompetitiveBoost/minRequiredBoost is, that exactly that boost is not competitive, it must be slightly larger...&lt;/p&gt;</comment>
                    <comment id="12789762" author="thetaphi" created="Sat, 12 Dec 2009 16:40:33 +0000"  >&lt;p&gt;get/setMaxNonCompetitiveBoost() ?&lt;/p&gt;</comment>
                    <comment id="12789764" author="rcmuir" created="Sat, 12 Dec 2009 16:43:59 +0000"  >&lt;p&gt;... get/setYouMustBeTallerThanThisToRide()&lt;/p&gt;</comment>
                    <comment id="12789772" author="mikemccand" created="Sat, 12 Dec 2009 17:47:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;get/setMaxNonCompetitiveBoost() ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12789774" author="thetaphi" created="Sat, 12 Dec 2009 18:03:40 +0000"  >&lt;p&gt;Patch with further access modifier changes and new method name &amp;amp; javadocs.&lt;/p&gt;</comment>
                    <comment id="12790084" author="thetaphi" created="Mon, 14 Dec 2009 10:38:05 +0000"  >&lt;p&gt;I will commit this patch later today.&lt;/p&gt;</comment>
                    <comment id="12790141" author="thetaphi" created="Mon, 14 Dec 2009 13:27:21 +0000"  >&lt;p&gt;Committed revision: 890308&lt;/p&gt;

&lt;p&gt;Thanks all!&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                <outwardlinks description="depends upon">
                            <issuelink>
            <issuekey id="12442589">LUCENE-2123</issuekey>
        </issuelink>
                    </outwardlinks>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12441396">LUCENE-2089</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12427827" name="LUCENE-2140.patch" size="3962" author="thetaphi" created="Sat, 12 Dec 2009 18:03:40 +0000" />
                    <attachment id="12427823" name="LUCENE-2140.patch" size="3324" author="thetaphi" created="Sat, 12 Dec 2009 14:56:40 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 10 Dec 2009 07:00:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11641</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25585</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>