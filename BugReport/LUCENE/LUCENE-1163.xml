<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:07:30 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1163/LUCENE-1163.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1163] CharArraySet.contains(char[] text, int off, int len) does not work</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1163</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I try to use the CharArraySet for a filter I am writing. I heavily use char-arrays in my code to speed up things. I stumbled upon a bug in CharArraySet while doing that.&lt;/p&gt;

&lt;p&gt;The method &lt;em&gt;public boolean contains(char[] text, int off, int len)&lt;/em&gt; seems not to work.&lt;/p&gt;

&lt;p&gt;When I do &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (set.contains(buffer,offset,length) {
  ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;my code fails.&lt;/p&gt;

&lt;p&gt;But when I do&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (set.contains(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(buffer,offset,length)) {
   ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;everything works as expected.&lt;/p&gt;

&lt;p&gt;Both variants should behave the same. I attach a small piece of code to show the problem.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12387870">LUCENE-1163</key>
            <summary>CharArraySet.contains(char[] text, int off, int len) does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="tpeuss">Thomas Peuss</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2008 13:18:52 +0000</created>
                <updated>Sat, 11 Oct 2008 13:49:35 +0100</updated>
                    <resolved>Tue, 5 Feb 2008 14:04:50 +0000</resolved>
                            <version>2.3</version>
                                <fixVersion>2.4</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12565742" author="tpeuss" created="Tue, 5 Feb 2008 13:20:27 +0000"  >&lt;p&gt;A simple piece of code that shows the problem.&lt;/p&gt;</comment>
                    <comment id="12565746" author="mikemccand" created="Tue, 5 Feb 2008 13:44:01 +0000"  >&lt;p&gt;Indeed it&apos;s really a bug &amp;#8211; thank you for finding this &amp;amp; reporting it Thomas!&lt;/p&gt;

&lt;p&gt;We were ignoring the offset when computing the hash code internally.&lt;/p&gt;

&lt;p&gt;Lucene always passes &apos;0&apos; for this offset (only used in StopFilter currently) so it wasn&apos;t hitting any existing Lucene test cases.&lt;/p&gt;

&lt;p&gt;I turned your example into a test case in the attached patch.  I will commit shortly.&lt;/p&gt;</comment>
                    <comment id="12565748" author="tpeuss" created="Tue, 5 Feb 2008 13:51:03 +0000"  >&lt;p&gt;Thanks for the quick response. I can confirm that the patch fixes the problem.&lt;/p&gt;</comment>
                    <comment id="12565751" author="mikemccand" created="Tue, 5 Feb 2008 14:04:26 +0000"  >&lt;p&gt;Super, thanks Thomas!  I just committed this.&lt;/p&gt;</comment>
                    <comment id="12568050" author="mikemccand" created="Tue, 12 Feb 2008 11:02:25 +0000"  >&lt;p&gt;I&apos;ll port this one to 2.3.1 as well.&lt;/p&gt;</comment>
                    <comment id="12568056" author="mikemccand" created="Tue, 12 Feb 2008 11:24:24 +0000"  >&lt;p&gt;Backported to 2.3&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12374771" name="CharArraySetShowBug.java" size="619" author="tpeuss" created="Tue, 5 Feb 2008 13:20:27 +0000" />
                    <attachment id="12374772" name="LUCENE-1163.patch" size="2842" author="mikemccand" created="Tue, 5 Feb 2008 13:44:01 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 5 Feb 2008 13:44:01 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12581</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26566</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>