<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:12:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1202/LUCENE-1202.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1202] Clover setup currently has some problems</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1202</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;(tracking as a bug before it get lost in email...&lt;br/&gt;
  &lt;a href=&quot;http://www.nabble.com/Clover-reports-missing-from-hudson--to15510616.html#a15510616&quot; class=&quot;external-link&quot;&gt;http://www.nabble.com/Clover-reports-missing-from-hudson--to15510616.html#a15510616&lt;/a&gt;&lt;br/&gt;
)&lt;/p&gt;

&lt;p&gt;The clover setup for Lucene currently has some problems, 3 i think...&lt;/p&gt;

&lt;p&gt;1) instrumentation fails on contrib/db/ because it contains java packages the ASF Clover lscence doesn&apos;t allow instrumentation of.  i have a patch for this.&lt;/p&gt;

&lt;p&gt;2) running instrumented contrib tests for other contribs produce strange errors...&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;monospaced&lt;/tt&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testsuite: org.apache.lucene.analysis.el.GreekAnalyzerTest&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0.126 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; ------------- Standard Error -----------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;CLOVER&amp;#93;&lt;/span&gt; FATAL ERROR: Clover could not be initialised. Are you sure you have Clover&lt;br/&gt;
in the runtime classpath? (class&lt;br/&gt;
java.lang.NoClassDefFoundError:com_cenqua_clover/CloverVersionInfo)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; ------------- ---------------- ---------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testAnalyzer(org.apache.lucene.analysis.el.GreekAnalyzerTest):    Caused&lt;br/&gt;
an ERROR&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; com_cenqua_clover/g&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.lang.NoClassDefFoundError: com_cenqua_clover/g&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.lucene.analysis.el.GreekAnalyzer.&amp;lt;init&amp;gt;(GreekAnalyzer.java:157)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
org.apache.lucene.analysis.el.GreekAnalyzerTest.testAnalyzer(GreekAnalyzerTest.java:60)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test org.apache.lucene.analysis.el.GreekAnalyzerTest FAILED&lt;br/&gt;
&lt;tt&gt;monospaced&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;...i&apos;m not sure what&apos;s going on here.  the error seems to happen both when&lt;br/&gt;
trying to run clover on just a single contrib, or when doing the full&lt;br/&gt;
build ... i suspect there is an issue with the way the batchtests fork&lt;br/&gt;
off, but I can&apos;t see why it would only happen to contribs (the regular&lt;br/&gt;
tests fork as well)&lt;/p&gt;

&lt;p&gt;3) according to Grant...&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;quote&lt;/tt&gt;&lt;br/&gt;
...There is also a bit of a change on Hudson during the migration to the new servers that needs to be ironed  out. &lt;br/&gt;
&lt;tt&gt;quote&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12390290">LUCENE-1202</key>
            <summary>Clover setup currently has some problems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="hossman">Hoss Man</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2008 22:20:22 +0000</created>
                <updated>Mon, 17 Mar 2008 12:36:31 +0000</updated>
                    <resolved>Mon, 17 Mar 2008 12:36:31 +0000</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12575513" author="hossman" created="Wed, 5 Mar 2008 22:22:27 +0000"  >&lt;p&gt;patch to limit the files we ask clover to instrument to those we (expect) to be in the allowed packages.  solves the problem with contrib/db and any future code that may work like it.&lt;/p&gt;</comment>
                    <comment id="12575702" author="gsingers" created="Thu, 6 Mar 2008 13:39:34 +0000"  >&lt;p&gt;Does the Clover license allow instrumenting non a.o packages, as in:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;fileset dir=&quot;src/java&quot;/&amp;gt;&lt;br/&gt;
+      &amp;lt;fileset dir=&quot;src/java&quot;&amp;gt;&lt;br/&gt;
+        &amp;lt;!-- see &lt;a href=&quot;https://svn.apache.org/repos/private/committers/donated-licenses/clover/1.3.2/README.txt&quot; class=&quot;external-link&quot;&gt;https://svn.apache.org/repos/private/committers/donated-licenses/clover/1.3.2/README.txt&lt;/a&gt; --&amp;gt;&lt;br/&gt;
+        &amp;lt;include name=&quot;org/apache/**&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;include name=&quot;javax/**&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;include name=&quot;org/xml/**&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;include name=&quot;org/w3c/**&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;include name=&quot;com/example/**&quot; /&amp;gt;&lt;br/&gt;
+      &amp;lt;/fileset&amp;gt;&lt;br/&gt;
     &amp;lt;/clover-setup&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="12578615" author="hossman" created="Fri, 14 Mar 2008 05:13:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does the Clover license allow instrumenting non a.o packages, as in:&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;...per the README file i linked to, it allows instrumenting of those exact packages (hence the fileset - we&apos;ll probably never have &quot;org.w3c.*&quot; packages in our code base, but I include them for completeness.&lt;/p&gt;</comment>
                    <comment id="12578627" author="hossman" created="Fri, 14 Mar 2008 07:08:17 +0000"  >&lt;p&gt;builds on previous patch to fix contrib/db (which i should note: also centralized teh clover &quot;db&quot; and reports so they were in one place even if you ran clover on individual contribs) to also fix it so the classpath for runing the contrib tests can find clover.&lt;/p&gt;

&lt;p&gt;without this patch, contrib tests don&apos;t include $&lt;/p&gt;
{java.class.path} (the core tests did) ... this was causing a problem because ${java.class.path}
&lt;p&gt; is where i had the clover jar and dependencies.&lt;/p&gt;

&lt;p&gt;i&apos;m not sure if we want to change this to add an explicit &quot;clover.path&quot; property that people must set saying explicitly where they want the build system to look for clover ... that seems like a cleaner way to ensure the contrib tests don&apos;t include stuff in the junit classpath that they shouldn&apos;t - but it may not be a big deal considering the core tests have always worked this way.&lt;/p&gt;

&lt;p&gt;comments?&lt;/p&gt;

&lt;p&gt;Grant: still need clarification on your comments about hudson...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;...There is also a bit of a change on Hudson during the migration to the new servers that needs to be ironed out. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                    <comment id="12578992" author="gsingers" created="Sat, 15 Mar 2008 02:44:15 +0000"  >&lt;p&gt;You expect me to remember something said that long ago?&lt;/p&gt;

&lt;p&gt;I  &lt;em&gt;believe&lt;/em&gt; it has to do with where clover and other libraries are now located.  Before they were in ant/lib, now they are elsewhere.  When you commit these, I can look into that piece.&lt;/p&gt;</comment>
                    <comment id="12578996" author="hossman" created="Sat, 15 Mar 2008 03:19:37 +0000"  >
&lt;p&gt;I was hoping seeing it again would jog your memory  : )&lt;/p&gt;

&lt;p&gt;i committed the changes to the build files, if the hudson problem was related to the classpath for clover this may magically solve that problem &amp;#8211; if not, just makesure whatever directory clover is in gets added to the CLASSPATH before running ant.&lt;/p&gt;

&lt;p&gt;Committed revision 637344.&lt;/p&gt;

&lt;p&gt;assigning to you to track the hudson config fiddling&lt;/p&gt;</comment>
                    <comment id="12579400" author="gsingers" created="Mon, 17 Mar 2008 12:36:31 +0000"  >&lt;p&gt;OK, I confirm that Clover reports are now being generated.  Looks like we need to write some more tests!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12377201" name="LUCENE-1202.db-contrib-instrumentation.patch" size="1850" author="hossman" created="Wed, 5 Mar 2008 22:22:27 +0000" />
                    <attachment id="12377875" name="LUCENE-1202.patch" size="2331" author="hossman" created="Fri, 14 Mar 2008 07:08:17 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 6 Mar 2008 13:39:34 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12543</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26527</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>