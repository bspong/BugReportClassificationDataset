<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:11:19 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-706/LUCENE-706.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-706] Index File Format - Example for frequency file .frq is wrong</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-706</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Reported by Johan Stuyts - &lt;a href=&quot;http://www.nabble.com/Possible-documentation-error--p7012445.html&quot; class=&quot;external-link&quot;&gt;http://www.nabble.com/Possible-documentation-error--p7012445.html&lt;/a&gt; - &lt;/p&gt;

&lt;p&gt;Frequency file example says: &lt;/p&gt;

&lt;p&gt;     For example, the TermFreqs for a term which occurs once in document seven and three times in document eleven would be the following sequence of VInts: &lt;br/&gt;
         15, 22, 3 &lt;/p&gt;

&lt;p&gt;It should be: &lt;/p&gt;

&lt;p&gt;     For example, the TermFreqs for a term which occurs once in document seven and three times in document eleven would be the following sequence of VInts: &lt;br/&gt;
         15, 8, 3 &lt;/p&gt;

</description>
                <environment>&lt;p&gt;not applicable&lt;/p&gt;</environment>
            <key id="12354647">LUCENE-706</key>
            <summary>Index File Format - Example for frequency file .frq is wrong</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="doronc">Doron Cohen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Nov 2006 05:40:50 +0000</created>
                <updated>Mon, 6 Nov 2006 02:21:13 +0000</updated>
                    <resolved>Mon, 6 Nov 2006 02:21:13 +0000</resolved>
                                                            <component>general/website</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12446821" author="doronc" created="Fri, 3 Nov 2006 05:51:01 +0000"  >&lt;p&gt;example fixed&lt;/p&gt;</comment>
                    <comment id="12446948" author="gsingers" created="Fri, 3 Nov 2006 13:22:44 +0000"  >&lt;p&gt;Just to double check the math:&lt;br/&gt;
From the Website:&lt;br/&gt;
&quot;DocDelta determines both the document number and the frequency. In particular, DocDelta/2 is the difference between this document number and the previous document number (or zero when this is the first document in a TermFreqs). When DocDelta is odd, the frequency is one. When DocDelta is even, the frequency is read as another VInt.&quot;&lt;/p&gt;

&lt;p&gt;So, 15 is the correct start since 15 /2 as an int is 7 and the frequency is one.  Then the difference between doc 7 and 11 is 4, so the next value should be 8 (since DocDelta/2 = 11 - 7, which is even, meaning the frequency is the next VInt, in this case 3, so I would concur.&lt;/p&gt;
</comment>
                    <comment id="12447042" author="doronc" created="Fri, 3 Nov 2006 18:41:58 +0000"  >&lt;p&gt;Right - &lt;/p&gt;

&lt;p&gt;   15  =  2 * 7 + 1    --&amp;gt; doc 7 with freq 1 &lt;br/&gt;
    8   =  2 * (11 - 7) --&amp;gt; doc 11 with frequency &amp;gt; 1 &lt;br/&gt;
    3                --&amp;gt; frequency = 3 for doc 11 &lt;/p&gt;

&lt;p&gt;.frq file actual content for similar case also agrees with that, it starts like this (Hex):&lt;/p&gt;

&lt;p&gt;     0D 08  03 01 03 &lt;/p&gt;

&lt;p&gt;(note: Hex:  0D = 15.)&lt;/p&gt;

</comment>
                    <comment id="12447044" author="steve_rowe" created="Fri, 3 Nov 2006 18:50:10 +0000"  >&lt;p&gt;Hex: 0D is NOT the same as decimal 15.  0Dh = 13d.  15d = 0Fh.&lt;/p&gt;</comment>
                    <comment id="12447049" author="doronc" created="Fri, 3 Nov 2006 19:03:11 +0000"  >&lt;p&gt;Right, sorry, copied that hex data from an .frq of an index with a different example, where the frequencies were 1 in doc 6 and 3 in doc 10, so there you would get 2 * 6 + 1 = 13.&lt;/p&gt;

&lt;p&gt;For the correct example of freq 1 in doc 7 and 3 in doc 11 the .frq content is  0F 08 03  as it should be. &lt;/p&gt;

&lt;p&gt;(Meaning that the documentatin should still be fixed...&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12447343" author="gsingers" created="Mon, 6 Nov 2006 02:21:13 +0000"  >&lt;p&gt;Applied.  Thanks Johan and Doron.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12344262" name="file-format-frq-example.patch" size="501" author="doronc" created="Fri, 3 Nov 2006 05:51:01 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 3 Nov 2006 13:22:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13046</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27024</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>