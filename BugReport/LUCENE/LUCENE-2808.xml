<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:34:22 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2808/LUCENE-2808.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2808] Intermitted failure on DocValues branch</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2808</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I lately ran into two random failures on the CSF branch that seem not to be related to docValues but I can&apos;t reproduce them neither on docvalues branch nor on trunk.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jError Message

IndexFileDeleter doesn&apos;t know about file _1e.tvx
Stacktrace

junit.framework.AssertionFailedError: IndexFileDeleter doesn&apos;t know about file _1e.tvx
	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:979)
	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:917)
	at org.apache.lucene.index.IndexWriter.filesExist(IndexWriter.java:3633)
	at org.apache.lucene.index.IndexWriter.startCommit(IndexWriter.java:3699)
	at org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:2407)
	at org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2478)
	at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2460)
	at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2444)
	at org.apache.lucene.index.TestIndexWriterExceptions.testRandomExceptionsThreads(TestIndexWriterExceptions.java:213)
Standard Output

NOTE: reproduce with: ant test -Dtestcase=TestIndexWriterExceptions -Dtestmethod=testRandomExceptionsThreads -Dtests.seed=-6528669668419768890:4860241142852689334 -Dtests.codec=randomPerField -Dtests.multiplier=3
NOTE: test params are: codec=PreFlex, locale=sv, timezone=Atlantic/South_Georgia
Standard Error

NOTE: all tests run in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; JVM:
[TestDemo, TestToken, TestBinaryDocument, TestCodecs, TestDirectoryReader, TestIndexInput, TestIndexWriterExceptions]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

[junit] Testsuite: org.apache.lucene.index.TestIndexReaderReopen
    [junit] Testcase: testThreadSafety(org.apache.lucene.index.TestIndexReaderReopen):	Caused an ERROR
    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_4_3.frq=1, _4_3.pos=1, _4_0.frq=1, _4_0.prx=1, _4.pst=1, _4_3.pyl=1, _4_3.skp=1, _4_0.tis=1, _4_3.doc=1, _4_3.tis=1}
    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_4_3.frq=1, _4_3.pos=1, _4_0.frq=1, _4_0.prx=1, _4.pst=1, _4_3.pyl=1, _4_3.skp=1, _4_0.tis=1, _4_3.doc=1, _4_3.tis=1}
    [junit] 	at org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:387)
    [junit] 	at org.apache.lucene.index.TestIndexReaderReopen.testThreadSafety(TestIndexReaderReopen.java:859)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:979)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:917)
    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput
    [junit] 	at org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:342)
    [junit] 	at org.apache.lucene.store.Directory.openInput(Directory.java:122)
    [junit] 	at org.apache.lucene.index.codecs.standard.StandardPostingsReader.&amp;lt;init&amp;gt;(StandardPostingsReader.java:49)
    [junit] 	at org.apache.lucene.index.codecs.standard.StandardCodec.fieldsProducer(StandardCodec.java:87)
    [junit] 	at org.apache.lucene.index.PerFieldCodecWrapper$FieldsReader.&amp;lt;init&amp;gt;(PerFieldCodecWrapper.java:119)
    [junit] 	at org.apache.lucene.index.PerFieldCodecWrapper.fieldsProducer(PerFieldCodecWrapper.java:211)
    [junit] 	at org.apache.lucene.index.SegmentReader$CoreReaders.&amp;lt;init&amp;gt;(SegmentReader.java:137)
    [junit] 	at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:532)
    [junit] 	at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:509)
    [junit] 	at org.apache.lucene.index.DirectoryReader.&amp;lt;init&amp;gt;(DirectoryReader.java:238)
    [junit] 	at org.apache.lucene.index.DirectoryReader.doReopen(DirectoryReader.java:500)
    [junit] 	at org.apache.lucene.index.DirectoryReader.access$000(DirectoryReader.java:48)
    [junit] 	at org.apache.lucene.index.DirectoryReader$2.doBody(DirectoryReader.java:493)
    [junit] 	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:623)
    [junit] 	at org.apache.lucene.index.DirectoryReader.doReopenNoWriter(DirectoryReader.java:488)
    [junit] 	at org.apache.lucene.index.DirectoryReader.doReopen(DirectoryReader.java:446)
    [junit] 	at org.apache.lucene.index.DirectoryReader.reopen(DirectoryReader.java:406)
    [junit] 	at org.apache.lucene.index.TestIndexReaderReopen$9.run(TestIndexReaderReopen.java:770)
    [junit] 	at org.apache.lucene.index.TestIndexReaderReopen$ReaderThread.run(TestIndexReaderReopen.java:897)
    [junit] 
    [junit] 
    [junit] Tests run: 17, Failures: 0, Errors: 1, Time elapsed: 13.766 sec
    [junit] 
    [junit] ------------- Standard Output ---------------
    [junit] NOTE: reproduce with: ant test -Dtestcase=TestIndexReaderReopen -Dtestmethod=testThreadSafety -Dtests.seed=-5455993123574190959:-1935535300313439968 -Dtests.codec=randomPerField -Dtests.multiplier=3
    [junit] NOTE: test params are: codec=RandomCodecProvider: {field5=MockVariableIntBlock(baseBlockSize=29), id=Standard, fielda=Standard, field4=MockFixedIntBlock(blockSize=924), field3=Standard, field2=SimpleText, id2=Standard, field6=MockSep, field1=Pulsing(freqCutoff=8)}, locale=zh_CN, timezone=Asia/Hovd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I haven&apos;t seen those before - let me know if you have!&lt;/p&gt;</description>
                <environment></environment>
            <key id="12492833">LUCENE-2808</key>
            <summary>Intermitted failure on DocValues branch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Dec 2010 13:15:34 +0000</created>
                <updated>Mon, 21 Feb 2011 17:46:44 +0000</updated>
                    <resolved>Mon, 3 Jan 2011 10:46:41 +0000</resolved>
                            <version>4.0-ALPHA</version>
                <version>CSF branch</version>
                                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12969726" author="rcmuir" created="Thu, 9 Dec 2010 13:20:52 +0000"  >&lt;p&gt;Simon, pretty positive i have seen the first one in hudson for trunk too... but i didnt know if Mike had tackled it already.&lt;/p&gt;

&lt;p&gt;The second one i don&apos;t think i have seen, perhaps there is a corner-case bug in the test where it doesn&apos;t close an IndexReader?&lt;/p&gt;</comment>
                    <comment id="12969765" author="mikemccand" created="Thu, 9 Dec 2010 15:18:34 +0000"  >&lt;p&gt;There&apos;s a similar failure on trunk, still, but in the testAddDocumentOnDiskFull test.&lt;/p&gt;

&lt;p&gt;If it still happens after I commit &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2680&quot; title=&quot;Improve how IndexWriter flushes deletes against existing segments&quot;&gt;&lt;del&gt;LUCENE-2680&lt;/del&gt;&lt;/a&gt; I&apos;ll track it down.... I suspect we are missing a checkpoint call on exception somewhere.&lt;/p&gt;</comment>
                    <comment id="12969810" author="simonw" created="Thu, 9 Dec 2010 17:00:00 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
_4_0.prx=1, _4.pst=1,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;seems like simple text ignores the codec ID - I will go an fix that at least&lt;/p&gt;</comment>
                    <comment id="12970494" author="simonw" created="Sat, 11 Dec 2010 18:25:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;If it still happens after I commit &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2680&quot; title=&quot;Improve how IndexWriter flushes deletes against existing segments&quot;&gt;&lt;del&gt;LUCENE-2680&lt;/del&gt;&lt;/a&gt; I&apos;ll track it down.... I suspect we are missing a checkpoint call on exception somewhere.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Mike, since 2680 is committed I will merge and check it I still see those issues.&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12970516" author="mikemccand" created="Sat, 11 Dec 2010 20:11:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Mike, since 2680 is committed I will merge and check it I still see those issues.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s still happening on trunk!  I will track it down and corner it!&lt;/p&gt;</comment>
                    <comment id="12970660" author="simonw" created="Sun, 12 Dec 2010 21:20:00 +0000"  >&lt;p&gt;Got another one but that one is outside of the IndexWriter* tests....&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    [junit] Testsuite: org.apache.lucene.search.TestPrefixInBooleanQuery
    [junit] Testcase: testPrefixQuery(org.apache.lucene.search.TestPrefixInBooleanQuery):	FAILED
    [junit] IndexFileDeleter doesn&apos;t know about file _1hb.tvx
    [junit] junit.framework.AssertionFailedError: IndexFileDeleter doesn&apos;t know about file _1hb.tvx
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:979)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:917)
    [junit] 	at org.apache.lucene.index.IndexWriter.filesExist(IndexWriter.java:3633)
    [junit] 	at org.apache.lucene.index.IndexWriter.startCommit(IndexWriter.java:3699)
    [junit] 	at org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:2407)
    [junit] 	at org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2478)
    [junit] 	at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2460)
    [junit] 	at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2444)
    [junit] 	at org.apache.lucene.index.RandomIndexWriter.addDocument(RandomIndexWriter.java:99)
    [junit] 	at org.apache.lucene.search.TestPrefixInBooleanQuery.setUp(TestPrefixInBooleanQuery.java:55)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;no reproduce line unfortunately since it happened during setup &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - so just for the record&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;
</comment>
                    <comment id="12976685" author="simonw" created="Mon, 3 Jan 2011 10:46:41 +0000"  >&lt;p&gt;this has never happened again since I merged with trunk after &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2680&quot; title=&quot;Improve how IndexWriter flushes deletes against existing segments&quot;&gt;&lt;del&gt;LUCENE-2680&lt;/del&gt;&lt;/a&gt; - moving out!&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 9 Dec 2010 13:20:52 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11050</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24884</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>