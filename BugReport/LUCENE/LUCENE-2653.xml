<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:18:49 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2653/LUCENE-2653.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2653] ThaiAnalyzer assumes things about your jre</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2653</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The ThaiAnalyzer/ThaiWordFilter depends on the fact that BreakIterator.getWordInstance(new Locale(&quot;th&quot;)) returns a dictionary-based break iterator that can segment thai phrases into words (it does not use whitespace).&lt;/p&gt;

&lt;p&gt;But this is non-standard that the JRE will specialize this locale in this way, its nice, but you can&apos;t depend on it.&lt;br/&gt;
For example, if you are running on IBM JRE, this analyzer/wordfilter is completely &quot;broken&quot; in the sense it won&apos;t do what it claims to do.&lt;/p&gt;

&lt;p&gt;At the minimum, we need to document this and suggest users look at ICUTokenizer for thai, which always has this breakiterator and is not jre-dependent.&lt;/p&gt;

&lt;p&gt;Better, would be to check statically that the thing actually works.&lt;br/&gt;
when creating a new ThaiWordFilter we could clone() the BreakIterator, which is often cheaper than making a new one anyway.&lt;br/&gt;
we could throw an exception, if its not supported, and add a boolean so the user knows it works.&lt;br/&gt;
and we could refer to this boolean with Assert.assume in its tests.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12474482">LUCENE-2653</key>
            <summary>ThaiAnalyzer assumes things about your jre</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Sep 2010 17:16:37 +0100</created>
                <updated>Mon, 16 May 2011 19:16:03 +0100</updated>
                    <resolved>Fri, 29 Oct 2010 16:03:12 +0100</resolved>
                            <version>3.1</version>
                <version>4.0-ALPHA</version>
                                <fixVersion>2.9.4</fixVersion>
                <fixVersion>3.0.3</fixVersion>
                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12911047" author="rcmuir" created="Sat, 18 Sep 2010 17:41:17 +0100"  >&lt;p&gt;Here&apos;s a patch: it detects statically if the BreakIterator from thai locale will actually work at all,&lt;br/&gt;
and sets a boolean DBBI_AVAILABLE&lt;/p&gt;

&lt;p&gt;in the ctor if this is false, it throws UOE(&quot;This JRE does not have support for Thai segmentation&quot;)&lt;/p&gt;

&lt;p&gt;I also added docs referring to ICUTokenizer in case you need this across all jres, and put&lt;br/&gt;
Assume.assumeTrue(ThaiWordFilter.DBBI_AVAILABLE) in the tests.&lt;/p&gt;
</comment>
                    <comment id="12912215" author="simonw" created="Sun, 19 Sep 2010 13:10:25 +0100"  >&lt;p&gt;Looks good to me robert! Make sure you add a CHANGES.TXT entry. Could that have been a bw break since it did not do what it claimed to do?&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="12912227" author="rcmuir" created="Sun, 19 Sep 2010 15:07:30 +0100"  >&lt;blockquote&gt;&lt;p&gt;Could that have been a bw break since it did not do what it claimed to do?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I dont understand the question. ThaiWordFilter has always been broken this way, it is broken by design.&lt;/p&gt;</comment>
                    <comment id="12912231" author="simonw" created="Sun, 19 Sep 2010 15:30:49 +0100"  >&lt;blockquote&gt;&lt;p&gt;I dont understand the question. ThaiWordFilter has always been broken this way, it is broken by design.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;could somebody have used the broken behavior and relies on it? Just making sure its not a bw break somehow which we should document.&lt;/p&gt;
</comment>
                    <comment id="12912234" author="rcmuir" created="Sun, 19 Sep 2010 15:40:54 +0100"  >&lt;p&gt;no, in this case the filter does not work at all, it does nothing.&lt;/p&gt;</comment>
                    <comment id="12912245" author="rcmuir" created="Sun, 19 Sep 2010 16:49:37 +0100"  >&lt;p&gt;Committed revision 998684 (trunk), 998688 (3x)&lt;/p&gt;</comment>
                    <comment id="12926278" author="rcmuir" created="Fri, 29 Oct 2010 14:16:21 +0100"  >&lt;p&gt;reopening for possible 2.9.4/3.0.3 backport.&lt;/p&gt;</comment>
                    <comment id="12926304" author="rcmuir" created="Fri, 29 Oct 2010 15:53:07 +0100"  >&lt;p&gt;I&apos;m gonna shoot for documentation-only fix here for 2.9.x and 3.0.x as well... &lt;br/&gt;
its a no-risk &quot;fix&quot; at least to alert people that this won&apos;t work on e.g. IBM jdk... &lt;/p&gt;</comment>
                    <comment id="12926306" author="rcmuir" created="Fri, 29 Oct 2010 16:03:12 +0100"  >&lt;p&gt;Committed documentation about this in:&lt;br/&gt;
Revision 1028789 for 3.0.x&lt;br/&gt;
Revision 1028791 for 2.9.x&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12454946" name="LUCENE-2653.patch" size="5793" author="rcmuir" created="Sat, 18 Sep 2010 17:41:17 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 19 Sep 2010 12:10:25 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11186</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25039</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>