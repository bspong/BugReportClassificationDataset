<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:32:46 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1561/LUCENE-1561.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1561] Maybe rename Field.omitTf, and strengthen the javadocs</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1561</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff from here:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://www.nabble.com/search-problem-when-indexed-using-Field.setOmitTf()-td22456141.html&quot; class=&quot;external-link&quot;&gt;http://www.nabble.com/search-problem-when-indexed-using-Field.setOmitTf()-td22456141.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maybe rename omitTf to something like omitTermPositions, and make it clear what queries will silently fail to work as a result.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12416825">LUCENE-1561</key>
            <summary>Maybe rename Field.omitTf, and strengthen the javadocs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2009 10:39:19 +0000</created>
                <updated>Fri, 25 Sep 2009 17:23:19 +0100</updated>
                    <resolved>Wed, 8 Apr 2009 20:18:05 +0100</resolved>
                            <version>2.4.1</version>
                                <fixVersion>2.9</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12683083" author="mikemccand" created="Wed, 18 Mar 2009 17:10:04 +0000"  >&lt;p&gt;Attached patch.  I renamed to &quot;omitTermFreqAndPositions&quot;, and added a NOTE to the javadoc about positional queries silently not working when you use this option.  I plan to commit in a day or so.&lt;/p&gt;</comment>
                    <comment id="12688385" author="otis" created="Mon, 23 Mar 2009 19:19:50 +0000"  >&lt;p&gt;Might be good to keep a consistent name across Lucene/Solr.&lt;br/&gt;
More info coming up in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1079&quot; title=&quot;Rename omitTf to omitTermFreqAndPositions&quot;&gt;&lt;del&gt;SOLR-1079&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    <comment id="12688387" author="mikemccand" created="Mon, 23 Mar 2009 19:28:09 +0000"  >&lt;p&gt;Naming is the hardest part!!&lt;/p&gt;</comment>
                    <comment id="12688429" author="eksdev" created="Mon, 23 Mar 2009 21:30:37 +0000"  >&lt;p&gt;maybe something along the lines:&lt;/p&gt;

&lt;p&gt;usePureBooleanPostings()&lt;br/&gt;
minimalInvertedList()&lt;/p&gt;

</comment>
                    <comment id="12688449" author="klaasm" created="Mon, 23 Mar 2009 22:47:22 +0000"  >&lt;p&gt;I agree that it is going to be almost impossible to convey that phrase queries don&apos;t work by renaming the flag.  I agree with Eks Dev that a positive formulation is the only chance, although this deviates from the current omit* flags.&lt;/p&gt;

&lt;p&gt;termPresenceOnly()&lt;br/&gt;
trackTermPresenceOnly()&lt;br/&gt;
onlyTermPresence()&lt;br/&gt;
omitEverythingButTermPresence() // just kidding&lt;/p&gt;</comment>
                    <comment id="12696603" author="thetaphi" created="Tue, 7 Apr 2009 17:29:07 +0100"  >&lt;p&gt;I found a deprecation bug:&lt;br/&gt;
setOmitTf() and other are only deprecated in the Fieldable interface, but not in the implementations. Code using setOmitTf() does not show a warning. So in AbstractField/Field, the @deprecated should be added, too.&lt;/p&gt;

&lt;p&gt;And a problem with SOLR:&lt;br/&gt;
The ChangeLog should clearly say, that the Fieldable interface was again changed. Plugging the new Lucene JAR into Solr fails, because one of the Fieldable implementations of Solr do not have the new methods.&lt;br/&gt;
Maybe we should remove the rename inside the interfae (keep omitTf there) and only change it in the Field/AbstractField class. This would make jar-replacements possible. As most people will not implement Fieldable, I think it can be left out (as it is only a rename). And generally Interface should not have duplicate method declarations with different names because of deprecation... (that looks very bad)&lt;/p&gt;</comment>
                    <comment id="12696628" author="mikemccand" created="Tue, 7 Apr 2009 18:13:50 +0100"  >&lt;blockquote&gt;&lt;p&gt;setOmitTf() and other are only deprecated in the Fieldable interface, but not in the implementations. Code using setOmitTf() does not show a warning. So in AbstractField/Field, the @deprecated should be added, too.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Urgh, I&apos;ll add @deprecated to the methods in AbstractField.java.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Maybe we should remove the rename inside the interfae (keep omitTf there) and only change it in the Field/AbstractField class. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Darned interface!  The problem with this is we use this interface from within Lucene, to access OTFAP, so we&apos;d have to switch those back to deprecated calls, though it does look to be in only a few places.  It&apos;s also confusing to deprecate it in Fieldable &amp;amp; AbstractField but not offer the non-deprecated variant in Fieldable.  Since it&apos;s possible we won&apos;t get the &quot;cleanup Fieldable/AbstractField/Field&quot; done for 2.9, I&apos;d like in 3.0 to be able to consistently name it in both the Fieldable interface and the AbstractField abstract class.  Or are you thinking we&apos;d leave omitTf in Fieldable and then in 3.0 forcefully rename it to omitTermFreqAndPositions?&lt;/p&gt;</comment>
                    <comment id="12696661" author="thetaphi" created="Tue, 7 Apr 2009 19:04:45 +0100"  >&lt;p&gt;Wasn&apos;t it the plan to remove these interfaces in 3.0?&lt;/p&gt;

&lt;p&gt;We could deprecate Fieldable in complete and leave it as it is.From Lucene 3.0 on we only have AbstractField. So the old Fieldable interface must be used internally until 3.0 (with the deprecated methods), but user-land code like Solr should only overwrite AbstractField and not implement the interface anymore (I am not really sure, why Solr needs this Fieldable implementation at all, it the only place in Solr where problems occur, it would be good to reimplement this internal class using AbstractField).&lt;/p&gt;

&lt;p&gt;Document.add() and all other public appearences of Fieldable should be overloaded with AbstractField counterparts and so on, so that all public API only use the abstract class anymore.&lt;/p&gt;

&lt;p&gt;But thats my opinion, and maybe is related to the other issue &quot;whole document/field reimplementation&quot;.&lt;/p&gt;</comment>
                    <comment id="12696758" author="mikemccand" created="Tue, 7 Apr 2009 22:08:07 +0100"  >&lt;blockquote&gt;&lt;p&gt;Wasn&apos;t it the plan to remove these interfaces in 3.0?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would be fabulous.  How would you do it?  Collapse everything down to concrete Field (no more interface nor abstract base class)?  Make type/use specific subclasses (eg NumericField)?  What would you replace IndexReader.document with?  Would we better/explicitly represent multi-valued fields?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We could deprecate Fieldable in complete and leave it as it is.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think that&apos;s a good fallback if we can&apos;t get the full cleanup of Field/Document done for 2.9.&lt;/p&gt;

&lt;p&gt;I guess in either of these two cases, we would want to leave Fieldable unchanged (ie put back only the deprecated omitTf), so I&apos;ll make that change now.&lt;/p&gt;</comment>
                    <comment id="12696799" author="mikemccand" created="Tue, 7 Apr 2009 23:49:18 +0100"  >&lt;p&gt;Attached patch, also deprecating omitTf in AbstractField, and not adding the newly named methods into Fieldable.  I plan to commit in a day or two.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12419147">SOLR-1079</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12404894" name="LUCENE-1561.patch" size="5510" author="mikemccand" created="Tue, 7 Apr 2009 23:49:18 +0100" />
                    <attachment id="12402498" name="LUCENE-1561.patch" size="35434" author="mikemccand" created="Wed, 18 Mar 2009 17:10:03 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 23 Mar 2009 19:19:50 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12194</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26168</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>