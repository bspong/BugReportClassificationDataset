<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:08:28 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3121/LUCENE-3121.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3121] FST should offer lookup-by-output API when output strictly increases</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3121</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff from &quot;FST and FieldCache&quot; java-dev thread &lt;a href=&quot;http://lucene.markmail.org/thread/swoawlv3fq4dntvl&quot; class=&quot;external-link&quot;&gt;http://lucene.markmail.org/thread/swoawlv3fq4dntvl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;FST is able to associate arbitrary outputs with the sorted input keys, but in the special (and, common) case where the function is strictly monotonic (each output only &quot;increases&quot; vs prior outputs), such as mapping to term ords or mapping to file offsets in the terms dict, we should offer a lookup-by-output API that efficiently walks the FST and locates input key (exact or floor or ceil) matching that output.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12507737">LUCENE-3121</key>
            <summary>FST should offer lookup-by-output API when output strictly increases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 11:15:27 +0100</created>
                <updated>Fri, 10 May 2013 11:44:51 +0100</updated>
                    <resolved>Thu, 19 Jan 2012 14:22:30 +0000</resolved>
                                            <fixVersion>3.6</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/other</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="13188447" author="mikemccand" created="Wed, 18 Jan 2012 13:54:46 +0000"  >&lt;p&gt;Patch, adding Util.getByOutput.  I think it&apos;s ready.&lt;/p&gt;

&lt;p&gt;It only works w/ an FST whose outputs are strictly monotonically increasing w/ the inputs.&lt;/p&gt;

&lt;p&gt;Currently it only works with FST&amp;lt;Long&amp;gt; but we can &quot;generify&quot; that at some point...&lt;/p&gt;

&lt;p&gt;This is only the &quot;exact&quot; case; in theory we could do floor/ceiling too, but it&apos;d be just as hairy as seekFloor/seekCeil in FSTEnum... let&apos;s wait for a real need.&lt;/p&gt;</comment>
                    <comment id="13188488" author="dsmiley" created="Wed, 18 Jan 2012 15:01:07 +0000"  >&lt;p&gt;Awesome Mike!  Would the next step being applying this to the Field Cache?&lt;/p&gt;</comment>
                    <comment id="13188620" author="dweiss" created="Wed, 18 Jan 2012 18:55:43 +0000"  >&lt;p&gt;The patch looks good to me. Although I must say the API makes it more complex than it really is (those nextFinalOutputs and &quot;real&quot; vs non-real arcs in readFirstRealArc... brr... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="13189110" author="mikemccand" created="Thu, 19 Jan 2012 13:46:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;Would the next step being applying this to the Field Cache?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would be interesting!  Or, maybe to DocValues instead...&lt;/p&gt;

&lt;p&gt;Today neither DocValues nor FieldCache use an FST to hold the term data, but you&apos;re right we could explore this now, since we can lookup-by-ord or lookup-by-address (with this patch).&lt;/p&gt;

&lt;p&gt;For example, the DocValues.BYTES_VAR/FIXED_SORTED_DEREF could hold the Term &amp;lt;-&amp;gt; ord/address map as an FST (doc -&amp;gt; ord/address would still be packed ints)... same for FieldCache.DocTermsIndex/.DocTermOrds This should be a sizable reduction in RAM required for the term data... but lookup time would get slower too.&lt;/p&gt;</comment>
                    <comment id="13189137" author="dsmiley" created="Thu, 19 Jan 2012 14:50:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;That would be interesting! Or, maybe to DocValues instead...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that is in fact the very idea I had originally that I raised on the list that you in turn created this JIRA issue for. It was almost a year ago so perhaps you forgot.  Well this JIRA issue would be the first step, the next step would be another JIRA issue for Field Cache integration and another for DocValues.  I feel a tad guilty for suggesting this work without taking part... I&apos;m neck deep in geospatial Lucene extensions.&lt;/p&gt;</comment>
                    <comment id="13189175" author="mikemccand" created="Thu, 19 Jan 2012 16:16:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yes, that is in fact the very idea I had originally that I raised on the list that you in turn created this JIRA issue for. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Aha!  Thanks for reminding me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  I think it would work well... the FST should compress the terms nicely; just a question of at what cost to lookup time.  But, then, for some cases of DV/FC consumption the doc -&amp;gt; ord lookup is far more important (which wouldn&apos;t change), so it could be a good win...&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12540301">LUCENE-3729</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12510981" name="LUCENE-3121.patch" size="21807" author="mikemccand" created="Wed, 18 Jan 2012 13:54:46 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 18 Jan 2012 15:01:07 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10813</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24574</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>