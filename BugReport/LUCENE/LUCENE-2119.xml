<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:09:26 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2119/LUCENE-2119.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2119] If you pass Integer.MAX_VALUE as 2nd param to search(Query, int) you hit unexpected NegativeArraySizeException</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2119</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Note that this is a nonsense value to pass in, since our PQ impl allocates the array up front.&lt;/p&gt;

&lt;p&gt;It&apos;s because PQ takes 1+ this value (which wraps to -1), and attempts to allocate that.  We should bounds check it, and drop PQ size by one in this case.&lt;/p&gt;

&lt;p&gt;Better, maybe: in IndexSearcher, if that n is ever &amp;gt; maxDoc(), set it to maxDoc().&lt;/p&gt;

&lt;p&gt;This trips users up fairly often because they assume our PQ doesn&apos;t statically pre-allocate (a reasonable assumption...).&lt;/p&gt;</description>
                <environment></environment>
            <key id="12442571">LUCENE-2119</key>
            <summary>If you pass Integer.MAX_VALUE as 2nd param to search(Query, int) you hit unexpected NegativeArraySizeException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Dec 2009 09:52:05 +0000</created>
                <updated>Fri, 18 Jun 2010 09:03:52 +0100</updated>
                    <resolved>Tue, 1 Jun 2010 17:04:43 +0100</resolved>
                                            <fixVersion>2.9.3</fixVersion>
                <fixVersion>3.0.2</fixVersion>
                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12786601" author="mikemccand" created="Sun, 6 Dec 2009 11:22:49 +0000"  >&lt;p&gt;Patch attached.  In PQ if incoming size is Integer.MAX_VALUE, I don&apos;t try to +1 it.  And, in IndexSearcher.search, when I create PQ, I now use min(nDocs, maxDoc()).  I&apos;ll commit shortly.&lt;/p&gt;</comment>
                    <comment id="12786605" author="mikemccand" created="Sun, 6 Dec 2009 11:41:49 +0000"  >&lt;p&gt;Thanks Paul!&lt;/p&gt;</comment>
                    <comment id="12873420" author="mikemccand" created="Sun, 30 May 2010 13:35:56 +0100"  >&lt;p&gt;backport&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12427090" name="LUCENE-2119.patch" size="3000" author="mikemccand" created="Sun, 6 Dec 2009 11:22:48 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11660</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25606</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>