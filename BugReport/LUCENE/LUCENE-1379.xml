<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:11:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1379/LUCENE-1379.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1379] SpanScorer fails when sloppyFreq() returns 0</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1379</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I think we should fix this for 2.4 (now back to 10)?&lt;/p&gt;</description>
                <environment></environment>
            <key id="12403901">LUCENE-1379</key>
            <summary>SpanScorer fails when sloppyFreq() returns 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="paul.elschot@xs4all.nl">Paul Elschot</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Sep 2008 13:45:47 +0100</created>
                <updated>Sat, 11 Oct 2008 13:49:42 +0100</updated>
                    <resolved>Tue, 16 Sep 2008 20:29:21 +0100</resolved>
                                            <fixVersion>2.4</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12629141" author="paul.elschot@xs4all.nl" created="Mon, 8 Sep 2008 13:51:20 +0100"  >&lt;p&gt;The patch of 20080908 compiles, but it is untested because of other changes pending in my working copy.&lt;/p&gt;</comment>
                    <comment id="12630562" author="markrmiller@gmail.com" created="Fri, 12 Sep 2008 14:07:58 +0100"  >&lt;p&gt;How does it fail Paul? I am trying to duplicate by returning 0 with a custom Similarity. This causes a score of 0 of course, but I don&apos;t see the failure. After applying your patch, I see the same behavior - a total score of a zero and no failure (that I can tell of course). Any hints about the problem?&lt;/p&gt;</comment>
                    <comment id="12630662" author="paul.elschot@xs4all.nl" created="Fri, 12 Sep 2008 20:31:12 +0100"  >&lt;p&gt;The bug occurs only for the last matching doc.&lt;br/&gt;
The attached &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1379&quot; title=&quot;SpanScorer fails when sloppyFreq() returns 0&quot;&gt;&lt;del&gt;LUCENE-1379&lt;/del&gt;&lt;/a&gt;-test.patch adds a test case for this, the test passes with the other &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1379&quot; title=&quot;SpanScorer fails when sloppyFreq() returns 0&quot;&gt;&lt;del&gt;LUCENE-1379&lt;/del&gt;&lt;/a&gt;.patch applied, and fails on trunk.&lt;/p&gt;</comment>
                    <comment id="12631264" author="paul.elschot@xs4all.nl" created="Tue, 16 Sep 2008 07:28:48 +0100"  >&lt;p&gt;Since this is really a corner case, it does not really matter whether it gets into 2.4 or not.&lt;/p&gt;</comment>
                    <comment id="12631511" author="mikemccand" created="Tue, 16 Sep 2008 20:05:09 +0100"  >&lt;p&gt;OK I now understand this patch &amp;#8211; checking freq != 0 (as the return value) is not a valid way to return the value for next() or skipTo(), because sloppyFreq could return 0, for the last doc in the in iteration.&lt;/p&gt;

&lt;p&gt;I will commit shortly!  Thanks Paul.&lt;/p&gt;</comment>
                    <comment id="12631513" author="paul.elschot@xs4all.nl" created="Tue, 16 Sep 2008 20:20:26 +0100"  >&lt;p&gt;For this cornercase I thought a test case would be smaller than an explanation, but you just proved me wrong.&lt;/p&gt;</comment>
                    <comment id="12631517" author="mikemccand" created="Tue, 16 Sep 2008 20:29:21 +0100"  >&lt;p&gt;Sending        src/java/org/apache/lucene/search/spans/SpanScorer.java&lt;br/&gt;
Sending        src/test/org/apache/lucene/search/spans/TestSpans.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 696013.&lt;/p&gt;


&lt;p&gt;Thanks Paul!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12389674" name="LUCENE-1379.patch" size="689" author="paul.elschot@xs4all.nl" created="Mon, 8 Sep 2008 13:51:20 +0100" />
                    <attachment id="12390026" name="LUCENE-1379-test.patch" size="1863" author="paul.elschot@xs4all.nl" created="Fri, 12 Sep 2008 20:31:12 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 12 Sep 2008 13:07:58 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12372</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26352</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>