<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:57:41 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3196/LUCENE-3196.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3196] Optimize FixedStraightBytes for bytes size == 1</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3196</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Currently we read all the bytes in a PagedBytes instance wich is unneeded for single byte values like norms. For fast access this should simply be a straight array.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12510097">LUCENE-3196</key>
            <summary>Optimize FixedStraightBytes for bytes size == 1</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Jun 2011 14:13:25 +0100</created>
                <updated>Fri, 10 May 2013 11:43:06 +0100</updated>
                    <resolved>Mon, 13 Jun 2011 22:35:43 +0100</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13048553" author="simonw" created="Mon, 13 Jun 2011 14:15:45 +0100"  >&lt;p&gt;here is a patch&lt;/p&gt;</comment>
                    <comment id="13048606" author="mikemccand" created="Mon, 13 Jun 2011 16:52:07 +0100"  >&lt;p&gt;Looks good Simon!&lt;/p&gt;

&lt;p&gt;Probably other smallish sizes (2, 3, 4, ...) could be a single array too, ie paged or not should be separately controllable, but we can do that later; this is a great baby step since we need this for norms cutover.&lt;/p&gt;

&lt;p&gt;Do we have a test (eg a random test that picks random fixed byte[] size) that covers this...?&lt;/p&gt;</comment>
                    <comment id="13048615" author="simonw" created="Mon, 13 Jun 2011 16:59:48 +0100"  >&lt;blockquote&gt;&lt;p&gt;Do we have a test (eg a random test that picks random fixed byte[] size) that covers this...?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;yes the fixed length is selected at random in the tests I fixed that in the patch too.&lt;/p&gt;</comment>
                    <comment id="13048616" author="mikemccand" created="Mon, 13 Jun 2011 17:03:10 +0100"  >&lt;p&gt;Ahh yes great!  selckin&apos;s random number generator should hit 1 frequently &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="13048757" author="simonw" created="Mon, 13 Jun 2011 22:03:13 +0100"  >&lt;p&gt;I am planning to commit this soon if nobody objects.&lt;/p&gt;</comment>
                    <comment id="13048787" author="thetaphi" created="Mon, 13 Jun 2011 22:20:36 +0100"  >&lt;p&gt;Looks fine, using this approach, separate norms impl can hopefully go away quite fast &lt;b&gt;g&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;For the PreFlex codec I even have an idea for the codec and backwards compatibility: The old norms file could be exposed as standard DocValues field by PreFlex codec. The r/w StandardCodec would never write separate norms files, instead simply write docvalues using this 1 byte approach (of course configureable to have e.g. read float norms, and other additional BM25 statistics or whatever).&lt;/p&gt;

&lt;p&gt;Just ideas, Uwe&lt;/p&gt;</comment>
                    <comment id="13048797" author="simonw" created="Mon, 13 Jun 2011 22:35:43 +0100"  >&lt;p&gt;Committed in revision 1135293.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12482335" name="LUCENE-3196.patch" size="5892" author="simonw" created="Mon, 13 Jun 2011 14:15:45 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 13 Jun 2011 15:52:07 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10786</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24501</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>