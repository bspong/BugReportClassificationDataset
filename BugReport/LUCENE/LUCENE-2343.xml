<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:08:14 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2343/LUCENE-2343.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2343] Add support for benchmarking Collectors</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2343</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;As the title says.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12460111">LUCENE-2343</key>
            <summary>Add support for benchmarking Collectors</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Mar 2010 14:25:16 +0000</created>
                <updated>Fri, 10 May 2013 11:43:09 +0100</updated>
                    <resolved>Wed, 24 Mar 2010 20:50:13 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/benchmark</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12849291" author="gsingers" created="Wed, 24 Mar 2010 17:20:36 +0000"  >&lt;p&gt;Add support for benchmarking collectors&lt;/p&gt;</comment>
                    <comment id="12849295" author="gsingers" created="Wed, 24 Mar 2010 17:25:10 +0000"  >&lt;p&gt;I intend to commit today or tomorrow.&lt;/p&gt;</comment>
                    <comment id="12849384" author="shaie" created="Wed, 24 Mar 2010 19:51:55 +0000"  >&lt;p&gt;In the patch you write: &quot;topDocOrdered - Creates a TopDocCollector that requires in order docs&quot; - did you mean TopScoreDocCollector? Because TopDocCollector is abstract ...&lt;/p&gt;

&lt;p&gt;I think the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Collector&amp;gt; clazz = (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Collector&amp;gt;) &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(clnName);
+      collector = clazz.newInstance();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;can be written as Class.forName(clnName).asSubclass(Collector.class).newInstance();&lt;/p&gt;

&lt;p&gt;Also, and it&apos;s a style issue, can you remove the &apos;== true/false&apos; from ifs?&lt;/p&gt;

&lt;p&gt;I&apos;d change &lt;b&gt;if (clnName.equals(&quot;&quot;) == false)&lt;/b&gt; to &lt;b&gt;if (clnName.length() &amp;gt; 0)&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;Why does benchmark/build.xml now relies on the compiled classes/test (of core)?&lt;/p&gt;</comment>
                    <comment id="12849390" author="gsingers" created="Wed, 24 Mar 2010 20:03:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;can be written as Class.forName(clnName).asSubclass(Collector.class).newInstance();&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, and it&apos;s a style issue, can you remove the &apos;== true/false&apos; from ifs?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  Feel free to leave them out, but I prefer it to be explicit.  See my rant at: &lt;a href=&quot;http://www.lucidimagination.com/search/document/476a10c1c687971d/randomseedgenerator#684ed7253617ea71&quot; class=&quot;external-link&quot;&gt;http://www.lucidimagination.com/search/document/476a10c1c687971d/randomseedgenerator#684ed7253617ea71&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d change if (clnName.equals(&quot;&quot;) == false) to if (clnName.length() &amp;gt; 0).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why does benchmark/build.xml now relies on the compiled classes/test (of core)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm, guess I didn&apos;t see that English got moved from test to core.&lt;/p&gt;</comment>
                    <comment id="12849393" author="shaie" created="Wed, 24 Mar 2010 20:09:15 +0000"  >&lt;p&gt;ok I won&apos;t argue about == true/false. It&apos;s a style thing and I&apos;m not too fanatic about it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                    <comment id="12849397" author="gsingers" created="Wed, 24 Mar 2010 20:11:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;In the patch you write: &quot;topDocOrdered - Creates a TopDocCollector that requires in order docs&quot; - did you mean TopScoreDocCollector? Because TopDocCollector is abstract ... &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, I can make that topScoreDoc...&lt;/p&gt;</comment>
                    <comment id="12849403" author="shaie" created="Wed, 24 Mar 2010 20:16:11 +0000"  >&lt;p&gt;I wasn&apos;t talking about the name of the parameter but about the comment in the javadoc. TopDocsCollector is a typo - should have been TopScoreDocCollector. If you also want to change the name of the parameter in the .alg file that&apos;s ok as well, though I&apos;m fine w/ topDocOrdered/Unordered.&lt;/p&gt;</comment>
                    <comment id="12849405" author="gsingers" created="Wed, 24 Mar 2010 20:19:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wasn&apos;t talking about the name of the parameter but about the comment in the javadoc. TopDocsCollector is a typo - should have been TopScoreDocCollector. If you also want to change the name of the parameter in the .alg file that&apos;s ok as well, though I&apos;m fine w/ topDocOrdered/Unordered. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, I think I will change the name, too, but point taken.  Will fix the docs.&lt;/p&gt;</comment>
                    <comment id="12849410" author="gsingers" created="Wed, 24 Mar 2010 20:32:13 +0000"  >&lt;p&gt;I think this addresses all of Shai&apos;s concerns.&lt;/p&gt;</comment>
                    <comment id="12849416" author="shaie" created="Wed, 24 Mar 2010 20:42:06 +0000"  >&lt;p&gt;Looks good !&lt;/p&gt;</comment>
                    <comment id="12849426" author="gsingers" created="Wed, 24 Mar 2010 20:50:13 +0000"  >&lt;p&gt;Committed revision 927178.&lt;/p&gt;</comment>
                    <comment id="12849435" author="shaie" created="Wed, 24 Mar 2010 21:05:33 +0000"  >&lt;p&gt;I&apos;ve just realized you haven&apos;t added a CHANGES entry (and I missed that in my previous review, sorry).&lt;/p&gt;</comment>
                    <comment id="12849536" author="gsingers" created="Wed, 24 Mar 2010 23:57:13 +0000"  >&lt;p&gt;Should be in the contrib/benchmark/CHANGES&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12439696" name="LUCENE-2343.patch" size="30646" author="gsingers" created="Wed, 24 Mar 2010 20:32:13 +0000" />
                    <attachment id="12439676" name="LUCENE-2343.patch" size="31884" author="gsingers" created="Wed, 24 Mar 2010 17:20:36 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 24 Mar 2010 19:51:55 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11453</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25347</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>