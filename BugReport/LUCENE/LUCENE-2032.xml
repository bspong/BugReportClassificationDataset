<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:15:23 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2032/LUCENE-2032.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2032] Spatial Filters not Serializable</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2032</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I am using Lucene in a distributed setup. &lt;/p&gt;

&lt;p&gt;The Filters in the spatial project aren&apos;t Serializable even though it inherits it from Filter. Filter is a Serializable class. &lt;/p&gt;

&lt;p&gt;DistanceFilter contains the non-Serializable class WeakHashMap.&lt;br/&gt;
CartesianShapeFilter contains the non-Serializable class java.util.logging.Logger&lt;/p&gt;</description>
                <environment></environment>
            <key id="12439888">LUCENE-2032</key>
            <summary>Spatial Filters not Serializable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="jsurls">Joey Surls</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Nov 2009 21:12:15 +0000</created>
                <updated>Thu, 5 Nov 2009 18:50:12 +0000</updated>
                    <resolved>Thu, 5 Nov 2009 18:50:12 +0000</resolved>
                            <version>2.9</version>
                                <fixVersion>3.0</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                    <timeestimate seconds="900">0.25h</timeestimate>
                                  <comments>
                    <comment id="12773704" author="rcmuir" created="Wed, 4 Nov 2009 23:38:41 +0000"  >&lt;p&gt;Hi Joey, do you have a patch by any chance?&lt;/p&gt;

&lt;p&gt;i think you will have to write a readObject() to fix this.&lt;/p&gt;</comment>
                    <comment id="12773762" author="thetaphi" created="Thu, 5 Nov 2009 03:36:05 +0000"  >&lt;p&gt;This patch fixes it in trunk.&lt;/p&gt;</comment>
                    <comment id="12773763" author="thetaphi" created="Thu, 5 Nov 2009 03:44:15 +0000"  >&lt;p&gt;Committed revision: 832987&lt;/p&gt;</comment>
                    <comment id="12773925" author="jsurls" created="Thu, 5 Nov 2009 13:27:21 +0000"  >&lt;p&gt;CartesianShapeFilter also uses the non-Serializable class Shape&lt;/p&gt;

&lt;p&gt;I think all that is needed is to add Serializable to Shape&lt;/p&gt;

&lt;p&gt;The following code can be used to verify any other embedded classes not serialized:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Test.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSerializable(Serializable o) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException{
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
			ByteArrayOutputStream bos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
			ObjectOutputStream oos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ObjectOutputStream(bos);
			oos.writeObject(o);
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
		}&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(NotSerializableException e){
			e.printStackTrace();
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
		}
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                    <comment id="12773982" author="simonw" created="Thu, 5 Nov 2009 17:19:35 +0000"  >&lt;p&gt;I made Shape serializable and cleaned up the code in CartensianShapeFilter slightly. The patch removes the logging code too as we do not have logging code elsewhere. I&apos;m not keen to write a readObject method just for the sake of creating the logging object as it is not serializable. &lt;br/&gt;
The patch contains a testcase for serializable too.&lt;/p&gt;
</comment>
                    <comment id="12773984" author="thetaphi" created="Thu, 5 Nov 2009 17:23:39 +0000"  >&lt;p&gt;The trick is to make the logging object &quot;static final&quot;, because it is not needed per instance. See my patch from yesterday.&lt;/p&gt;</comment>
                    <comment id="12773995" author="simonw" created="Thu, 5 Nov 2009 17:41:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;The trick is to make the logging object &quot;static final&quot;, because it is not needed per instance. See my patch from yesterday. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I actually remove that on purpose. There is no other logging code outside of spatial and I guess consistency should go first in that case. Especially for logging it would make sense to have it static and final even if it is not serialized. &lt;/p&gt;</comment>
                    <comment id="12774015" author="simonw" created="Thu, 5 Nov 2009 18:11:19 +0000"  >&lt;p&gt;I removed the last logging reference from CartesianPolyFilterBuilder...&lt;/p&gt;</comment>
                    <comment id="12774028" author="simonw" created="Thu, 5 Nov 2009 18:50:12 +0000"  >&lt;p&gt;commited in revision 833122&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12424094" name="LUCENE-2032.patch" size="2144" author="thetaphi" created="Thu, 5 Nov 2009 03:36:05 +0000" />
                    <attachment id="12424145" name="LUCENE-2032.txt" size="7393" author="simonw" created="Thu, 5 Nov 2009 18:11:19 +0000" />
                    <attachment id="12424135" name="LUCENE-2032.txt" size="5012" author="simonw" created="Thu, 5 Nov 2009 17:19:35 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 4 Nov 2009 23:38:41 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11744</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25693</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>