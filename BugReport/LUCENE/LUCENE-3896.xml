<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:19:53 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3896/LUCENE-3896.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3896] CharTokenizer has bugs for large documents.</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3896</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Initially found by hudson from additional testing added in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3894&quot; title=&quot;Make BaseTokenStreamTestCase a bit more evil&quot;&gt;&lt;del&gt;LUCENE-3894&lt;/del&gt;&lt;/a&gt;, but &lt;br/&gt;
currently not reproducable (see &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3895&quot; title=&quot;Not getting random-seed/reproduce-with if a test fails from another thread&quot;&gt;&lt;del&gt;LUCENE-3895&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;But its easy to reproduce for a simple single-threaded case in TestDuelingAnalyzers.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12547319">LUCENE-3896</key>
            <summary>CharTokenizer has bugs for large documents.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Mar 2012 01:33:17 +0000</created>
                <updated>Fri, 10 May 2013 11:44:21 +0100</updated>
                    <resolved>Wed, 21 Mar 2012 14:31:01 +0000</resolved>
                                            <fixVersion>3.6</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13234026" author="rcmuir" created="Wed, 21 Mar 2012 01:44:59 +0000"  >&lt;p&gt;Dammit, sorry guys: this was bug in the test.&lt;/p&gt;

&lt;p&gt;Still chasing down this hudson bug... but I&apos;ve fixed this test and will commit it.&lt;/p&gt;</comment>
                    <comment id="13234030" author="rcmuir" created="Wed, 21 Mar 2012 01:59:53 +0000"  >&lt;p&gt;Hmm might not be over yet... I have a seed!&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant test -Dtestcase=TestAnalyzers -Dtestmethod=testRandomStrings -Dtests.seed=-7f6a719106dd5c8:-63eef3f2749f16d4:706a2a70bcc9d7ac -Dtests.multiplier=3 -Dargs=&quot;-Dfile.encoding=UTF-8&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is the random test for WhitespaceAnalyzer.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Testcase: testRandomStrings(org.apache.lucene.analysis.core.TestAnalyzers):	Caused an ERROR
    [junit] term 0 expected:&amp;lt;��[]��������������������&amp;gt; but was:&amp;lt;��[?]��������������������&amp;gt;
    [junit] org.junit.ComparisonFailure: term 0 expected:&amp;lt;��[]��������������������&amp;gt; but was:&amp;lt;��[?]��������������������&amp;gt;
    [junit] 	at org.junit.Assert.assertEquals(Assert.java:125)
    [junit] 	at org.apache.lucene.analysis.BaseTokenStreamTestCase.assertTokenStreamContents(BaseTokenStreamTestCase.java:144)
    [junit] 	at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData(BaseTokenStreamTestCase.java:546)
    [junit] 	at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData(BaseTokenStreamTestCase.java:337)
    [junit] 	at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData(BaseTokenStreamTestCase.java:306)
    [junit] 	at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData(BaseTokenStreamTestCase.java:298)
    [junit] 	at org.apache.lucene.analysis.core.TestAnalyzers.testRandomStrings(TestAnalyzers.java:213)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:597)
    [junit] 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
    [junit] 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    [junit] 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
    [junit] 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    [junit] 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
    [junit] 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:729)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:645)
    [junit] 	at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:556)
    [junit] 	at org.apache.lucene.util.UncaughtExceptionsRule$1.evaluate(UncaughtExceptionsRule.java:51)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:618)
    [junit] 	at org.junit.rules.RunRules.evaluate(RunRules.java:18)
    [junit] 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
    [junit] 	at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)
    [junit] 	at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)
    [junit] 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
    [junit] 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
    [junit] 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    [junit] 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    [junit] 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
    [junit] 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
    [junit] 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
    [junit] 	at org.apache.lucene.util.UncaughtExceptionsRule$1.evaluate(UncaughtExceptionsRule.java:51)
    [junit] 	at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)
    [junit] 	at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)
    [junit] 	at org.junit.rules.RunRules.evaluate(RunRules.java:18)
    [junit] 	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    [junit] 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)
    [junit] 
    [junit] 
    [junit] Test org.apache.lucene.analysis.core.TestAnalyzers FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13234037" author="rcmuir" created="Wed, 21 Mar 2012 02:17:56 +0000"  >&lt;p&gt;Here&apos;s a patch, but we should not commit it.&lt;/p&gt;

&lt;p&gt;I think this patch only shoves the bug under the rug: by reading fully it makes it less likely to happen that there is some off-by-one here.&lt;/p&gt;</comment>
                    <comment id="13234274" author="mikemccand" created="Wed, 21 Mar 2012 11:02:18 +0000"  >&lt;p&gt;OK I think the problem here was the spoon-feeder would feed 1 character, and that 1 character is a high-surrogate.  In that case, CharacterUtils.fill was returning 0, but I think should re-attempt the read to pull more chars?&lt;/p&gt;

&lt;p&gt;Attached patch seems to fix it... not sure we can do it cleaner though.&lt;/p&gt;</comment>
                    <comment id="13234317" author="rcmuir" created="Wed, 21 Mar 2012 12:47:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="13234318" author="mikemccand" created="Wed, 21 Mar 2012 12:47:41 +0000"  >&lt;p&gt;Improved the patch a bit; &quot;ant test&quot; in modules/analysis passes (at least once!).&lt;/p&gt;

&lt;p&gt;I think it&apos;s ready...&lt;/p&gt;</comment>
                    <comment id="13234379" author="rcmuir" created="Wed, 21 Mar 2012 14:31:01 +0000"  >&lt;p&gt;Mike: I backported your commit to 3.x to start making progress on these hudson fails.&lt;/p&gt;</comment>
                    <comment id="13234397" author="mikemccand" created="Wed, 21 Mar 2012 14:58:43 +0000"  >&lt;p&gt;Thanks Rob!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12519227" name="LUCENE-3896.patch" size="4269" author="mikemccand" created="Wed, 21 Mar 2012 12:47:41 +0000" />
                    <attachment id="12519223" name="LUCENE-3896.patch" size="2798" author="mikemccand" created="Wed, 21 Mar 2012 11:02:17 +0000" />
                    <attachment id="12519167" name="LUCENE-3896.patch" size="1932" author="rcmuir" created="Wed, 21 Mar 2012 02:17:56 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 21 Mar 2012 11:02:18 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>232478</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>23805</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>