<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:58:50 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1550/LUCENE-1550.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1550] Add N-Gram String Matching for Spell Checking</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1550</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;N-Gram version of edit distance based on paper by Grzegorz Kondrak, &quot;N-gram similarity and distance&quot;. Proceedings of the Twelfth International Conference on String Processing and Information Retrieval (SPIRE 2005), pp. 115-126,  Buenos Aires, Argentina, November 2005. &lt;br/&gt;
&lt;a href=&quot;http://www.cs.ualberta.ca/~kondrak/papers/spire05.pdf&quot; class=&quot;external-link&quot;&gt;http://www.cs.ualberta.ca/~kondrak/papers/spire05.pdf&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12415844">LUCENE-1550</key>
            <summary>Add N-Gram String Matching for Spell Checking</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="tsmorton">Thomas Morton</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Feb 2009 03:13:23 +0000</created>
                <updated>Tue, 14 Jul 2009 18:12:13 +0100</updated>
                    <resolved>Tue, 14 Jul 2009 18:12:13 +0100</resolved>
                            <version>2.9</version>
                                <fixVersion>2.9</fixVersion>
                                <component>modules/spellchecker</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="12677635" author="tsmorton" created="Sat, 28 Feb 2009 03:18:33 +0000"  >&lt;p&gt;Patch includes implementation of n-gram string matching.&lt;/p&gt;

&lt;p&gt;This implementation uses the position-based optimization to compute partial matches of n-gram sub-strings and adds a null-character prefix of size n-1  so that the first character is contained in the same number of n-grams as a middle character.  Null-character prefix matches are discounted so that  strings with no matching characters will return a distance of 0.&lt;/p&gt;

&lt;p&gt;Includes test cases.&lt;/p&gt;

&lt;p&gt;Fixes javadoc description of StringDistance to reflect that 1 is used for the same string and 0 for non-matching.&lt;/p&gt;</comment>
                    <comment id="12678194" author="gsingers" created="Tue, 3 Mar 2009 01:42:44 +0000"  >&lt;p&gt;not major&lt;/p&gt;</comment>
                    <comment id="12688079" author="gsingers" created="Sat, 21 Mar 2009 21:30:04 +0000"  >&lt;p&gt;Hey Tom,&lt;/p&gt;

&lt;p&gt;Few questions:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Do you have recommendations on picking n?&lt;/li&gt;
	&lt;li&gt;On line 78 or so, can&apos;t that be moved up?  s1/t1 are calculated on line 47 and not assigned to.  Seems like it would be an optimization to return out if they are 0.  Also, can it just be:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (s1 == 0 || t1 == 0){&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1;};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In fact, all tests still pass when this is moved up to the top.  However, I must not be understanding something, as why should:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testEmpty() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    StringDistance nsd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NGramDistance(1);
    &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; d = nsd.getDistance(&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;, &quot;&lt;/span&gt;al&quot;);
    assertEquals(d,1.0f,0.001);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;pass?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    <comment id="12688154" author="tsmorton" created="Sun, 22 Mar 2009 18:06:08 +0000"  >
&lt;p&gt;2 seems a reasonable default.  Experiments in paper should comparable results for bi-grams and tri-grams.  Made an empty constructor which sets n=2.&lt;/p&gt;

&lt;p&gt;Yes that can be moved up without penalty.&lt;/p&gt;

&lt;p&gt;That&apos;s a bug in the empty case.  Should return 0 unless both strings are empty.  I ported this bug form the Levenstein Distance code.  It&apos;s now fixed in both and has unit tests in both.  New patch attached.&lt;/p&gt;

&lt;p&gt;Technically NGramDistance(1) is the same thing as LevensteinDistance but LevensteinDistance code is more straight forward and may be slightly faster.&lt;/p&gt;</comment>
                    <comment id="12694718" author="gsingers" created="Wed, 1 Apr 2009 21:26:44 +0100"  >&lt;p&gt;Hey Tom,&lt;/p&gt;

&lt;p&gt;The empty string test still fails, namely b/c it is expecting 0.0 instead of -1.  Seems like we should just return 0 for the case where one is empty.  Although, even that is a bit weird, right?  For instance, in the Edit distance case, there still is a notion of the number of edits one needs to make to get from a string to an empty string, right? That is, the distance from &quot;a&quot; to &quot;&quot; seems less than the distance of &quot;abcdef&quot; to &quot;&quot;, no?&lt;/p&gt;

&lt;p&gt;I guess I&apos;m fine with 0, but what does the literature suggest for this edge case?&lt;/p&gt;</comment>
                    <comment id="12701360" author="tsmorton" created="Wed, 22 Apr 2009 04:14:03 +0100"  >&lt;p&gt;Fixes the empty string case.&lt;br/&gt;
Adds some additional unit tests.&lt;/p&gt;</comment>
                    <comment id="12701362" author="tsmorton" created="Wed, 22 Apr 2009 04:18:57 +0100"  >&lt;p&gt;The implementations returns a normalized edit distance (normalized by string length) and specifically 1 if the strings are the same and 0 if that are maximally different.  0 in that case makes sense as the number of edits is equal to the number of characters in the longest string, so:&lt;/p&gt;

&lt;p&gt;1- (2 edits /2 length) = 0&lt;/p&gt;</comment>
                    <comment id="12711150" author="gsingers" created="Wed, 20 May 2009 15:07:28 +0100"  >&lt;p&gt;Committed revision 776704.&lt;/p&gt;

&lt;p&gt;Thanks Tom!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12406090" name="LUCENE-1550.patch" size="13971" author="tsmorton" created="Wed, 22 Apr 2009 04:14:03 +0100" />
                    <attachment id="12403394" name="LUCENE-1550.patch" size="13566" author="tsmorton" created="Sun, 22 Mar 2009 18:06:08 +0000" />
                    <attachment id="12401157" name="LUCENE-1550.patch" size="11751" author="tsmorton" created="Sat, 28 Feb 2009 03:18:33 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 3 Mar 2009 01:42:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12204</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26179</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>