<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:06:05 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3574/LUCENE-3574.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3574] Add some more constants for newer Java versions to Constants.class, remove outdated ones.</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3574</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Preparation for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3235&quot; title=&quot;TestDoubleBarrelLRUCache hangs under Java 1.5, 3.x and trunk, likely JVM bug&quot;&gt;LUCENE-3235&lt;/a&gt;:&lt;br/&gt;
This adds constants to quickly detect Java6 and Java7 to Constants.java. It also deprecated and removes the outdated historical Java versions.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12531326">LUCENE-3574</key>
            <summary>Add some more constants for newer Java versions to Constants.class, remove outdated ones.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 14:58:51 +0000</created>
                <updated>Sun, 27 Nov 2011 12:29:22 +0000</updated>
                    <resolved>Mon, 14 Nov 2011 15:09:18 +0000</resolved>
                                            <fixVersion>3.5</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/other</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13149663" author="thetaphi" created="Mon, 14 Nov 2011 15:01:07 +0000"  >&lt;p&gt;Patch for Lucene 3.x&lt;/p&gt;

&lt;p&gt;will remove deprecations in trunk and make JRE_IS_MINIMUM_JRE6 = true (+ deprecate it there)&lt;/p&gt;</comment>
                    <comment id="13149665" author="thetaphi" created="Mon, 14 Nov 2011 15:03:50 +0000"  >&lt;p&gt;Committed 3.x revision: 1201739&lt;/p&gt;</comment>
                    <comment id="13149666" author="thetaphi" created="Mon, 14 Nov 2011 15:09:18 +0000"  >&lt;p&gt;Committed trunk revision: 1201741&lt;/p&gt;</comment>
                    <comment id="13149667" author="shaie" created="Mon, 14 Nov 2011 15:10:31 +0000"  >&lt;p&gt;One typo: &quot;nsme&quot; -&amp;gt; &quot;name&quot;&lt;/p&gt;

&lt;p&gt;Also, not sure if it&apos;s worth it, but perhaps instead of constants like MIMINUM_JAVA_X we can have a class JavaVersion that follows the same logic we have in Version and can compare itself to other JavaVersions? Then we can have constants for JAVA_6 = new JavaVersion(6) and similar for JAVA_7, and another CURRENT_JAVA_VER that is initialized with the code you wrote. And you can then compare CURRENT to JAVA_6/7?&lt;/p&gt;

&lt;p&gt;Just an idea.&lt;/p&gt;</comment>
                    <comment id="13149671" author="rcmuir" created="Mon, 14 Nov 2011 15:15:26 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Also, not sure if it&apos;s worth it, but perhaps instead of constants like MIMINUM_JAVA_X we can have a class JavaVersion that follows the same logic we have in Version&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think the problem here would be that say we release 3.5 in a week.&lt;/p&gt;

&lt;p&gt;Then two years later Java 8 comes out... we can&apos;t know today how to detect it. So all we can do is say that we are &apos;at least&apos; java 7 because we have XYZ.&lt;/p&gt;</comment>
                    <comment id="13149677" author="thetaphi" created="Mon, 14 Nov 2011 15:19:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;One typo: &quot;nsme&quot; -&amp;gt; &quot;name&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;nsme -&amp;gt; NoSuchMethodException&lt;/p&gt;</comment>
                    <comment id="13149679" author="shaie" created="Mon, 14 Nov 2011 15:21:08 +0000"  >&lt;p&gt;Exactly (I think that&apos;s what I meant) &amp;#8211; we detect the Java version as best we can and store it in a constant JAVA_VERSION. It can be compared to JAVA_6/7 thru an atLeast() API, like JAVA_VERSION.atLeast(JAVA_7).&lt;/p&gt;

&lt;p&gt;The code in 3.5 will only know to detect up to Java 7, while the code in 5.2 will know to detect Java 8.&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t that work?&lt;/p&gt;</comment>
                    <comment id="13149682" author="shaie" created="Mon, 14 Nov 2011 15:22:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;nsme -&amp;gt; NoSuchMethodException&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;ah, ok &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                    <comment id="13149685" author="rcmuir" created="Mon, 14 Nov 2011 15:26:56 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The code in 3.5 will only know to detect up to Java 7, while the code in 5.2 will know to detect Java 8.&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t that work?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would prefer not to, because it opens up the opportunity to wrongly record this somewhere (e.g. diagnostics map)&lt;br/&gt;
or even just System.out.println or checkindex or something... it would be misleading.&lt;/p&gt;</comment>
                    <comment id="13149697" author="thetaphi" created="Mon, 14 Nov 2011 15:47:16 +0000"  >&lt;p&gt;One example where it might be bad: If it&apos;s an enum, you can also do if (JAVA_VERSION==JAVA_7, so the enum constants are not named like the fact they represent.&lt;/p&gt;

&lt;p&gt;I think thats all too much logic for something simple. For one major version we will have mostly 2 or 3 constants. In trunk we currently only have Java7 and a deprecated one which is always true. New constants are only added on request, when we want to test for features/bugs.&lt;/p&gt;</comment>
                    <comment id="13149732" author="shaie" created="Mon, 14 Nov 2011 16:42:21 +0000"  >&lt;p&gt;Ok I&apos;m convinced &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Was just a thought&lt;/p&gt;</comment>
                    <comment id="13157738" author="thetaphi" created="Sun, 27 Nov 2011 12:29:22 +0000"  >&lt;p&gt;Bulk close after release of 3.5&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310040">
                <name>Required</name>
                                                <inwardlinks description="is required by">
                            <issuelink>
            <issuekey id="12511398">LUCENE-3235</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12503625" name="LUCENE-3574-3x.patch" size="4490" author="thetaphi" created="Mon, 14 Nov 2011 15:01:07 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 14 Nov 2011 15:10:31 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>217063</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24123</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>