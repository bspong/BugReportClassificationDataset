<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:33:28 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-590/LUCENE-590.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-590] Demo HTML parser gives incorrect summaries when title is repeated as a heading</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-590</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;If you have an html document where the title is repeated as a heading at the top of the document, the HTMLParser will return the title as the summary, ignoring everything else that was added to the summary. Instead, it should keep the rest of the summary and chop off the title part at the beginning (essentially the opposite). I don&apos;t see any benefit to repeating the title in the summary for any case.&lt;/p&gt;

&lt;p&gt;In HTMLParser.jj&apos;s getSummary():&lt;/p&gt;

&lt;p&gt;    String sum = summary.toString().trim();&lt;br/&gt;
    String tit = getTitle();&lt;br/&gt;
    if (sum.startsWith(tit) || sum.equals(&quot;&quot;))&lt;br/&gt;
      return tit;&lt;br/&gt;
    else&lt;br/&gt;
      return sum;&lt;/p&gt;

&lt;p&gt;change it to: (* denotes a line that has changed)&lt;/p&gt;

&lt;p&gt;    String sum = summary.toString().trim();&lt;br/&gt;
    String tit = getTitle();&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;if (sum.startsWith(tit))             // don&apos;t repeat title in summary&lt;/li&gt;
	&lt;li&gt;return sum.substring(tit.length()).trim();&lt;br/&gt;
    else&lt;br/&gt;
      return sum;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
            <key id="12344074">LUCENE-590</key>
            <summary>Demo HTML parser gives incorrect summaries when title is repeated as a heading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="curtispd">Curtis d&apos;Entremont</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jun 2006 23:31:41 +0100</created>
                <updated>Wed, 30 Mar 2011 16:50:30 +0100</updated>
                    <resolved>Fri, 5 Nov 2010 08:24:38 +0000</resolved>
                            <version>2.0.0</version>
                                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/examples</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12416413" author="lucenebugs@danielnaber.de" created="Fri, 16 Jun 2006 05:39:54 +0100"  >&lt;p&gt;decrease priority (affects demo only)&lt;/p&gt;</comment>
                    <comment id="12928538" author="rcmuir" created="Fri, 5 Nov 2010 08:18:31 +0000"  >&lt;p&gt;here&apos;s a patch with a test... we dont even need to substring the summary...&lt;br/&gt;
the title is never added to the summary.&lt;/p&gt;</comment>
                    <comment id="12928539" author="rcmuir" created="Fri, 5 Nov 2010 08:24:38 +0000"  >&lt;p&gt;Committed revision 1031467, 1031468 (3x)&lt;br/&gt;
Thanks Curtis!&lt;/p&gt;</comment>
                    <comment id="13013503" author="gsingers" created="Wed, 30 Mar 2011 16:50:30 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12458889" name="LUCENE-590.patch" size="2447" author="rcmuir" created="Fri, 5 Nov 2010 08:18:31 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 16 Jun 2006 04:39:54 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13160</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27137</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>