<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:04:15 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2865/LUCENE-2865.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2865] Pass a context struct to Weight#scorer instead of naked booleans</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2865</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Weight#scorer(AtomicReaderContext, boolean, boolean) is hard to extend if another boolean like &quot;needsScoring&quot; or similar flags / information need to be passed to Scorers. An immutable struct would make such an extension trivial / way easier. &lt;/p&gt;</description>
                <environment></environment>
            <key id="12495488">LUCENE-2865</key>
            <summary>Pass a context struct to Weight#scorer instead of naked booleans</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 13:34:18 +0000</created>
                <updated>Fri, 10 May 2013 11:43:30 +0100</updated>
                    <resolved>Thu, 13 Jan 2011 14:59:52 +0000</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12981246" author="simonw" created="Thu, 13 Jan 2011 13:40:02 +0000"  >&lt;p&gt;here is a patch that adds a ScorerContext to replace those two booleans. ScorerContext follows a &quot;copy on write&quot; pattern similar to a builder pattern that only modifies the context if the values actually change. Seems pretty straight forward so far.&lt;/p&gt;</comment>
                    <comment id="12981259" author="thetaphi" created="Thu, 13 Jan 2011 14:27:18 +0000"  >&lt;p&gt;Looks good!&lt;/p&gt;

&lt;p&gt;I would make the ctor private and then use ScorerContext.default().x().y() as pattern (default returns the template). I like this design more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12981269" author="simonw" created="Thu, 13 Jan 2011 14:38:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would make the ctor private and then use ScorerContext.default().x().y() as pattern (default returns the template). I like this design more &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Jawohl! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - Since default is a keyword in java I used ScorerContext#def() instead. I fixed some JDoc issues, made all ScorerContext ctors private and added a changes.txt entry&lt;/p&gt;

&lt;p&gt;seems like we are good to go&lt;/p&gt;</comment>
                    <comment id="12981273" author="thetaphi" created="Thu, 13 Jan 2011 14:53:20 +0000"  >&lt;p&gt;+1 to commit, looks good.&lt;/p&gt;

&lt;p&gt;For later we should fix BooleanQuery.explain() to use default context, too. topScorer=true is wrong for explain (but has no effect here).&lt;/p&gt;</comment>
                    <comment id="12981275" author="simonw" created="Thu, 13 Jan 2011 14:59:52 +0000"  >&lt;p&gt;Committed revision 1058592.&lt;/p&gt;

&lt;p&gt;thanks uwe for the review&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12468256" name="LUCENE-2865.patch" size="40930" author="simonw" created="Thu, 13 Jan 2011 14:38:05 +0000" />
                    <attachment id="12468254" name="LUCENE-2865.patch" size="40493" author="simonw" created="Thu, 13 Jan 2011 13:40:02 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 13 Jan 2011 14:27:18 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11000</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24827</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>