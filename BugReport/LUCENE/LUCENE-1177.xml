<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:16:52 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1177/LUCENE-1177.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1177] IW.optimize() can do too many merges at the very end</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1177</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This was fixed on trunk in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1044&quot; title=&quot;Behavior on hard power shutdown&quot;&gt;&lt;del&gt;LUCENE-1044&lt;/del&gt;&lt;/a&gt; but I&apos;d like to separately&lt;br/&gt;
backport it to 2.3.&lt;/p&gt;

&lt;p&gt;With ConcurrentMergeScheduler there is a bug, only when CFS is on,&lt;br/&gt;
whereby after the final merge of an optimize has finished and while&lt;br/&gt;
it&apos;s building its CFS, the merge policy may incorrectly ask for&lt;br/&gt;
another merge to collapse that segment into a compound file.  The net&lt;br/&gt;
effect is optimize can spend many extra iterations unecessarily&lt;br/&gt;
merging a single segment to collapse it to compound file.&lt;/p&gt;

&lt;p&gt;I believe the case is rare (hard to hit), and maybe only if you have&lt;br/&gt;
multiple threads calling optimize at once (the TestThreadedOptimize&lt;br/&gt;
test can hit it), but it&apos;s a low-risk fix so I plan to commit to 2.3&lt;br/&gt;
shortly.&lt;/p&gt;
</description>
                <environment></environment>
            <key id="12388452">LUCENE-1177</key>
            <summary>IW.optimize() can do too many merges at the very end</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2008 13:29:44 +0000</created>
                <updated>Sun, 24 Feb 2008 00:40:05 +0000</updated>
                    <resolved>Thu, 14 Feb 2008 15:28:08 +0000</resolved>
                            <version>2.3</version>
                                <fixVersion>2.3.1</fixVersion>
                <fixVersion>2.4</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12568108" author="mikemccand" created="Tue, 12 Feb 2008 13:31:45 +0000"  >&lt;p&gt;Attached patch.  Will commit shortly to 2.3.&lt;/p&gt;</comment>
                    <comment id="12568965" author="mikemccand" created="Thu, 14 Feb 2008 15:28:08 +0000"  >&lt;p&gt;Committed to 2.3 (and was already fixed on trunk).&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10032">
                <name>Blocker</name>
                                <outwardlinks description="blocks">
                            <issuelink>
            <issuekey id="12376448">SOLR-342</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12375354" name="LUCENE-1177.patch" size="2946" author="mikemccand" created="Tue, 12 Feb 2008 13:31:45 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12568</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26552</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>