<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:04:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1480/LUCENE-1480.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1480] Wrap messages output with a check of InfoStream != null</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1480</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I&apos;ve found several places in the code where messages are output w/o first checking if infoStream != null. The result is that in most of the time, unnecessary strings are created but never output (because infoStream is not set). We should follow Java&apos;s logging best practices, where a log message is always output in the following format:&lt;br/&gt;
if (logger.isLoggable(leve)) {&lt;br/&gt;
    logger.log(level, msg);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Log messages are usually created w/o paying too much attention to performance (such as string concatenation using &apos;+&apos; instead of StringBuffer). Therefore, at runtime it is important to avoid creating those messages, if they will be discarded eventually.&lt;/p&gt;

&lt;p&gt;I will add a method to IndexWriter messagesEnabled() and then use it wherever a call to iw.message() is made.&lt;/p&gt;

&lt;p&gt;Patch will follow&lt;/p&gt;</description>
                <environment></environment>
            <key id="12410081">LUCENE-1480</key>
            <summary>Wrap messages output with a check of InfoStream != null</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="shaie">Shai Erera</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2008 14:52:41 +0000</created>
                <updated>Fri, 25 Sep 2009 17:23:14 +0100</updated>
                    <resolved>Sat, 6 Dec 2008 20:05:59 +0000</resolved>
                                            <fixVersion>2.9</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12653820" author="shaie" created="Fri, 5 Dec 2008 15:20:57 +0000"  >&lt;p&gt;Patch that introduces messagesEnabled() in IndexWriter and fixes all calls to IndexWriter.message() to be wrapped by a call to messagesEnabled() or infoStream != null (in case of IndexWriter calls to message()).&lt;/p&gt;</comment>
                    <comment id="12653872" author="shaie" created="Fri, 5 Dec 2008 17:50:20 +0000"  >&lt;p&gt;Hey Mike, I like the verbose() name. Would you like me to prepare a new patch, or can you apply the current patch and refactor the method name?&lt;br/&gt;
Note that a similar method was added to LogMergePolicy&lt;/p&gt;</comment>
                    <comment id="12653877" author="mikemccand" created="Fri, 5 Dec 2008 18:01:29 +0000"  >&lt;p&gt;Sorry, could you make a new patch?  Thanks.&lt;/p&gt;</comment>
                    <comment id="12653903" author="shaie" created="Fri, 5 Dec 2008 19:22:35 +0000"  >&lt;p&gt;Renamed messagesEnabled to verbose. Thanks Mike !&lt;/p&gt;</comment>
                    <comment id="12654045" author="mikemccand" created="Sat, 6 Dec 2008 10:10:45 +0000"  >&lt;p&gt;Shai, did you intend on changing IndexWriter.java to use the verbose() method, too?  (You added a verbose() method but didn&apos;t use it).&lt;/p&gt;</comment>
                    <comment id="12654116" author="shaie" created="Sat, 6 Dec 2008 15:06:50 +0000"  >&lt;p&gt;In IndexWriter, almost all the code used if (infoStream != null) and I only fixed a small number of places which didn&apos;t do that. So instead of changing all of the places to use verbose(), I chose to keep most of the code unchanged.&lt;br/&gt;
I can see that using verbose() will be consistent, although I don&apos;t think it&apos;s critical in that case. But anyway, that&apos;s a quick change, so if you believe it&apos;s better, I can provide a 3rd patch.&lt;/p&gt;</comment>
                    <comment id="12654142" author="mikemccand" created="Sat, 6 Dec 2008 19:40:17 +0000"  >&lt;p&gt;OK let&apos;s leave IndexWriter as-is.&lt;/p&gt;</comment>
                    <comment id="12654145" author="mikemccand" created="Sat, 6 Dec 2008 20:05:59 +0000"  >&lt;p&gt;Committed revision 724033.  Thanks Shai!&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12395441" name="LUCENE-1480-2.patch" size="13733" author="shaie" created="Fri, 5 Dec 2008 19:22:35 +0000" />
                    <attachment id="12395420" name="LUCENE-1480.patch" size="13947" author="shaie" created="Fri, 5 Dec 2008 15:20:57 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 5 Dec 2008 18:01:29 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12271</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26247</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>