<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:16:04 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-500/LUCENE-500.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-500] Lucene 2.0 requirements - Remove all deprecated code</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-500</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Per the move to Lucene 2.0 from 1.9, remove all deprecated code and update documentation, etc.&lt;/p&gt;

&lt;p&gt;Patch to follow shortly.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12329464">LUCENE-500</key>
            <summary>Lucene 2.0 requirements - Remove all deprecated code</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Feb 2006 07:00:16 +0000</created>
                <updated>Fri, 7 Apr 2006 02:33:57 +0100</updated>
                    <resolved>Fri, 7 Apr 2006 02:34:00 +0100</resolved>
                            <version>1.9</version>
                                <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12367790" author="gsingers" created="Sun, 26 Feb 2006 07:35:31 +0000"  >&lt;p&gt; Removed all deprecated methods/classes/tests/files.  I know the paint isn&apos;t dry on 1.9, but thought I would get a leap on 2.0...&lt;/p&gt;

&lt;p&gt;Other notes:&lt;/p&gt;

&lt;p&gt;1. Analyzer.java &amp;#8211; Made the tokenStream(String, Reader) into an abstract method.&lt;/p&gt;

&lt;p&gt;2. Some items that were marked as deprecated actually needed a reduction in visibility from public to private, and the getter/setters referenced instead&lt;/p&gt;

&lt;p&gt;3. All tests pass.&lt;/p&gt;

&lt;p&gt;4. Removed test-deprecated.&lt;/p&gt;

&lt;p&gt;5. The file deprecation-notes.txt are most likely included in the patch, but they can be deleted, as this comment is more recent.&lt;/p&gt;

&lt;p&gt;6.  I &lt;em&gt;did not&lt;/em&gt; review the documentation (i.e. javadocs, demo/tutorial, etc.) to look for references to deprecated items&lt;/p&gt;

&lt;p&gt;Let me know if there is anything else that is needed.&lt;/p&gt;

&lt;p&gt;-Grant&lt;/p&gt;</comment>
                    <comment id="12368358" author="cutting" created="Thu, 2 Mar 2006 05:54:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;This looks like a good start towards 2.0.&lt;/p&gt;</comment>
                    <comment id="12368578" author="lucenebugs@danielnaber.de" created="Fri, 3 Mar 2006 04:35:55 +0000"  >&lt;p&gt;DateField should not be removed, as that would mean people cannot easily access date values created with Lucene 1.4. I know the fact that it&apos;s deprecated is strange, but I didn&apos;t know how else to draw people&apos;s attention to the fact that they should (not must) use DateTools.&lt;/p&gt;</comment>
                    <comment id="12368704" author="gsingers" created="Fri, 3 Mar 2006 21:25:18 +0000"  >&lt;p&gt;Does that mean, then, that the usages of it in the QueryParser and the DateFilter need to be preserved as well?  Doesn&apos;t that mean that anyone using the QP to do range queries will need their index to be created using DateField instead of DateTools?&lt;/p&gt;

&lt;p&gt;Is there a way we can make DateTools be backward compatible to DateField when appropriate?  So that we could still remove DateField?&lt;/p&gt;</comment>
                    <comment id="12368910" author="lucenebugs@danielnaber.de" created="Sun, 5 Mar 2006 08:17:02 +0000"  >&lt;p&gt;Answer to the first questions: yes and yes. DateTools could be made to read the old values transparently. Also the method to create the old format strings could be moved to DateTools, but the comment in DateField actually says that the class will not be removed.&lt;/p&gt;</comment>
                    <comment id="12368932" author="gsingers" created="Sun, 5 Mar 2006 22:30:39 +0000"  >&lt;p&gt;OK, but then what is the plan for generating Range Queries in the QueryParser for those indexes that use DateTools instead?  Or is it not an issue?&lt;/p&gt;</comment>
                    <comment id="12368949" author="lucenebugs@danielnaber.de" created="Mon, 6 Mar 2006 01:31:48 +0000"  >&lt;p&gt;I have no plan to fix this, because I consider this a rather exotic feature and because it should not be difficult to extend QueryParser so that it supports the new format. If you know an elegant solution, patches are welcome.&lt;/p&gt;</comment>
                    <comment id="12369050" author="gsingers" created="Tue, 7 Mar 2006 06:17:54 +0000"  >&lt;p&gt;I am not sure what the implications of not changing it are.  Are Query Parser generated Range Queries really that exotic?   &lt;/p&gt;

&lt;p&gt;I am more than happy to roll back the involved code, but I am not sure if that is the right thing to do.   I know we have a large install base, but it seems to me that people understand that a major revision (i.e moving from 1.x to 2.x) is going to result in some things breaking and that, if they want to upgrade to 2.0, then they will have to do some more work.&lt;/p&gt;

&lt;p&gt;At any rate, I will take another look at the code involved and see if I have any bright ideas for how to deal with it.&lt;/p&gt;</comment>
                    <comment id="12369080" author="lucenebugs@danielnaber.de" created="Tue, 7 Mar 2006 06:36:56 +0000"  >&lt;p&gt;RangeQueries built via QueryParser are probably common, but not necessarily those that parse the local date format to a DateField, and only these are affected. I&apos;m not sure what to do either, but we can read old index files so we somehow need to make sure the data in the old format can still be interpreted.&lt;/p&gt;</comment>
                    <comment id="12370359" author="gsingers" created="Tue, 14 Mar 2006 22:56:12 +0000"  >&lt;p&gt;What can I do to move this forward?&lt;/p&gt;</comment>
                    <comment id="12370727" author="yseeley@gmail.com" created="Fri, 17 Mar 2006 01:54:26 +0000"  >&lt;p&gt;My take is that QueryParser should have never attempted to guess the type of the field.&lt;br/&gt;
It creates errors when you query on something that looks like a date, but isn&apos;t indexed using DateField or DateTools.&lt;/p&gt;

&lt;p&gt;I guess we still need to make a choice on whether breaking the QueryParser compatability is OK or not for 2.0&lt;/p&gt;</comment>
                    <comment id="12370729" author="cutting" created="Fri, 17 Mar 2006 02:14:16 +0000"  >&lt;p&gt;I think we should commit this, except leave DateField deprecated rather than remove it, since that is the promise made.  We should probably remove that promise, however, so that we can eventually remove it.&lt;/p&gt;

&lt;p&gt;We said we&apos;d remove all deprecated code, and we won&apos;t.  But that won&apos;t break anyone who compiles in 1.9.1 without deprecation warnings, which is the more important promise.&lt;/p&gt;

&lt;p&gt;Then we&apos;ll have a proto-2.0 release for developers to test.  We can separately decide how to handle dates in the QueryParser.  It would not be wrong to continue doing the same thing we&apos;ve done in 1.9, would it?  That won&apos;t break anyone.&lt;/p&gt;

&lt;p&gt;In short, let&apos;s not let this issue stop us from removing all of the other deprecated code and finding out whether anything else breaks.&lt;/p&gt;</comment>
                    <comment id="12370765" author="otis" created="Fri, 17 Mar 2006 08:06:27 +0000"  >&lt;p&gt;Grant, it looks like we have a good plan for going forward.&lt;br/&gt;
Can you/do you want to submit a new patch, or should I try to modify the original one?&lt;/p&gt;</comment>
                    <comment id="12370958" author="gsingers" created="Sun, 19 Mar 2006 06:30:07 +0000"  >&lt;p&gt;OK, here is the update.  I restored DateField (so it is not removed in the patch) and it&apos;s usage in QueryParser. &lt;/p&gt;

&lt;p&gt;I did &lt;em&gt;not&lt;/em&gt; restore it&apos;s usage anywhere else outside of QP and it&apos;s Test.&lt;/p&gt;

&lt;p&gt;All tests pass.&lt;/p&gt;</comment>
                    <comment id="12371248" author="yseeley@gmail.com" created="Tue, 21 Mar 2006 23:38:00 +0000"  >&lt;p&gt;Patch applied, thanks Grant!&lt;/p&gt;

&lt;p&gt;Note: for some reason, I couldn&apos;t get the patch to apply cleanly to files being removed.  I removed those by hand.&lt;/p&gt;</comment>
                    <comment id="12371249" author="yseeley@gmail.com" created="Tue, 21 Mar 2006 23:43:34 +0000"  >&lt;p&gt;Looks like there are still some things in contrib that use deprecated stuff... I&apos;ll look into it.&lt;/p&gt;</comment>
                    <comment id="12371260" author="yseeley@gmail.com" created="Wed, 22 Mar 2006 01:04:16 +0000"  >&lt;p&gt;OK, I think I got all of the deprecation related failures in &quot;ant test-contrib&quot;.&lt;br/&gt;
It&apos;s tough to tell for sure since there are many other types of failures in test-contrib.&lt;/p&gt;</comment>
                    <comment id="12371300" author="lucenebugs@danielnaber.de" created="Wed, 22 Mar 2006 05:08:49 +0000"  >&lt;p&gt;Did files like DateFilter really get removed? On my local checkout DateFilter.java is now an empty file. ViewCVS on the web also still shows the file. Or is that expected behavior with subversion?&lt;/p&gt;</comment>
                    <comment id="12371304" author="yseeley@gmail.com" created="Wed, 22 Mar 2006 05:21:53 +0000"  >&lt;p&gt;OK, I removed the zero length files.&lt;br/&gt;
Should should the empty src/test-deprecated directory hierarchy also be removed, or should it be left in place when other tests become deprecated?&lt;/p&gt;</comment>
                    <comment id="12371309" author="cutting" created="Wed, 22 Mar 2006 05:43:15 +0000"  >&lt;p&gt;+1 for removing the empty directory.  It can always be recreated if it is needed again.&lt;/p&gt;</comment>
                    <comment id="12371327" author="lucenebugs@danielnaber.de" created="Wed, 22 Mar 2006 06:47:34 +0000"  >&lt;p&gt;It seems QueryParser.java has been patched, but not QueryParser.jj.&lt;/p&gt;</comment>
                    <comment id="12371340" author="yseeley@gmail.com" created="Wed, 22 Mar 2006 07:28:48 +0000"  >&lt;p&gt;Good catch Daniel... I&apos;ll try and get to it later tonight.&lt;/p&gt;</comment>
                    <comment id="12371389" author="paul.elschot@xs4all.nl" created="Wed, 22 Mar 2006 16:10:11 +0000"  >&lt;p&gt;Here, at revision 387786, the target common.compile-test fails because a few previously deprecated methods&lt;br/&gt;
are still being used in test code (Field creation and BooleanQuery.add() in TestKipping* and TestRewriting).&lt;br/&gt;
Is there someone looking into this, or shall I provide a patch?&lt;/p&gt;

</comment>
                    <comment id="12371392" author="paul.elschot@xs4all.nl" created="Wed, 22 Mar 2006 16:21:16 +0000"  >&lt;p&gt;Oops, I checked svn status for the test code, and the two tests that cause these compiler errors&lt;br/&gt;
never made it into the trunk, so please ignore this.&lt;/p&gt;</comment>
                    <comment id="12373521" author="yseeley@gmail.com" created="Fri, 7 Apr 2006 02:33:56 +0100"  >&lt;p&gt;Closing... I think we pretty much covered this.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12324334" name="deprecation2.txt" size="396359" author="gsingers" created="Sun, 19 Mar 2006 06:30:07 +0000" />
                    <attachment id="12323412" name="deprecation.txt" size="399857" author="gsingers" created="Sun, 26 Feb 2006 07:35:31 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 2 Mar 2006 05:54:08 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13250</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27227</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>