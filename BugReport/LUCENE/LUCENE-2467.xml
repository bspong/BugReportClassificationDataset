<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:12:00 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2467/LUCENE-2467.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2467] IndexWriter memory leak when large docs are indexed</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2467</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff from the java-user thread &quot;IndexWriter and memory usage&quot;...&lt;/p&gt;

&lt;p&gt;IndexWriter has had a long standing memory leak, since &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-843&quot; title=&quot;improve how IndexWriter uses RAM to buffer added documents&quot;&gt;&lt;del&gt;LUCENE-843&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When the byte/char/int blocks are recycled to the common pool, the&lt;br/&gt;
per-thread DW classes incorrectly still hold a reference to them.&lt;/p&gt;

&lt;p&gt;This normally is not a problem, since these buffers will be re-used&lt;br/&gt;
again.&lt;/p&gt;

&lt;p&gt;But, if you index a massive document, causing IW to allocate more than&lt;br/&gt;
the RAM buffer allocated to it, then the leak happens.  So you could&lt;br/&gt;
have a 16 MB RAM buffer set, but if a huge doc required allocation of&lt;br/&gt;
200 MB worth of arrays, those 200 MB are never freed (well, until you&lt;br/&gt;
close the IW and deref it from the app).&lt;/p&gt;

&lt;p&gt;It&apos;s even worse if you use multiple threads: if each thread has ever&lt;br/&gt;
had to index a massive document, then that thread incorrectly holds&lt;br/&gt;
onto the extra arrays.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12464689">LUCENE-2467</key>
            <summary>IndexWriter memory leak when large docs are indexed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 May 2010 17:06:03 +0100</created>
                <updated>Fri, 13 May 2011 19:21:08 +0100</updated>
                    <resolved>Wed, 26 May 2010 20:08:08 +0100</resolved>
                            <version>2.3</version>
                <version>2.3.1</version>
                <version>2.3.2</version>
                <version>2.4</version>
                <version>2.4.1</version>
                <version>2.9</version>
                <version>2.9.1</version>
                <version>2.9.2</version>
                <version>2.9.3</version>
                <version>3.0</version>
                <version>3.0.1</version>
                <version>3.0.2</version>
                <version>3.1</version>
                <version>4.0-ALPHA</version>
                                <fixVersion>2.9.3</fixVersion>
                <fixVersion>3.0.2</fixVersion>
                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12868265" author="mikemccand" created="Mon, 17 May 2010 17:11:40 +0100"  >&lt;p&gt;Attached simple patch.&lt;/p&gt;

&lt;p&gt;The patch also fixes a couple other places where we hold onto memory for too long.&lt;/p&gt;</comment>
                    <comment id="12871856" author="mikemccand" created="Wed, 26 May 2010 19:01:25 +0100"  >&lt;p&gt;A couple more places to fix...&lt;/p&gt;</comment>
                    <comment id="12871859" author="mikemccand" created="Wed, 26 May 2010 19:04:09 +0100"  >&lt;p&gt;Don&apos;t hold onto the last doc/analyzer that a given thread state held onto; don&apos;t reuse postings instances anymore (we don&apos;t on trunk anymore either).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12445572" name="LUCENE-2467.patch" size="2657" author="mikemccand" created="Wed, 26 May 2010 19:04:09 +0100" />
                    <attachment id="12444701" name="LUCENE-2467.patch" size="3200" author="mikemccand" created="Mon, 17 May 2010 17:11:40 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11352</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25225</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>