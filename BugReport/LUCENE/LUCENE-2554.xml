<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:01:03 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2554/LUCENE-2554.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2554] preflex codec doesn&apos;t order terms correctly</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2554</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The surrogate dance in the preflex codec (which must dynamically remap terms from UTF16 order to unicode code point order) is buggy.&lt;/p&gt;

&lt;p&gt;To better test it, I want to add a test-only codec, preflexrw, that is able to write indices in the pre-flex format.  Then we should also fix tests to randomly pick codecs (including preflexrw) so we better test all of our codecs.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12469944">LUCENE-2554</key>
            <summary>preflex codec doesn&apos;t order terms correctly</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2010 20:23:23 +0100</created>
                <updated>Fri, 10 May 2013 11:43:07 +0100</updated>
                    <resolved>Mon, 26 Jul 2010 22:36:41 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12891293" author="mikemccand" created="Thu, 22 Jul 2010 20:25:51 +0100"  >&lt;p&gt;Attached VERY rough patch.&lt;/p&gt;

&lt;p&gt;Mosts tests pass but at least 2 don&apos;t.&lt;/p&gt;

&lt;p&gt;I think the fixes to surrogates dance are close to correct.  The new random test (TestSurrogates) is good at finding bugs there...&lt;/p&gt;

&lt;p&gt;The hack I have to forcefully use the test-only preflexrw codec needs to be made more generic, so that we can randomly pick the default codec to use for each test.&lt;/p&gt;</comment>
                    <comment id="12891364" author="rcmuir" created="Thu, 22 Jul 2010 23:20:05 +0100"  >&lt;p&gt;the perf issues here are really from our contrived tests... its good to use _TestUtil.randomUnicodeString, but it gives you the impression there is something wrong with this dance and there really isnt.&lt;/p&gt;

&lt;p&gt;I added _TestUtil.randomRealisticUnicodeString in r966878, you can swap this into some of these slow tests and see its definitely the problem.&lt;/p&gt;</comment>
                    <comment id="12891427" author="mikemccand" created="Fri, 23 Jul 2010 01:42:26 +0100"  >&lt;p&gt;Fixed the test failures &amp;#8211; all tests should pass.&lt;/p&gt;</comment>
                    <comment id="12891579" author="mikemccand" created="Fri, 23 Jul 2010 14:06:35 +0100"  >&lt;p&gt;Fixed a couple more issues found by intensive overnight random testing... cleaned up a few things.&lt;/p&gt;

&lt;p&gt;We still need a clean way to randomly swap in the preflexrw codec....&lt;/p&gt;</comment>
                    <comment id="12891585" author="rcmuir" created="Fri, 23 Jul 2010 14:29:16 +0100"  >&lt;blockquote&gt;&lt;p&gt;We still need a clean way to randomly swap in the preflexrw codec....&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think we should do this with RandomIndexWriter like we do now, but pull this stuff out of there and move it to ant/LuceneTestCase.&lt;/p&gt;

&lt;p&gt;I would prefer if we could supply a variable to ant (e.g. -Dtest.codec=) and LuceneTestCase&lt;span class=&quot;error&quot;&gt;&amp;#91;J4&amp;#93;&lt;/span&gt; would set the codec to this.&lt;br/&gt;
We could allow for a value of &quot;random&quot; here also to do what RIW does today.&lt;br/&gt;
I think this would make it easier to run the entire test suite with different codecs.&lt;/p&gt;

&lt;p&gt;Also, some tests testCases might not be suitable for all codecs, and so we need to add annotations or some way to special-case these tests.&lt;/p&gt;</comment>
                    <comment id="12892459" author="rcmuir" created="Mon, 26 Jul 2010 21:54:47 +0100"  >&lt;p&gt;here is a patch of the merge to trunk.&lt;/p&gt;

&lt;p&gt;All tests pass.&lt;/p&gt;</comment>
                    <comment id="12892484" author="rcmuir" created="Mon, 26 Jul 2010 22:36:41 +0100"  >&lt;p&gt;Committed revision 979453.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12450517" name="LUCENE-2554_merge.patch" size="214243" author="rcmuir" created="Mon, 26 Jul 2010 21:54:47 +0100" />
                    <attachment id="12450307" name="LUCENE-2554.patch" size="121133" author="mikemccand" created="Fri, 23 Jul 2010 14:06:35 +0100" />
                    <attachment id="12450249" name="LUCENE-2554.patch" size="118499" author="mikemccand" created="Fri, 23 Jul 2010 01:42:25 +0100" />
                    <attachment id="12450201" name="LUCENE-2554.patch" size="117508" author="mikemccand" created="Thu, 22 Jul 2010 20:25:51 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 22 Jul 2010 22:20:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11276</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25138</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>