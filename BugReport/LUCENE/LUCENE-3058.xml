<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:24 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3058/LUCENE-3058.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3058] FST should allow more than one output for the same input</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3058</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;For the block tree terms dict, it turns out I need this case.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12505851">LUCENE-3058</key>
            <summary>FST should allow more than one output for the same input</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Apr 2011 21:58:32 +0100</created>
                <updated>Fri, 10 May 2013 11:43:39 +0100</updated>
                    <resolved>Fri, 13 May 2011 22:29:13 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13027378" author="mikemccand" created="Sat, 30 Apr 2011 22:00:31 +0100"  >&lt;p&gt;Patch.&lt;/p&gt;

&lt;p&gt;It was a small change to Builder, to accept same input multiple times in a row.  I added an optional &quot;merge&quot; method to Outputs, and made a new UpToTwoIntOutputs class that handles one or two ints per input.&lt;/p&gt;</comment>
                    <comment id="13027386" author="mikemccand" created="Sat, 30 Apr 2011 23:08:29 +0100"  >&lt;p&gt;New patch; no change &amp;#8211; just more friendly for &quot;patch&quot; (looks like svn diff not hg diff).&lt;/p&gt;</comment>
                    <comment id="13028104" author="dweiss" created="Tue, 3 May 2011 09:17:33 +0100"  >&lt;p&gt;Looks good to me. One note: possible NPE here (&lt;del&gt;null passes all instanceofs&lt;/del&gt;):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    @Override
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; equals(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; _other) {
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (_other &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; TwoLongs) {
+        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; TwoLongs other = (TwoLongs) _other;
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; first == other.first &amp;amp;&amp;amp; second == other.second;
+      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
+      }
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13028105" author="thetaphi" created="Tue, 3 May 2011 09:23:55 +0100"  >&lt;blockquote&gt;&lt;p&gt;null passes all instanceofs&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Definitely NOT! &lt;a href=&quot;http://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof&quot; class=&quot;external-link&quot;&gt;http://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof&lt;/a&gt;&lt;/p&gt;</comment>
                    <comment id="13028108" author="dweiss" created="Tue, 3 May 2011 09:34:37 +0100"  >&lt;p&gt;Handslap! And this is why you should always refresh your memory before posting something that lasts for millenia... Crawling back to my cave right now.&lt;/p&gt;</comment>
                    <comment id="13028109" author="thetaphi" created="Tue, 3 May 2011 09:40:21 +0100"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; It always confuses me, too. But if you think more about it, it makes sense to return false. But it&apos;s the same always for me: Whenever I write equals() methods, this question pops up. But now I mostly copy code like the one above from other classes. But you have to note: The above equals() code is only 100% suitable for final classes, else it could happen that a subclass that extends some fields is equal. But thats more a theoretical discussion. E.g. Lucene&apos;s Queries always check this.getClass()==other.getClass().&lt;/p&gt;</comment>
                    <comment id="13033265" author="mikemccand" created="Fri, 13 May 2011 21:36:47 +0100"  >&lt;p&gt;Reopening &amp;#8211; this commit has generics violations in TestFSTs.&lt;/p&gt;</comment>
                    <comment id="13033272" author="mikemccand" created="Fri, 13 May 2011 21:42:21 +0100"  >&lt;p&gt;I think we should just suppress the warning?  &lt;/p&gt;</comment>
                    <comment id="13033309" author="thetaphi" created="Fri, 13 May 2011 22:23:44 +0100"  >&lt;p&gt;After reviewing, this seems the only solution. The cast is guarded by the instanceof check, but compiler does not know this.&lt;/p&gt;

&lt;p&gt;Only the (Object) cast in second param is not needed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@SuppressWarnings(&lt;span class=&quot;code-quote&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Builder&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; b = (Builder&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;) builder;
b.add(pair.input, _outputs.get(twoLongs.first));
b.add(pair.input, _outputs.get(twoLongs.second));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13033314" author="mikemccand" created="Fri, 13 May 2011 22:27:45 +0100"  >&lt;p&gt;OK thanks Uwe... I&apos;ll commit.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12479165" name="LUCENE-3058.patch" size="1155" author="mikemccand" created="Fri, 13 May 2011 21:42:21 +0100" />
                    <attachment id="12477886" name="LUCENE-3058.patch" size="13577" author="mikemccand" created="Sat, 30 Apr 2011 23:08:29 +0100" />
                    <attachment id="12477885" name="LUCENE-3058.patch" size="13683" author="mikemccand" created="Sat, 30 Apr 2011 22:00:31 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 3 May 2011 08:17:33 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10852</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24635</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>