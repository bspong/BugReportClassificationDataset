<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:22:02 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3289/LUCENE-3289.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3289] FST should allow controlling how hard builder tries to share suffixes</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3289</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Today we have a boolean option to the FST builder telling it whether&lt;br/&gt;
it should share suffixes.&lt;/p&gt;

&lt;p&gt;If you turn this off, building is much faster, uses much less RAM, and&lt;br/&gt;
the resulting FST is a prefix trie.  But, the FST is larger than it&lt;br/&gt;
needs to be.  When it&apos;s on, the builder maintains a node hash holding&lt;br/&gt;
every node seen so far in the FST &amp;#8211; this uses up RAM and slows things&lt;br/&gt;
down.&lt;/p&gt;

&lt;p&gt;On a dataset that Elmer (see java-user thread &quot;Autocompletion on large&lt;br/&gt;
index&quot; on Jul 6 2011) provided (thank you!), which is 1.32 M titles&lt;br/&gt;
avg 67.3 chars per title, building with suffix sharing on took 22.5&lt;br/&gt;
seconds, required 1.25 GB heap, and produced 91.6 MB FST.  With suffix&lt;br/&gt;
sharing off, it was 8.2 seconds, 450 MB heap and 129 MB FST.&lt;/p&gt;

&lt;p&gt;I think we should allow this boolean to be shade-of-gray instead:&lt;br/&gt;
usually, how well suffixes can share is a function of how far they are&lt;br/&gt;
from the end of the string, so, by adding a tunable N to only share&lt;br/&gt;
when suffix length &amp;lt; N, we can let caller make reasonable tradeoffs. &lt;/p&gt;</description>
                <environment></environment>
            <key id="12513121">LUCENE-3289</key>
            <summary>FST should allow controlling how hard builder tries to share suffixes</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 11:45:40 +0100</created>
                <updated>Sun, 27 Nov 2011 12:31:43 +0000</updated>
                    <resolved>Mon, 11 Jul 2011 20:50:07 +0100</resolved>
                                            <fixVersion>3.4</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>1</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="13061193" author="mikemccand" created="Thu, 7 Jul 2011 11:48:24 +0100"  >&lt;p&gt;Initial rough patch showing the idea.&lt;/p&gt;</comment>
                    <comment id="13061195" author="mikemccand" created="Thu, 7 Jul 2011 11:51:04 +0100"  >&lt;p&gt;NOTE: patch applies to 3.x.&lt;/p&gt;

&lt;p&gt;I ran the patch on the titles, varying the max prefix sharing length:&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Len&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;FST Size&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Seconds&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;135446807&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;137632702&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;135177994&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;132782016&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;130415331&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;128086200&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;125797396&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;123552157&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;121358375&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;119228942&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;117181180&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;12&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;115229788&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;113388260&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111664442&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;15&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;110059167&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;108572519&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;107201905&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;105942576&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;104791497&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;20&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;103745678&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;21&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;102801693&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;22&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;101957797&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;101206564&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;100541849&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;25&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;99956443&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;26&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;99443232&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;12.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;27&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;98995194&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;28&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;98604680&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;29&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;98264184&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;30&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;97969241&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;31&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;97714049&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;97494104&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;33&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;97304045&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;34&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;97140033&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;35&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96998942&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;36&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96877590&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;37&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96773039&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;38&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96682961&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;39&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96605160&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;40&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96537687&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;41&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96479286&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;42&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96428710&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;43&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96384659&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;44&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96346174&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;45&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96312826&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;46&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96283545&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;47&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96257708&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96235159&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;49&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96215220&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;50&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96197450&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;51&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96181539&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;52&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96167235&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;53&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96154490&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;54&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96143081&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;55&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96132905&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96123776&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;57&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96115462&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;20.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;58&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96108051&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;59&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96101249&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;19.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;60&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96095107&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;18.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ALL&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96020343&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;22.5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Very very odd that FST size first goes up at N=2... not yet sure why.  But from this curve it looks like there is a sweet spot around maybe N=24.  I didn&apos;t measure required heap here, but it also will go down as N goes down.&lt;/p&gt;</comment>
                    <comment id="13061444" author="mikemccand" created="Thu, 7 Jul 2011 18:10:59 +0100"  >&lt;p&gt;Patch, I think it&apos;s ready to commit!&lt;/p&gt;

&lt;p&gt;Separately we should think about how suggest module should set these... I left it at &quot;costly but perfect minimization&quot;.&lt;/p&gt;</comment>
                    <comment id="13061453" author="rcmuir" created="Thu, 7 Jul 2011 18:32:02 +0100"  >&lt;p&gt;I think thats probably good for most cases?&lt;/p&gt;

&lt;p&gt;In the example you gave, it seems that FST might not be the best algorithm? The strings are extremely long (more like short documents) and probably need to be &quot;compressed&quot; in some different datastructure, e.g. a word-based one?&lt;/p&gt;</comment>
                    <comment id="13061456" author="mikemccand" created="Thu, 7 Jul 2011 18:40:47 +0100"  >&lt;p&gt;Yeah I think &quot;costly but perfect minimization&quot; is the right default.&lt;/p&gt;</comment>
                    <comment id="13061512" author="dweiss" created="Thu, 7 Jul 2011 20:21:33 +0100"  >&lt;p&gt;Exactly. This is a very specific use case (long suggestions).&lt;/p&gt;</comment>
                    <comment id="13061804" author="eksdev" created="Fri, 8 Jul 2011 08:02:35 +0100"  >&lt;blockquote&gt;&lt;p&gt;The strings are extremely long (more like short documents) and probably need to be &quot;compressed&quot; in some different datastructure, e.g. a word-based one?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would be indeed cool, e.g. FST with words (ngrams?) as symbols. Ages ago we used one trie, for all unique terms to get prefix/edit distance on words and one word-trie (symbols were words via symbol table) for &quot;documents&quot;. I am sure this would cut memory requirements significantly for multiword cases when compared to char level FST.&lt;br/&gt;
e.g. TermDictionary that supports ord() could be used as a symbol table.&lt;/p&gt;



</comment>
                </comments>
                    <attachments>
                    <attachment id="12485623" name="LUCENE-3289.patch" size="17591" author="mikemccand" created="Thu, 7 Jul 2011 18:10:59 +0100" />
                    <attachment id="12485566" name="LUCENE-3289.patch" size="2626" author="mikemccand" created="Thu, 7 Jul 2011 11:48:24 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 7 Jul 2011 17:32:02 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2771</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24407</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>