<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:03:39 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2500/LUCENE-2500.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2500] A Linux-specific Directory impl that bypasses the buffer cache</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2500</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I&apos;ve been testing how we could prevent Lucene&apos;s merges from evicting&lt;br/&gt;
pages from the OS&apos;s buffer cache.  I tried fadvise/madvise (via JNI)&lt;br/&gt;
but (frustratingly), I could not get them to work (details at&lt;br/&gt;
&lt;a href=&quot;http://chbits.blogspot.com/2010/06/lucene-and-fadvisemadvise.html&quot; class=&quot;external-link&quot;&gt;http://chbits.blogspot.com/2010/06/lucene-and-fadvisemadvise.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The only thing that worked was to use Linux&apos;s O_DIRECT flag, which&lt;br/&gt;
forces all IO to bypass the buffer cache entirely... so I created a&lt;br/&gt;
Linux-specific Directory impl to do this.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12466995">LUCENE-2500</key>
            <summary>A Linux-specific Directory impl that bypasses the buffer cache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jun 2010 14:14:46 +0100</created>
                <updated>Wed, 30 Mar 2011 16:50:19 +0100</updated>
                    <resolved>Thu, 24 Jun 2010 13:18:22 +0100</resolved>
                                            <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/other</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12878968" author="mikemccand" created="Tue, 15 Jun 2010 14:18:21 +0100"  >&lt;p&gt;Attached patch, with new Directory impl DirectIOLinuxDirectory.&lt;/p&gt;</comment>
                    <comment id="12882152" author="mikemccand" created="Thu, 24 Jun 2010 14:33:50 +0100"  >&lt;p&gt;Uwe found this nice ant plugin: &lt;a href=&quot;http://ant-contrib.sourceforge.net/cpptasks/index.html&quot; class=&quot;external-link&quot;&gt;http://ant-contrib.sourceforge.net/cpptasks/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It would allow us to &lt;span class=&quot;error&quot;&gt;&amp;#91;optionally&amp;#93;&lt;/span&gt; build the dynamic lib (JNI extension) from ant.&lt;/p&gt;

&lt;p&gt;But I&apos;m not going to have any time any time soon to try it... and I&apos;m not good with The Ant.&lt;/p&gt;</comment>
                    <comment id="12972855" author="jasonrutherglen" created="Sat, 18 Dec 2010 19:06:35 +0000"  >&lt;p&gt;DirectIOLinuxDirectory is in trunk and works?  Are we using it with segment merging yet?  Perhaps a separate Jira issue?&lt;/p&gt;</comment>
                    <comment id="12973055" author="mikemccand" created="Sun, 19 Dec 2010 23:05:35 +0000"  >&lt;p&gt;It does work, but, it&apos;s not &quot;general purpose&quot;, ie it&apos;s up to the app to only use it for indexing and not searching.&lt;/p&gt;

&lt;p&gt;With IOContext we should be able to make it general purpose, ie whether to use direct IO or not can be determined by looking at the context.&lt;/p&gt;</comment>
                    <comment id="12979588" author="ck@newsclub.de" created="Mon, 10 Jan 2011 14:23:24 +0000"  >&lt;p&gt;I guess it would not be difficult to add Mac OS X support (via F_NOCACHE)?&lt;/p&gt;

&lt;p&gt;see &lt;a href=&quot;http://evanjones.ca/write-latency-alignment.html&quot; class=&quot;external-link&quot;&gt;http://evanjones.ca/write-latency-alignment.html&lt;/a&gt;&lt;/p&gt;</comment>
                    <comment id="12979718" author="mikemccand" created="Mon, 10 Jan 2011 19:57:50 +0000"  >&lt;p&gt;Nice!&lt;/p&gt;

&lt;p&gt;Actually I&apos;d like to generalize this Dir impl to be a UnixFSDirectory (adding ifdefs to handle the flags for the various flavors), and, fix it, once we have IOContext, to properly decide when to use direct IO and when not to.  This way it&apos;s safe to just use on any Unix platform... (see &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2795&quot; title=&quot;Genericize DirectIOLinuxDir -&amp;gt; UnixDir&quot;&gt;&lt;del&gt;LUCENE-2795&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                    <comment id="13013439" author="gsingers" created="Wed, 30 Mar 2011 16:50:19 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12447131" name="LUCENE-2500.patch" size="26052" author="mikemccand" created="Tue, 15 Jun 2010 14:18:21 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 18 Dec 2010 19:06:35 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11323</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25192</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>