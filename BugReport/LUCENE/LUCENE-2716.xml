<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:08:20 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2716/LUCENE-2716.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2716] Improve automaton&apos;s MinimizeOperations.minimizeHopcroft() to not create so many objects</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2716</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;MinimizeOperations.minimizeHopcroft() creates a lot of objects because of strange arrays and useless ArrayLists with fixed length. E.g. it created List&amp;lt;List&amp;lt;List&amp;lt;&amp;gt;&amp;gt;&amp;gt;. This patch minimizes this and makes the whole method much more GC friendler by using simple arrays or avoiding empty LinkedLists at all (inside reverse array). &lt;/p&gt;

&lt;p&gt;minimize() is called very very often, especially in tests (MockAnalyzer).&lt;/p&gt;

&lt;p&gt;A test for the method is prepared by Robert, we found a bug somewhere else in automaton, so this is pending until his issue and fix arrives.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12478010">LUCENE-2716</key>
            <summary>Improve automaton&apos;s MinimizeOperations.minimizeHopcroft() to not create so many objects</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 19:03:35 +0100</created>
                <updated>Fri, 10 May 2013 11:43:08 +0100</updated>
                    <resolved>Fri, 22 Oct 2010 02:19:34 +0100</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12923550" author="thetaphi" created="Thu, 21 Oct 2010 19:07:19 +0100"  >&lt;p&gt;It still creates lots of objects depending on the size and states of the automaton, but a lot less!&lt;br/&gt;
If I will look several times over it, I may find more improvements. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The Hopcroft-Policeman&lt;/p&gt;</comment>
                    <comment id="12923552" author="rcmuir" created="Thu, 21 Oct 2010 19:10:32 +0100"  >&lt;p&gt;This thing will make your head explode, thanks for cleaning it up!&lt;/p&gt;</comment>
                    <comment id="12923572" author="rcmuir" created="Thu, 21 Oct 2010 20:09:15 +0100"  >&lt;p&gt;Ok, I fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2717&quot; title=&quot;BasicOperations.concatenate creates invariants&quot;&gt;&lt;del&gt;LUCENE-2717&lt;/del&gt;&lt;/a&gt; in revision 1026104.&lt;/p&gt;

&lt;p&gt;In that issue, I added a basic random test for minimize(), maybe we can improve it, but&lt;br/&gt;
it should be pretty good at finding any bugs.&lt;/p&gt;

&lt;p&gt;(it doesnt find any bugs with this patch)&lt;/p&gt;</comment>
                    <comment id="12923673" author="thetaphi" created="Thu, 21 Oct 2010 23:31:27 +0100"  >&lt;p&gt;Final patch, will commit now.&lt;/p&gt;</comment>
                    <comment id="12923674" author="thetaphi" created="Thu, 21 Oct 2010 23:32:50 +0100"  >&lt;p&gt;Committed revision: 1026168&lt;/p&gt;</comment>
                    <comment id="12923710" author="thetaphi" created="Fri, 22 Oct 2010 01:32:42 +0100"  >&lt;p&gt;More stuff to optimize, no longer LinkedLists and ArrayLists &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Hopcroft Policeman is back!&lt;/p&gt;</comment>
                    <comment id="12923724" author="thetaphi" created="Fri, 22 Oct 2010 02:02:28 +0100"  >&lt;p&gt;Same patch with OpenBitSet for comparison&lt;/p&gt;</comment>
                    <comment id="12923730" author="thetaphi" created="Fri, 22 Oct 2010 02:19:34 +0100"  >&lt;p&gt;Commit standard BitSet variant in revision: 1026190&lt;br/&gt;
(OpenBitSet is 64bit and set/get of single bits is ineffective on 32bit machines, no need for bulk transformations)&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310050">
                <name>Regression</name>
                                <outwardlinks description="breaks">
                            <issuelink>
            <issuekey id="12507264">LUCENE-3101</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                <outwardlinks description="depends upon">
                            <issuelink>
            <issuekey id="12478013">LUCENE-2717</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12457808" name="LUCENE-2716-2(OpenBitSet).patch" size="7897" author="thetaphi" created="Fri, 22 Oct 2010 02:02:28 +0100" />
                    <attachment id="12457806" name="LUCENE-2716-2.patch" size="7663" author="thetaphi" created="Fri, 22 Oct 2010 01:33:12 +0100" />
                    <attachment id="12457797" name="LUCENE-2716.patch" size="9523" author="thetaphi" created="Thu, 21 Oct 2010 23:31:27 +0100" />
                    <attachment id="12457768" name="LUCENE-2716.patch" size="8488" author="thetaphi" created="Thu, 21 Oct 2010 19:04:39 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 21 Oct 2010 18:10:32 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11131</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24976</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>