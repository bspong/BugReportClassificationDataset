<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:22:51 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2592/LUCENE-2592.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2592] Add static readSnapshotsInfo to PersistentSnapshotDeletionPolicy</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2592</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;PSDP persists the snapshots information in a Directory. When you open PSDP, it obtains a write lock on the snapshots dir (by keeping an open IndexWriter), and updates the directory when snapshots are created/released.&lt;/p&gt;

&lt;p&gt;This causes problem in the following scenario &amp;#8211; you have two processes, one updates the &apos;content&apos; index and keeps PSDP open (because it also takes snapshots). Another process wants to read the existing snapshots information and open a read-only IndexReader on the &apos;content&apos; index. The other process cannot read the existing snapshots information, because p1 keeps a write lock on the snapshots directory.&lt;/p&gt;

&lt;p&gt;There are two possible solutions:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Have PSDP open the IndexWriter over the directory for each snapshot/release. A bit expensive, and unnecessary.&lt;/li&gt;
	&lt;li&gt;Introduce a static readSnapshotsInfo on PSDP which accepts a Directory and returns the snapshots information. IMO it&apos;s cleaner, and won&apos;t have the performance overhead of opening/closing the IW as before.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;ll post a patch (implementing the 2nd approach) shortly. I&apos;d appreciate any comments.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12471180">LUCENE-2592</key>
            <summary>Add static readSnapshotsInfo to PersistentSnapshotDeletionPolicy</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="shaie">Shai Erera</assignee>
                                <reporter username="shaie">Shai Erera</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Aug 2010 11:32:50 +0100</created>
                <updated>Wed, 30 Mar 2011 16:50:27 +0100</updated>
                    <resolved>Sat, 21 Aug 2010 20:19:41 +0100</resolved>
                                            <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12896842" author="shaie" created="Tue, 10 Aug 2010 11:36:39 +0100"  >&lt;p&gt;Patch adds readSnapshotsInfo as well as a test case.&lt;/p&gt;</comment>
                    <comment id="12901081" author="shaie" created="Sat, 21 Aug 2010 20:19:41 +0100"  >&lt;p&gt;Committed revision 987811 (3x).&lt;br/&gt;
Committed revision 987814 (trunk).&lt;/p&gt;</comment>
                    <comment id="13013483" author="gsingers" created="Wed, 30 Mar 2011 16:50:27 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12451663" name="LUCENE-2592.patch" size="5305" author="shaie" created="Tue, 10 Aug 2010 11:36:39 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 30 Mar 2011 15:50:27 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11242</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25100</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>