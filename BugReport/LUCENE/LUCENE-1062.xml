<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:28:12 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1062/LUCENE-1062.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1062] Improved Payloads API</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1062</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;We want to make some optimizations to the Payloads API.&lt;/p&gt;

&lt;p&gt;See following thread for related discussions:&lt;br/&gt;
&lt;a href=&quot;http://www.gossamer-threads.com/lists/lucene/java-dev/54708&quot; class=&quot;external-link&quot;&gt;http://www.gossamer-threads.com/lists/lucene/java-dev/54708&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12382834">LUCENE-1062</key>
            <summary>Improved Payloads API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="michaelbusch">Michael Busch</assignee>
                                <reporter username="michaelbusch">Michael Busch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Nov 2007 00:55:36 +0000</created>
                <updated>Sun, 10 Oct 2010 23:17:20 +0100</updated>
                    <resolved>Fri, 23 Nov 2007 21:18:19 +0000</resolved>
                                            <fixVersion>2.3</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12544095" author="michaelbusch" created="Tue, 20 Nov 2007 22:10:15 +0000"  >&lt;p&gt;We want to add the following methods to Payload:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setPayload(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] data);
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setPayload(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] data, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; offset, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length);
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] getPayload();
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getPayloadOffset();

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; clone();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also Payload should implement Cloneable.&lt;/p&gt;


&lt;p&gt;Furthermore, we want to add a fieldName arg to Similarity.scorePayload().&lt;/p&gt;

&lt;p&gt;I think we can also remove the &quot;experimental&quot; warnings from the Payload&lt;br/&gt;
APIs now?&lt;/p&gt;</comment>
                    <comment id="12544715" author="michaelbusch" created="Thu, 22 Nov 2007 07:26:19 +0000"  >&lt;p&gt;Patch that contains all changes mentioned above.&lt;/p&gt;</comment>
                    <comment id="12544720" author="michaelbusch" created="Thu, 22 Nov 2007 07:46:49 +0000"  >&lt;p&gt;In case a filter wants to remove a Payload from a Token,&lt;br/&gt;
shall we offer a method like clearPayload(), or is &lt;br/&gt;
setPayload(null) good enough?&lt;/p&gt;</comment>
                    <comment id="12545061" author="yseeley@gmail.com" created="Fri, 23 Nov 2007 15:44:52 +0000"  >&lt;p&gt;setPayload(null) seems fine to remove a payload.&lt;/p&gt;</comment>
                    <comment id="12545071" author="doronc" created="Fri, 23 Nov 2007 16:07:25 +0000"  >&lt;p&gt;I find Payload.getPayload() a bit confusing - how about renaming Payload methods from:&lt;br/&gt;
       setPayload(byte[] data),  setPayload(byte data[], int offset, int length),   getPayload()&lt;br/&gt;
to:&lt;br/&gt;
       setData(byte[] data),  setData(byte data[], int offset, int length),   getData()&lt;/p&gt;</comment>
                    <comment id="12545123" author="michaelbusch" created="Fri, 23 Nov 2007 20:43:44 +0000"  >&lt;p&gt;I agree, Doron. You proposed method names are better.&lt;/p&gt;

&lt;p&gt;OK, I changed the method names in this patch and also&lt;br/&gt;
made the no-arg constructor of Payload public.&lt;/p&gt;

&lt;p&gt;All tests pass. I&apos;m planning to commit this soon.&lt;/p&gt;</comment>
                    <comment id="12545126" author="mikemccand" created="Fri, 23 Nov 2007 20:56:41 +0000"  >&lt;p&gt;Patch looks good!&lt;/p&gt;

&lt;p&gt;Maybe note in the javadoc for Payload ctor &amp;amp; setData&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; that a&lt;br/&gt;
reference is held to the provided array (no copy is made)?&lt;/p&gt;</comment>
                    <comment id="12545129" author="michaelbusch" created="Fri, 23 Nov 2007 21:00:44 +0000"  >&lt;p&gt;Thanks for reviewing! OK, I&apos;ll add that to the javadocs&lt;br/&gt;
and commit it then.&lt;/p&gt;</comment>
                    <comment id="12545131" author="michaelbusch" created="Fri, 23 Nov 2007 21:18:19 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12370134" name="lucene-1062.patch" size="13373" author="michaelbusch" created="Fri, 23 Nov 2007 20:43:44 +0000" />
                    <attachment id="12370050" name="lucene-1062.patch" size="10679" author="michaelbusch" created="Thu, 22 Nov 2007 07:26:19 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 23 Nov 2007 15:44:52 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12683</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26667</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>