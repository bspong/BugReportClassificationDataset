<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:35:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2839/LUCENE-2839.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2839] Visibility of Scorer.score(Collector, int, int) is wrong</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2839</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The method for scoring subsets in Scorer has wrong visibility, its marked protected, but protected methods should not be called from other classes. Protected methods are intended for methods that should be overridden by subclasses and are called by (often) final methods of the same class. They should never be called from foreign classes.&lt;/p&gt;

&lt;p&gt;This method is called from another class out-of-scope: BooleanScorer(2) - so it must be public, but it&apos;s protected. This does not lead to a compiler error because BS(2) is in same package, but may lead to problems if subclasses from other packages override it. When implementing &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2838&quot; title=&quot;ConstantScoreQuery should directly support wrapping Query and simply strip off scores&quot;&gt;&lt;del&gt;LUCENE-2838&lt;/del&gt;&lt;/a&gt; I hit a trap, as I thought tis method should only be called from the class or Scorer itsself, but in fact its called from outside, leading to bugs, because I had not overridden it. As ConstantScorer did not use it I have overridden it with throw UOE and suddenly BooleanQuery was broken, which made it clear that it&apos;s called from outside (which is not the intention of protected methods).&lt;/p&gt;

&lt;p&gt;We cannot fix this in 3.x, as it would break backwards for classes that overwrite this method, but we can fix visibility in trunk.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12494210">LUCENE-2839</key>
            <summary>Visibility of Scorer.score(Collector, int, int) is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Dec 2010 22:41:58 +0000</created>
                <updated>Fri, 10 May 2013 11:43:32 +0100</updated>
                    <resolved>Sun, 9 Jan 2011 19:50:39 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12977409" author="mikemccand" created="Tue, 4 Jan 2011 18:50:39 +0000"  >&lt;p&gt;+1 let&apos;s fix this in 4.0...&lt;/p&gt;</comment>
                    <comment id="12979397" author="thetaphi" created="Sun, 9 Jan 2011 19:44:24 +0000"  >&lt;p&gt;Here the patch for trunk and 3.x, will commit soon. In 3.x I simply added a note to Scorer&apos;s javadocs, that tells the user, that subclasses in user&apos;s code should declare the method as public to ease transition to 4.0.&lt;/p&gt;</comment>
                    <comment id="12979398" author="thetaphi" created="Sun, 9 Jan 2011 19:50:39 +0000"  >&lt;p&gt;Committed trunk revision: 1057010,&lt;br/&gt;
Committed javadoc updates revision: 1057011&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12494206">LUCENE-2838</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12467848" name="LUCENE-2839-3.x.patch" size="990" author="thetaphi" created="Sun, 9 Jan 2011 19:44:24 +0000" />
                    <attachment id="12467847" name="LUCENE-2839.patch" size="6151" author="thetaphi" created="Sun, 9 Jan 2011 19:44:24 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 4 Jan 2011 18:50:39 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11022</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24853</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>