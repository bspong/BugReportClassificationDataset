<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:10:35 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1094/LUCENE-1094.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1094] Exception in DocumentsWriter.addDocument can corrupt stored fields file (fdt)</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1094</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;DocumentsWriter writes the number of stored fields, up front, into the&lt;br/&gt;
fdtLocal buffer.  Then, as each field is processed, it writes each&lt;br/&gt;
stored field into this buffer.  When the document is done, in a&lt;br/&gt;
finally clause, it flushes the buffer to the real fdt file in the&lt;br/&gt;
Directory.&lt;/p&gt;

&lt;p&gt;The problem is, if an exception is hit, that number of stored fields&lt;br/&gt;
can be too high, which corrupts the fdt file.&lt;/p&gt;

&lt;p&gt;The solution is to not write it up front, and instead write only the&lt;br/&gt;
number of fields we actually saw.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12384901">LUCENE-1094</key>
            <summary>Exception in DocumentsWriter.addDocument can corrupt stored fields file (fdt)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2007 19:56:40 +0000</created>
                <updated>Fri, 25 Jan 2008 03:24:14 +0000</updated>
                    <resolved>Thu, 20 Dec 2007 13:08:02 +0000</resolved>
                            <version>2.3</version>
                                <fixVersion>2.3</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12552877" author="mikemccand" created="Tue, 18 Dec 2007 20:09:30 +0000"  >&lt;p&gt;Attached patch.  I plan to commit in a day or two.&lt;/p&gt;

&lt;p&gt;I added a test case showing the issue &amp;amp; confirming the fix.&lt;/p&gt;

&lt;p&gt;I also made a small improvement to the bulk-copy stored fields during&lt;br/&gt;
merge optimization: the segment to be merged does not have to have&lt;br/&gt;
identical fieldName -&amp;gt; number mappings as the merged segment.&lt;br/&gt;
Instead, it just has to be a subset, ie, the fieldName -&amp;gt; number&lt;br/&gt;
mapping for all fieldNames in the segment to be merged must match.&lt;br/&gt;
It&apos;s OK when the merged segments has additional fields beyond this.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12371895" name="LUCENE-1094.patch" size="14701" author="mikemccand" created="Tue, 18 Dec 2007 20:09:30 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12651</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26635</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>