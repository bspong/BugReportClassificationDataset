<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:50 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1469/LUCENE-1469.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1469] isValid should be invoked after analyze rather than before it so it can validate the output of analyze</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1469</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The Synonym map has a protected method String analyze(String word) designed for custom stemming.&lt;/p&gt;

&lt;p&gt;However, before analyze is invoked on a word, boolean isValid(String str) is used to validate the word - which causes the program to discard words that maybe useable by the custom analyze method. &lt;/p&gt;

&lt;p&gt;I think that isValid should be invoked after analyze rather than before it so it can validate the output of analyze and allow implemters to decide what is valid for the overridden analyze method. (In fact, if you look at code snippet below, isValid should really go after the empty string check)&lt;/p&gt;

&lt;p&gt;This is a two line change in org.apache.lucene.index.memory.SynonymMap&lt;/p&gt;

&lt;p&gt;      /*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Part B: ignore phrases (with spaces and hyphens) and&lt;/li&gt;
	&lt;li&gt;non-alphabetic words, and let user customize word (e.g. do some&lt;/li&gt;
	&lt;li&gt;stemming)&lt;br/&gt;
       */&lt;br/&gt;
      if (!isValid(word)) continue; // ignore&lt;br/&gt;
      word = analyze(word);&lt;br/&gt;
      if (word == null || word.length() == 0) continue; // ignore&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
            <key id="12409160">LUCENE-1469</key>
            <summary>isValid should be invoked after analyze rather than before it so it can validate the output of analyze</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="vcl00e">Vincent Li</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Nov 2008 23:38:50 +0000</created>
                <updated>Wed, 30 Mar 2011 16:49:57 +0100</updated>
                    <resolved>Thu, 27 Jan 2011 10:28:43 +0000</resolved>
                            <version>2.4</version>
                                <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/other</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                    <timeestimate seconds="300">5m</timeestimate>
                                  <comments>
                    <comment id="12650390" author="vcl00e" created="Mon, 24 Nov 2008 23:47:04 +0000"  >&lt;p&gt;On second thought - it might be a better idea to change isValid to a protected method so that it can be overridden as needed.&lt;/p&gt;</comment>
                    <comment id="12653285" author="markrmiller@gmail.com" created="Thu, 4 Dec 2008 12:44:02 +0000"  >&lt;p&gt;This makes sense to me. Care to submit a patch?&lt;/p&gt;</comment>
                    <comment id="12675180" author="vcl00e" created="Thu, 19 Feb 2009 23:51:54 +0000"  >&lt;p&gt;Hi Mark, sorry for the late response, I&apos;ve been away for awhile. Would glady submit one. Can you point me to some info on how to submit a patch?&lt;/p&gt;</comment>
                    <comment id="12987482" author="shaie" created="Thu, 27 Jan 2011 10:28:42 +0000"  >&lt;p&gt;Assuming that all that was requested here is change isValid to protected, then that&apos;s what I did - made it protected and not static, so it can be overridden.&lt;/p&gt;

&lt;p&gt;Committed revision 1064069 (3x).&lt;br/&gt;
Committed revision 1064072 (trunk).&lt;/p&gt;

&lt;p&gt;Thanks Vincent !&lt;/p&gt;</comment>
                    <comment id="13013315" author="gsingers" created="Wed, 30 Mar 2011 16:49:57 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 4 Dec 2008 12:44:02 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12282</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26258</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>