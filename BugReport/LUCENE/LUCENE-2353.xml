<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:00:09 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2353/LUCENE-2353.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2353] Config incorrectly handles Windows absolute pathnames</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2353</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I have no idea how no one ran into this so far, but I tried to execute an .alg file which used ReutersContentSource and referenced both docs.dir and work.dir as Windows absolute pathnames (e.g. d:\something). Surprisingly, the run reported an error of missing content under benchmark\work\something.&lt;/p&gt;

&lt;p&gt;I&apos;ve traced the problem back to Config, where get(String, String) includes the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sval.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;) &amp;lt; 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sval;
    }
    &lt;span class=&quot;code-comment&quot;&gt;// first time &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; prop is extracted by round
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k = sval.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; colName = sval.substring(0, k);
    sval = sval.substring(k + 1);
    ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It detects &quot;:&quot; in the value and so it thinks it&apos;s a per-round property, thus stripping &quot;d:&quot; from the value ... fix is very simple:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sval.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;) &amp;lt; 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sval;
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sval.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;:\\&quot;&lt;/span&gt;) &amp;gt;= 0) {
      &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; previously messed up absolute path names on Windows. Assuming
&lt;/span&gt;      &lt;span class=&quot;code-comment&quot;&gt;// there is no real value that starts with \\
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sval;
    }
    &lt;span class=&quot;code-comment&quot;&gt;// first time &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; prop is extracted by round
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k = sval.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; colName = sval.substring(0, k);
    sval = sval.substring(k + 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll post a patch w/ the above fix + test shortly.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12460451">LUCENE-2353</key>
            <summary>Config incorrectly handles Windows absolute pathnames</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="shaie">Shai Erera</assignee>
                                <reporter username="shaie">Shai Erera</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Mar 2010 21:40:32 +0000</created>
                <updated>Fri, 10 May 2013 11:44:38 +0100</updated>
                    <resolved>Wed, 31 Mar 2010 14:07:03 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/benchmark</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12850585" author="shaie" created="Sat, 27 Mar 2010 22:03:31 +0000"  >&lt;p&gt;The fix is only relevant to get(String, String) and not to all other get(String, &amp;lt;type&amp;gt;) variants.&lt;/p&gt;

&lt;p&gt;Benchmark test passed but after I svn up (to include the latest parallel test thing) the test just sits idle (after finishing), waiting for something. If I run the tests in eclipse they pass. So I&apos;m guessing it&apos;s a problem w/ my env. or build.xml?&lt;/p&gt;

&lt;p&gt;I also tried &apos;ant clean test&apos; from within benchmark, but it didn&apos;t help. I then tried &apos;ant clean&apos; from root, and &apos;ant test&apos; from benchmark, but the test just keeps waiting on WriteLineDocTaskTest, on this line:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; ------------&amp;gt; config properties:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; directory = RAMDirectory&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; doc.maker = org.apache.lucene.benchmark.byTask.tasks.WriteLineDocTaskTest$JustDateDocMaker&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; line.file.out = D:\dev\lucene\lucene-trunk\build\contrib\benchmark\test\W\one-line&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; -------------------------------&lt;/p&gt;

&lt;p&gt;I think this can go in (if it passes on someone else&apos;s machine, while I figure out what&apos;s wrong in my env. separately.&lt;/p&gt;</comment>
                    <comment id="12850644" author="shaie" created="Sun, 28 Mar 2010 07:54:44 +0100"  >&lt;p&gt;I don&apos;t have an account yet, so I cannot commit this on my own. Any volunteers?&lt;/p&gt;</comment>
                    <comment id="12851258" author="shaie" created="Tue, 30 Mar 2010 06:19:35 +0100"  >&lt;p&gt;Updated to also match &apos;c:/temp&apos; like paths, which are also accepted on Windows&lt;/p&gt;</comment>
                    <comment id="12851836" author="shaie" created="Wed, 31 Mar 2010 13:18:42 +0100"  >&lt;p&gt;Unless there are objections, I plan to commit this shortly&lt;/p&gt;</comment>
                    <comment id="12851852" author="shaie" created="Wed, 31 Mar 2010 14:07:03 +0100"  >&lt;p&gt;Committed revision 929520.&lt;/p&gt;</comment>
                    <comment id="12854566" author="tburtonwest" created="Wed, 7 Apr 2010 16:57:22 +0100"  >&lt;p&gt;Shai,&lt;/p&gt;

&lt;p&gt;I am having the same issue with the test hanging on my Windows box with both Revision 931573 and Revision   931304 when running the tests from root.&lt;/p&gt;

&lt;p&gt;Tests hang in WriteLineDocTaskTest, on this line:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; ------------&amp;gt; config properties:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; directory = RAMDirectory&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; doc.maker = org.apache.lucene.benchmark.byTask.tasks.WriteLineDocTaskTest$JustDateDocMaker&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; line.file.out = D:\dev\lucene\lucene-trunk\build\contrib\benchmark\test\W\one-line&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; -------------------------------&lt;/p&gt;

&lt;p&gt;Should I open a separate JIRA issue about the test?&lt;/p&gt;

&lt;p&gt;Tom Burton-West&lt;/p&gt;</comment>
                    <comment id="12854588" author="shaie" created="Wed, 7 Apr 2010 17:39:39 +0100"  >&lt;p&gt;Actually, we&apos;ve reopened &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1709&quot; title=&quot;Parallelize Tests&quot;&gt;&lt;del&gt;LUCENE-1709&lt;/del&gt;&lt;/a&gt; to track that. This is not related to this issue&apos;s changes, but seems to be related to benchmark test in specifically. Please have a look there at a patch I&apos;ve posted which forces benchmark tests to run in sequential mode. Additionally, you can &apos;ant test -Drunsequential=1&apos; from the command line, benchmark&apos;s root folder, to achieve the same.&lt;br/&gt;
And it&apos;d be great if you post the above on &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1709&quot; title=&quot;Parallelize Tests&quot;&gt;&lt;del&gt;LUCENE-1709&lt;/del&gt;&lt;/a&gt; as well &amp;#8211; because now I know I&apos;m not the only one running into this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12440179" name="LUCENE-2353.patch" size="3430" author="shaie" created="Tue, 30 Mar 2010 06:19:35 +0100" />
                    <attachment id="12439987" name="LUCENE-2353.patch" size="3292" author="shaie" created="Sat, 27 Mar 2010 22:03:30 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 7 Apr 2010 15:57:22 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11443</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25337</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>