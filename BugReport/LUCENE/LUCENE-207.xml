<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:57:53 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-207/LUCENE-207.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-207] [PATCH] npe if java.io.tmpdir does not exist</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-207</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In org.apache.lucene.store.FSDirectory from Lucene-1.3-final, on line 170-171:&lt;/p&gt;

&lt;p&gt;File tmpdir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));&lt;br/&gt;
files = tmpdir.list();&lt;/p&gt;

&lt;p&gt;if the directory specified by the property &quot;java.io.tmpdir&quot; does not exist, a&lt;br/&gt;
null pointer exception is thrown.  Perhaps a check to see if the directory&lt;br/&gt;
exists is in order, and if it doesn&apos;t, use a directory you know exists (e.g. a&lt;br/&gt;
/temp directory in the directory created earlier in the create() method).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
            <key id="12314357">LUCENE-207</key>
            <summary>[PATCH] npe if java.io.tmpdir does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="java-dev@lucene.apache.org">Lucene Developers</assignee>
                                <reporter username="chris.todd@comcast.net">Chris Todd</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Mar 2004 13:31:24 +0100</created>
                <updated>Thu, 2 Jun 2011 23:04:53 +0100</updated>
                    <resolved>Sat, 27 May 2006 02:37:42 +0100</resolved>
                                                            <component>core/store</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12321660" author="grant_ingersoll@yahoo.com" created="Tue, 18 May 2004 21:06:06 +0100"  >&lt;p&gt;Created an attachment (id=11590)&lt;br/&gt;
Create the temp dir if it doesn&apos;t exist&lt;/p&gt;</comment>
                    <comment id="12321661" author="grant_ingersoll@yahoo.com" created="Tue, 18 May 2004 21:06:56 +0100"  >&lt;p&gt;Creates the temp dir if it doesn&apos;t exist.  If it can&apos;t create the directory, &lt;br/&gt;
it throws an IOException.&lt;/p&gt;</comment>
                    <comment id="12321662" author="otis@apache.org" created="Tue, 18 May 2004 21:43:55 +0100"  >&lt;p&gt;Thanks, in CVS.&lt;/p&gt;</comment>
                    <comment id="12321663" author="eisakson" created="Tue, 18 May 2004 22:27:50 +0100"  >&lt;p&gt;Shouldn&apos;t we be honoring java.io.tmpdir even if it happens to be non-absolute?&lt;/p&gt;

&lt;p&gt;Perhaps this should be fixed by removing the &quot;.&quot; from the LOCK_DIR &lt;br/&gt;
initialization then if LOCK_DIR is null, set lockDir in the constructor to &lt;br/&gt;
directory and only do the lockDir.mkdirs during makeLock in the Lock.obtain &lt;br/&gt;
method?&lt;/p&gt;

&lt;p&gt;I can supply a patch if you want one. Also, in your patch for this, you changed &lt;br/&gt;
a message in FSDirectory.create to include the word &quot;lock&quot; but it should just &lt;br/&gt;
be &quot;Cannot create directory&quot; in that case since we aren&apos;t creating the lock &lt;br/&gt;
directory there, we are creating the index directory.&lt;/p&gt;</comment>
                    <comment id="12321664" author="cutting@apache.org" created="Wed, 19 May 2004 00:27:51 +0100"  >&lt;p&gt;I think if java.io.tmpdir is relative, then we should probably use something&lt;br/&gt;
relative to the PWD of the JVM.&lt;/p&gt;

&lt;p&gt;If org.apache.lucene.lockdir is relative, then should it be relative to the PWD&lt;br/&gt;
or to the index directory?  For consistency with java.io.tmpdir, perhaps this&lt;br/&gt;
should also be relative to PWD.&lt;/p&gt;

&lt;p&gt;But, when both are null, then the lock directory should be the index directory.&lt;br/&gt;
 Right now we&apos;re attempting to handle this case by using a relative pathname of&lt;br/&gt;
&quot;.&quot;, but perhaps we should handle it more explicitly.  Perhaps we should, when&lt;br/&gt;
LOCK_DIR is null, explicitly use the index directory as the lock dir.&lt;/p&gt;

&lt;p&gt;Does that sound right?&lt;/p&gt;</comment>
                    <comment id="12321665" author="eisakson" created="Wed, 19 May 2004 02:44:24 +0100"  >&lt;p&gt;Created an attachment (id=11592)&lt;br/&gt;
new fix that removes the isAbsolute checking&lt;/p&gt;</comment>
                    <comment id="12321666" author="eisakson" created="Wed, 19 May 2004 02:46:31 +0100"  >&lt;p&gt;I added an attachment that uses the directory explicitly if the system &lt;br/&gt;
properties are null and if the LOCK_DIR is relative, the lockDir will be based &lt;br/&gt;
on the PWD.&lt;/p&gt;</comment>
                    <comment id="12321667" author="otis@apache.org" created="Wed, 19 May 2004 23:46:37 +0100"  >&lt;p&gt;Looks good.&lt;br/&gt;
Either the specified dir is used (or temp), or if they are both null we use the&lt;br/&gt;
index dir, and the relative vs. absolute discussion is discarded, ja?&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12312335" name="ASF.LICENSE.NOT.GRANTED--FSDirectory.patch.diff" size="2154" author="eisakson" created="Wed, 19 May 2004 02:44:24 +0100" />
                    <attachment id="12312334" name="ASF.LICENSE.NOT.GRANTED--tempDir.patch" size="770" author="grant_ingersoll@yahoo.com" created="Tue, 18 May 2004 21:06:06 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>28074</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 18 May 2004 20:06:06 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13543</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27524</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>