<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:57:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-929/LUCENE-929.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-929] contrib/benchmark build doesn&apos;t handle checking if content is properly extracted</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-929</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The contrib/benchmark build does not properly handle checking to see if the content (such as Reuters coll.) is properly extracted.  It only checks to see if the directory exists.  Thus, it is possible that the directory gets created and the extraction fails.  Then, the next time it is run, it skips the extraction part and tries to continue on running the benchmark.&lt;/p&gt;

&lt;p&gt;The workaround is to manually delete the extraction directory.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12371244">LUCENE-929</key>
            <summary>contrib/benchmark build doesn&apos;t handle checking if content is properly extracted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jun 2007 13:26:10 +0100</created>
                <updated>Sun, 27 Nov 2011 12:34:00 +0000</updated>
                    <resolved>Wed, 25 May 2011 09:22:36 +0100</resolved>
                                            <fixVersion>3.1</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/benchmark</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12986844" author="shaie" created="Wed, 26 Jan 2011 04:52:26 +0000"  >&lt;p&gt;I didn&apos;t find a way to check if an Ant directory is empty, and even if there is a way, the extract process can still fail in the middle. So maybe an alternative solution is to extract the files in ExtractReuters to a tmp directory first, and rename it if everything succeeds. Also, always delete the target dir at startup. That way, if extraction fails, the directory doesn&apos;t exist, and if it does exist, we know it&apos;s ok (unless manually tempered, but that&apos;s not for us to solve).&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                    <comment id="12986867" author="doronc" created="Wed, 26 Jan 2011 07:04:05 +0000"  >&lt;p&gt;Seems ok to me.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;.. ExtractReuters to a tmp directory first, and rename it if everything succeeds. Also, always delete the &lt;b&gt;target&lt;/b&gt; dir at startup&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;should be &quot;always delete the &lt;b&gt;tmp&lt;/b&gt; dir at start&quot; ?&lt;/p&gt;</comment>
                    <comment id="12986887" author="shaie" created="Wed, 26 Jan 2011 08:12:24 +0000"  >&lt;p&gt;yes you&apos;re right &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. If the target exists, the code should fail - we&apos;re not supposed to call it from Ant anyway, and so if it&apos;s indeed called, it may discover a bug in the build.xml, and if it&apos;s called by a standalone program, I think it&apos;d be better to fail so as to indicate the caller that the dir exists - maybe he&apos;ll want to delete and re-create it.&lt;/p&gt;</comment>
                    <comment id="12986909" author="shaie" created="Wed, 26 Jan 2011 09:11:39 +0000"  >&lt;p&gt;Since ExtractReuters deletes all the files under the outputDir in its ctor, I didn&apos;t fail its main() if the directory exists. I&apos;ve done some re-formatting to the class, but the relevant changes are under main().&lt;/p&gt;

&lt;p&gt;Committed revision 1063640 (3x).&lt;br/&gt;
Committed revision 1063647 (trunk).&lt;/p&gt;

&lt;p&gt;Thanks Doron and Grant !&lt;/p&gt;</comment>
                    <comment id="13013327" author="gsingers" created="Wed, 30 Mar 2011 16:49:59 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                    <comment id="13036900" author="gsingers" created="Fri, 20 May 2011 16:43:52 +0100"  >&lt;p&gt;Note, this fix this doesn&apos;t work if the output dir has a trailing slash.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-694&quot; title=&quot;IndexOutOfBoundException using build-reuters.sh&quot;&gt;&lt;del&gt;MAHOUT-694&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    <comment id="13038498" author="doronc" created="Tue, 24 May 2011 11:59:10 +0100"  >&lt;blockquote&gt;&lt;p&gt;Note, this fix this doesn&apos;t work if the output dir has a trailing slash&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this is a separate issue - I mean not handling a trailing slash. &lt;br/&gt;
Created &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3137&quot; title=&quot;Benchmark&amp;#39;s ExtractReuters creates its temp dir wrongly if provided out-dir param ends by slash&quot;&gt;&lt;del&gt;LUCENE-3137&lt;/del&gt;&lt;/a&gt; for handling this.&lt;/p&gt;</comment>
                    <comment id="13038502" author="doronc" created="Tue, 24 May 2011 12:02:02 +0100"  >&lt;p&gt;There&apos;s now a simple patch for this in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3137&quot; title=&quot;Benchmark&amp;#39;s ExtractReuters creates its temp dir wrongly if provided out-dir param ends by slash&quot;&gt;&lt;del&gt;LUCENE-3137&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
I think this one can be closed?&lt;/p&gt;</comment>
                    <comment id="13038534" author="gsingers" created="Tue, 24 May 2011 14:02:26 +0100"  >&lt;p&gt;Doron, that&apos;s fine to open a new issue and close this one, but it was this issue&apos;s fix that introduced the bug.&lt;/p&gt;</comment>
                    <comment id="13039021" author="doronc" created="Wed, 25 May 2011 09:22:36 +0100"  >&lt;blockquote&gt;&lt;p&gt;Doron, that&apos;s fine to open a new issue and close this one, but it was this issue&apos;s fix that introduced the bug.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks for clarifying!&lt;br/&gt;
Okay, so I will fix this in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3137&quot; title=&quot;Benchmark&amp;#39;s ExtractReuters creates its temp dir wrongly if provided out-dir param ends by slash&quot;&gt;&lt;del&gt;LUCENE-3137&lt;/del&gt;&lt;/a&gt; (it makes sense to me at this time since this one was resolved 4 months ago and fixed something else) and resolve this one.&lt;/p&gt;</comment>
                    <comment id="13157823" author="thetaphi" created="Sun, 27 Nov 2011 12:34:00 +0000"  >&lt;p&gt;Bulk close after release of 3.1&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310050">
                <name>Regression</name>
                                <outwardlinks description="breaks">
                            <issuelink>
            <issuekey id="12507000">MAHOUT-694</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 26 Jan 2011 04:52:26 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12813</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26800</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>