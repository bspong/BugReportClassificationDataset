<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:13:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1429/LUCENE-1429.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1429] close() throws incorrect IllegalStateEx after IndexWriter hit an OOME when autoCommit is true</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1429</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Spinoff from &lt;a href=&quot;http://www.nabble.com/IllegalStateEx-thrown-when-calling-close-to20201825.html&quot; class=&quot;external-link&quot;&gt;http://www.nabble.com/IllegalStateEx-thrown-when-calling-close-to20201825.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When IndexWriter hits an OOME, it records this and then if close() is&lt;br/&gt;
called it calls rollback() instead.  This is a defensive measure, in&lt;br/&gt;
case the OOME corrupted the internal buffered state (added/deleted&lt;br/&gt;
docs).&lt;/p&gt;

&lt;p&gt;But there&apos;s a bug: if you opened IndexWriter with autoCommit true,&lt;br/&gt;
close() then incorrectly throws an IllegalStatException.&lt;/p&gt;

&lt;p&gt;This fix is simple: allow rollback to be called even if autoCommit is&lt;br/&gt;
true, internally during close.  (External calls to rollback with&lt;br/&gt;
autoCommmit true is still not allowed).&lt;/p&gt;</description>
                <environment></environment>
            <key id="12407345">LUCENE-1429</key>
            <summary>close() throws incorrect IllegalStateEx after IndexWriter hit an OOME when autoCommit is true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Oct 2008 11:03:12 +0000</created>
                <updated>Fri, 25 Sep 2009 17:23:12 +0100</updated>
                    <resolved>Thu, 19 Feb 2009 09:32:19 +0000</resolved>
                            <version>2.3</version>
                <version>2.3.1</version>
                <version>2.3.2</version>
                <version>2.4</version>
                                <fixVersion>2.4.1</fixVersion>
                <fixVersion>2.9</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12643189" author="mikemccand" created="Tue, 28 Oct 2008 12:09:07 +0000"  >&lt;p&gt;Thanks Jed!&lt;/p&gt;</comment>
                    <comment id="12643360" author="jedws" created="Tue, 28 Oct 2008 23:15:03 +0000"  >&lt;p&gt;Thanks Michael, I&apos;ll try and work out the best policy for the client code that should notice OOME and react appropriately.&lt;/p&gt;</comment>
                    <comment id="12674852" author="mikemccand" created="Thu, 19 Feb 2009 01:37:22 +0000"  >&lt;p&gt;Reopening for backport to 2.4.1.&lt;/p&gt;</comment>
                    <comment id="12674934" author="mikemccand" created="Thu, 19 Feb 2009 09:32:19 +0000"  >&lt;p&gt;Committed revision 745788 on 2.4 branch.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 28 Oct 2008 23:15:03 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12322</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26299</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>