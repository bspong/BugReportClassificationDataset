<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:14:46 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3646/LUCENE-3646.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3646] throw exception for fieldcache on a non-atomic reader</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3646</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In Lucene 4.0, we go through a lot of effort to prevent slow uses of non-atomic readers:&lt;/p&gt;

&lt;p&gt;DirectoryReader/MultiReader etc throw exception if you don&apos;t try to access postings or docvalues apis per-segment, etc.&lt;/p&gt;

&lt;p&gt;But the biggest trap of all is still too easy to fall into, we don&apos;t do the same for FieldCache.&lt;/p&gt;

&lt;p&gt;I think we should throw exception, forcing the user to either change their code or use a SlowMultiReaderWrapper.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12535064">LUCENE-3646</key>
            <summary>throw exception for fieldcache on a non-atomic reader</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2011 00:07:37 +0000</created>
                <updated>Fri, 10 May 2013 11:44:49 +0100</updated>
                    <resolved>Tue, 17 Jan 2012 15:34:51 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13168908" author="rcmuir" created="Wed, 14 Dec 2011 00:08:24 +0000"  >&lt;p&gt;Attached is an initial patch... all tests pass.&lt;/p&gt;</comment>
                    <comment id="13169509" author="mikemccand" created="Wed, 14 Dec 2011 17:16:38 +0000"  >&lt;p&gt;+1, looks great.  Nice how few places required SlowMR wrapping....&lt;/p&gt;</comment>
                    <comment id="13169531" author="thetaphi" created="Wed, 14 Dec 2011 17:51:02 +0000"  >&lt;p&gt;+1, let&apos;s get rid of this!&lt;/p&gt;

&lt;p&gt;I only comitted a change to FieldCacheImpl that made the 2 listeners reused and per-instance of FCImpl.&lt;/p&gt;</comment>
                    <comment id="13187769" author="thetaphi" created="Tue, 17 Jan 2012 15:56:20 +0000"  >&lt;p&gt;A small relict of very old code already fixed when we redid the listeners. The patch was just very old &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I just fixed in the attached patch, will commit now.&lt;/p&gt;</comment>
                    <comment id="13187772" author="thetaphi" created="Tue, 17 Jan 2012 16:12:00 +0000"  >&lt;p&gt;I just committed a last chance to register a purge event if the slow reader does not even have a IndexReader instance as cache key (like SlowMultiReaderWrapper).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12510851" name="FieldCacheImpl.java.patch" size="779" author="thetaphi" created="Tue, 17 Jan 2012 15:56:20 +0000" />
                    <attachment id="12507267" name="LUCENE-3646.patch" size="23479" author="rcmuir" created="Wed, 14 Dec 2011 00:08:24 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 14 Dec 2011 17:16:38 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>220749</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24052</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>