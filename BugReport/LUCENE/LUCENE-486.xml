<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:27:41 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-486/LUCENE-486.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-486] Core Test should not have dependencies on the Demo code</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-486</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The TestDoc.java Test file has a dependency on the Demo FileDocument code.  Some of us don&apos;t keep the Demo code around after downloading, so this breaks the build.&lt;/p&gt;

&lt;p&gt;Patch will be along shortly&lt;/p&gt;</description>
                <environment></environment>
            <key id="12327485">LUCENE-486</key>
            <summary>Core Test should not have dependencies on the Demo code</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="michaelbusch">Michael Busch</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2006 06:15:32 +0000</created>
                <updated>Wed, 25 Nov 2009 16:47:48 +0000</updated>
                    <resolved>Tue, 6 Oct 2009 07:07:06 +0100</resolved>
                            <version>1.4</version>
                                <fixVersion>3.0</fixVersion>
                                <component>general/build</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12362378" author="gsingers" created="Wed, 11 Jan 2006 07:11:50 +0000"  >&lt;p&gt;Attached is a new file FileDocument that lives under the Test structure, and changes to the appropriate Tests (TestDoc and IndexTest) that use this class.&lt;/p&gt;</comment>
                    <comment id="12362385" author="cutting" created="Wed, 11 Jan 2006 07:34:05 +0000"  >&lt;p&gt;Why should we replicate this file in the t est tree?  I don&apos;t see the need to make unit tests independent of the demo code.  Why do you remove the demo code?&lt;/p&gt;</comment>
                    <comment id="12362397" author="gsingers" created="Wed, 11 Jan 2006 08:40:36 +0000"  >&lt;p&gt;I am not happy with the replication thing, but if you can&apos;t build something in the main source tree without having the &quot;demo&quot; code then that just doesn&apos;t feel right.  What happens when someone changes the demo?  Now we have to keep this demo code exactly the same lest we also want to update the dependencies in the main source as well.  I suppose it isn&apos;t a big deal since it is only one file, but it just seems like an unnecessary dependency.  Ideally, the FileDocument would live in some common place, but I am not sure where that would be.&lt;/p&gt;

&lt;p&gt;I don&apos;t include the demo source under my source tree in intellij, so it always complains at me (I hate those red squiggly marks),  but I suppose I can get over it for this one file.&lt;/p&gt;</comment>
                    <comment id="12362429" author="ehatcher" created="Wed, 11 Jan 2006 20:34:36 +0000"  >&lt;p&gt;I concur with Grant on this - the dependency from test to demo has caused me annoyance as well.   I&apos;m in favor of a fix to it, but haven&apos;t looked at Grant&apos;s solution yet.&lt;/p&gt;</comment>
                    <comment id="12362472" author="cutting" created="Thu, 12 Jan 2006 02:46:34 +0000"  >&lt;p&gt;Grant, the test code is not in the &quot;main&quot; source tree, it&apos;s in the &quot;test&quot; source tree, which depends on &quot;core&quot; and &quot;demo&quot;.  I still don&apos;t see what harm that dependency causes, aesthetically or otherwise.  Perhaps such dependencies are awkward in intellij?  Is that the issue?&lt;/p&gt;</comment>
                    <comment id="12362483" author="gsingers" created="Thu, 12 Jan 2006 03:49:29 +0000"  >&lt;p&gt;Doug,&lt;/p&gt;

&lt;p&gt;The intellij thing is just a symptom.  I think the bigger issues are the consequences of the demo being changed and that it just doesn&apos;t feel right.  &lt;/p&gt;

&lt;p&gt;In my mind, the Test code is for testing the core, not the demo.  The demo, in my mind is a sample application using the core and has nothing to do with testing the core.  To me the demo feels more akin to the contrib area then the core area and I think you would agree that the core tests should not be depend on anything in contrib, right?&lt;/p&gt;

&lt;p&gt;At any rate, I am not trying to create an aesthetics war here, so at this point I will leave it to the committers to decide.&lt;/p&gt;</comment>
                    <comment id="12362484" author="cutting" created="Thu, 12 Jan 2006 04:05:52 +0000"  >&lt;p&gt;The more stuff that&apos;s regularly compiled &amp;amp; tested, the better.  We don&apos;t want the demo or contrib code to become neglected.  Removing dependencies from the core is important.  But I don&apos;t see that as a priority for test code.&lt;/p&gt;

&lt;p&gt;My primary objection to making tests dependent on contrib would be that it might substantially slow the compile &amp;amp; test loop, to the degree that folks would run tests less frequently.  The demo is small enough that I don&apos;t think this is a concern.&lt;/p&gt;</comment>
                    <comment id="12362488" author="gsingers" created="Thu, 12 Jan 2006 04:48:52 +0000"  >&lt;p&gt;&amp;gt;The more stuff that&apos;s regularly compiled &amp;amp; tested, the better. &lt;/p&gt;

&lt;p&gt;Couldn&apos;t agree more.&lt;/p&gt;

&lt;p&gt;&amp;gt;We don&apos;t want the demo or contrib code to become neglected. Removing dependencies from the &lt;br/&gt;
&amp;gt;core is important. But I don&apos;t see that as a priority for test code. &lt;/p&gt;

&lt;p&gt;Hence, me giving this bug a priority of Minor&lt;/p&gt;
</comment>
                    <comment id="12758677" author="michaelbusch" created="Wed, 23 Sep 2009 13:26:12 +0100"  >&lt;p&gt;I still think we should remove the dependency that test has on demo. Looking into the code you can replace the call of FileDocument in TestDoc with just 2 lines:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Document doc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Document();
doc.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Field(&lt;span class=&quot;code-quote&quot;&gt;&quot;contents&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileReader(file)));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this change alone we could remove the dependency. I think we should do that because it makes the build cleaner and I don&apos;t think we&apos;ll pay less attention to the demo code in the future just because we remove this classpath dependency. Any objections? Otherwise I&apos;ll reopen this issue and attach a patch.&lt;/p&gt;</comment>
                    <comment id="12758683" author="gsingers" created="Wed, 23 Sep 2009 13:35:16 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12762458" author="michaelbusch" created="Tue, 6 Oct 2009 01:04:31 +0100"  >&lt;p&gt;Will have to commit the change in TestDoc also to the compatibility tests branch.&lt;/p&gt;</comment>
                    <comment id="12762523" author="michaelbusch" created="Tue, 6 Oct 2009 07:07:06 +0100"  >&lt;p&gt;Committed revision 822139.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12321853" name="FileDocument.java" size="2055" author="gsingers" created="Wed, 11 Jan 2006 07:11:50 +0000" />
                    <attachment id="12421356" name="lucene-486.patch" size="3657" author="michaelbusch" created="Tue, 6 Oct 2009 01:04:31 +0100" />
                    <attachment id="12321852" name="testdoc.patch" size="1664" author="gsingers" created="Wed, 11 Jan 2006 07:11:50 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 11 Jan 2006 07:34:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13263</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27240</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>