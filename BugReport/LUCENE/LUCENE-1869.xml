<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:12:48 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1869/LUCENE-1869.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1869] when checking tvx/fdx size mismatch, also include whether the file exists</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1869</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;IndexWriter checks, during flush and during merge, that the size of the index file for stored fields (&lt;b&gt;.fdx) and term vectors (&lt;/b&gt;.tvx) matches how many bytes it has just written.&lt;/p&gt;

&lt;p&gt;This originally was added for &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1282&quot; title=&quot;Sun hotspot compiler bug in 1.6.0_04/05 affects Lucene&quot;&gt;&lt;del&gt;LUCENE-1282&lt;/del&gt;&lt;/a&gt;, ie, as a safety to catch the nasty &quot;off by 1&quot; JRE hotspot bug that would otherwise silently corrupt the index.&lt;/p&gt;

&lt;p&gt;However, this check also seems to catch a different case, where the size of the file is zero.   The most recent example is &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1521&quot; title=&quot;&amp;quot;fdx size mismatch&amp;quot; exception in StoredFieldsWriter.closeDocStore() when closing index with 500M documents&quot;&gt;&lt;del&gt;LUCENE-1521&lt;/del&gt;&lt;/a&gt;.  I&apos;d like to improve the message in the exception to include whether or not the file exists, to help understand why users are sometimes hitting this exception.  My best theory at this point is something external is removing the file out from under the IndexWriter.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12434256">LUCENE-1869</key>
            <summary>when checking tvx/fdx size mismatch, also include whether the file exists</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Aug 2009 10:01:39 +0100</created>
                <updated>Fri, 25 Sep 2009 17:23:37 +0100</updated>
                    <resolved>Fri, 28 Aug 2009 14:36:36 +0100</resolved>
                                            <fixVersion>2.9</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12748752" author="mikemccand" created="Fri, 28 Aug 2009 10:02:53 +0100"  >&lt;p&gt;Attached patch.&lt;/p&gt;

&lt;p&gt;The patch is trivial (only changes the String message in the already-thrown RuntimeException when there is a mismatch detected in expected vs actual size of *.fdx or *.tvx).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12417975" name="LUCENE-1869.patch" size="5509" author="mikemccand" created="Fri, 28 Aug 2009 10:02:53 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11895</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25858</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>