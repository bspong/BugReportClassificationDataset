<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:45 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3727/LUCENE-3727.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3727] fix assertions/checks that use File.length() to use getFilePointer()</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3727</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;This came up on this thread &quot;Getting RuntimeException: after flush: fdx size mismatch while Indexing&quot; &lt;br/&gt;
(&lt;a href=&quot;http://www.lucidimagination.com/search/document/a8db01a220f0a126&quot; class=&quot;external-link&quot;&gt;http://www.lucidimagination.com/search/document/a8db01a220f0a126&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;In trunk, a side effect of the codec refactoring is that these assertions were pushed into codecs as finish() before close().&lt;br/&gt;
they check getFilePointer() instead in this computation, which checks that lucene did its part (instead of falsely tripping if directory metadata is stale).&lt;/p&gt;

&lt;p&gt;I think we should fix these checks/asserts on 3.x too&lt;/p&gt;</description>
                <environment></environment>
            <key id="12540038">LUCENE-3727</key>
            <summary>fix assertions/checks that use File.length() to use getFilePointer()</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 13:39:01 +0000</created>
                <updated>Fri, 10 May 2013 11:44:47 +0100</updated>
                    <resolved>Mon, 30 Jan 2012 01:09:44 +0000</resolved>
                            <version>3.6</version>
                                <fixVersion>3.6</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13194709" author="rcmuir" created="Fri, 27 Jan 2012 13:43:34 +0000"  >&lt;p&gt;Here&apos;s the start to the patch: fixes the case that user hit without us losing any &apos;coverage&apos; in the check.&lt;/p&gt;

&lt;p&gt;I haven&apos;t yet reviewed other uses.&lt;/p&gt;</comment>
                    <comment id="13194787" author="rcmuir" created="Fri, 27 Jan 2012 14:27:06 +0000"  >&lt;p&gt;updated patch: using the same try/finally logic as trunk, fixing termvectors writer too, and storedfields/tvs from segmentmerger&lt;/p&gt;

&lt;p&gt;I think its ready.&lt;/p&gt;</comment>
                    <comment id="13194802" author="rcmuir" created="Fri, 27 Jan 2012 14:44:39 +0000"  >&lt;p&gt;After reviewing all uses of Directory.fileLength, only really one scary one remains: its use when constructing CFS directories.&lt;br/&gt;
This seems like it could be hard to fix though, I&apos;d rather not tackle this here... (unless someone knows of a super-easy fix), &lt;br/&gt;
but that could cause similar issues I think for people using NFS?&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12512162" name="LUCENE-3727.patch" size="8027" author="rcmuir" created="Fri, 27 Jan 2012 14:27:05 +0000" />
                    <attachment id="12512110" name="LUCENE-3727.patch" size="1877" author="rcmuir" created="Fri, 27 Jan 2012 13:43:01 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>225542</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>23971</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>