<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:09:18 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3789/LUCENE-3789.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3789] Expose FilteredTermsEnum from MTQ </title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3789</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;MTQ#getEnum() is protected and in order to access it you need to be in the o.a.l.search package. &lt;/p&gt;

&lt;p&gt;here is a relevant snipped from the mailing list discussion&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;getEnum() is protected so it is intended to be called *only* by subclasses (that&apos;s the idea behind protected methods). They are also accessible by other classes from the same package, but that&apos;s more a Java bug than a feature. The problem with MTQ is that RewriteMethod is a separate *class* and *not a subclass* of MTQ, so the method cannot be called (it can because of the &quot;java bug&quot; called from same package). So theoretically it has to be public otherwise you cannot call getEnum().

Another cleaner fix would be to add a protected final method to RewriteMethod that calls this method from MTQ. So anything subclassing RewriteMethod can get the enum from inside the RewriteMethod class which is the &quot;correct&quot; way to handle it. Delegating to MTQ is then &quot;internal&quot;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
            <key id="12542679">LUCENE-3789</key>
            <summary>Expose FilteredTermsEnum from MTQ </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="simonw">Simon Willnauer</assignee>
                                <reporter username="simonw">Simon Willnauer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2012 13:50:16 +0000</created>
                <updated>Fri, 10 May 2013 11:42:58 +0100</updated>
                    <resolved>Tue, 6 Mar 2012 21:15:01 +0000</resolved>
                            <version>3.6</version>
                <version>4.0-ALPHA</version>
                                <fixVersion>3.6</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13208782" author="simonw" created="Wed, 15 Feb 2012 20:50:16 +0000"  >&lt;p&gt;tiny simple patch against trunk... 3.x&apos;d look slightly different and needs a changes entry to its pretty straight forward though. &lt;/p&gt;</comment>
                    <comment id="13211055" author="simonw" created="Sat, 18 Feb 2012 20:01:00 +0000"  >&lt;p&gt;i will go ahead and commit if nobody objects? I will work on a 3.x port once this is in trunk&lt;/p&gt;</comment>
                    <comment id="13211056" author="rcmuir" created="Sat, 18 Feb 2012 20:04:44 +0000"  >&lt;p&gt;Looks fine to me!&lt;/p&gt;</comment>
                    <comment id="13211071" author="thetaphi" created="Sat, 18 Feb 2012 20:50:02 +0000"  >&lt;p&gt;Looks fine. I would make the access method final.&lt;/p&gt;</comment>
                    <comment id="13211084" author="simonw" created="Sat, 18 Feb 2012 21:06:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks fine. I would make the access method final.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;well, I actually didn&apos;t make this final on purpose. if you want to filter the enum used for rewriting you can now simply override and call super.getTermsEnum(...) otherwise you need to subclass all MTQ you want to filter and change QParsers etc. that way we can simply subclass one rewrite method and we are good to go. I have a usecase where I drop terms based on their DF so this would make this much easier...&lt;/p&gt;</comment>
                    <comment id="13211091" author="thetaphi" created="Sat, 18 Feb 2012 21:19:34 +0000"  >&lt;p&gt;OK, I agree. I had a usecase exactly like you said (filtering the termsenum to only collect terms with a low/high docfreq,...). I did this by wrapping MTQ qith the protected problem in another variant. Here you only need a new rewrite method.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12514705" name="LUCENE-3789.patch" size="1779" author="simonw" created="Wed, 15 Feb 2012 20:50:15 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 18 Feb 2012 20:04:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>227966</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>23910</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>