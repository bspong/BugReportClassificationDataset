<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:13:17 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2261/LUCENE-2261.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2261] configurable MultiTermQuery TopTermsScoringBooleanRewrite pq size</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2261</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;MultiTermQuery has a TopTermsScoringBooleanRewrite, that uses a priority queue to expand the query to the top-N terms.&lt;/p&gt;

&lt;p&gt;currently N is hardcoded at BooleanQuery.getMaxClauseCount(), but it would be nice to be able to set this for top-N MultiTermQueries: e.g. expand a fuzzy query to at most only the 50 closest terms.&lt;/p&gt;

&lt;p&gt;at a glance it seems one way would be to expose TopTermsScoringBooleanRewrite (it is private right now) and add a ctor to it, so a MultiTermQuery can instantiate one with its own limit.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12456030">LUCENE-2261</key>
            <summary>configurable MultiTermQuery TopTermsScoringBooleanRewrite pq size</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Feb 2010 16:32:14 +0000</created>
                <updated>Fri, 10 May 2013 11:43:31 +0100</updated>
                    <resolved>Sun, 21 Feb 2010 07:28:17 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12832602" author="rcmuir" created="Thu, 11 Feb 2010 17:53:24 +0000"  >&lt;p&gt;attached is a patch. i changed FuzzyQueries pq test to use this so it does not have to do the try-finally thing/BooleanQuery.maxClauseCount&lt;/p&gt;</comment>
                    <comment id="12832607" author="thetaphi" created="Thu, 11 Feb 2010 18:10:38 +0000"  >&lt;p&gt;Patch looks good, some things because of serializable:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The readResove method must go to the singleton constant, which should also throw UOE when modified&lt;/li&gt;
	&lt;li&gt;euquals / hashcode is neaded for the rewritemode, else FuzzyQuery &amp;amp; Co would no longer compare&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It could be solved by doing like for AutoRewrite and its unmodifiable constant. I know: Queries are a pain because of Serializable.&lt;/p&gt;

&lt;p&gt;+1 on adding a param to FuzzyQuery ctor&lt;/p&gt;</comment>
                    <comment id="12832609" author="rcmuir" created="Thu, 11 Feb 2010 18:12:34 +0000"  >&lt;p&gt;the previous patch was wrong for readResolve, here is a fix.&lt;/p&gt;</comment>
                    <comment id="12832656" author="rcmuir" created="Thu, 11 Feb 2010 19:34:24 +0000"  >&lt;p&gt;here is a patch with uwe&apos;s suggestions. now that fuzzyquery supports the param via ctor, the singleton TopTerms is no longer used so i removed it.&lt;/p&gt;</comment>
                    <comment id="12832658" author="rcmuir" created="Thu, 11 Feb 2010 19:39:05 +0000"  >&lt;p&gt;sorry, i created a javadoc warning, (TOP_TERMS singleton was referenced in the top of mtq javadocs). here is the fix&lt;/p&gt;</comment>
                    <comment id="12832683" author="thetaphi" created="Thu, 11 Feb 2010 20:55:24 +0000"  >&lt;p&gt;Looks good when gaining a first insight. I have not tried the patch, will do soon.&lt;/p&gt;</comment>
                    <comment id="12833110" author="rcmuir" created="Fri, 12 Feb 2010 18:39:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks good when gaining a first insight. I have not tried the patch, will do soon.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Uwe lemme know if everything is ok, once multitermquery policeman is happy I will look at proceeding to commit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12833181" author="thetaphi" created="Fri, 12 Feb 2010 21:44:09 +0000"  >&lt;p&gt;Hi Robert, patch looks good, all tests pass, nothing to complain from the MTQ police &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;There is only one thing unrelated to that issue: It makes no sense to declare IllegalArgExceptions as they are unchecked. I would remove them, else the compiler does.&lt;/p&gt;</comment>
                    <comment id="12833413" author="rcmuir" created="Sat, 13 Feb 2010 17:19:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;There is only one thing unrelated to that issue: It makes no sense to declare IllegalArgExceptions as they are unchecked. I would remove them, else the compiler does.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed, here is a patch with this cleanup, and also removes an unused import from MTQ&lt;/p&gt;</comment>
                    <comment id="12833415" author="rcmuir" created="Sat, 13 Feb 2010 17:20:16 +0000"  >&lt;p&gt;will commit this in a day or two if no one objects.&lt;/p&gt;</comment>
                    <comment id="12836336" author="rcmuir" created="Sun, 21 Feb 2010 07:28:17 +0000"  >&lt;p&gt;Committed revision 912311.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12441396">LUCENE-2089</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12435776" name="LUCENE-2261.patch" size="10684" author="rcmuir" created="Sat, 13 Feb 2010 17:19:13 +0000" />
                    <attachment id="12435600" name="LUCENE-2261.patch" size="10479" author="rcmuir" created="Thu, 11 Feb 2010 19:39:05 +0000" />
                    <attachment id="12435599" name="LUCENE-2261.patch" size="10089" author="rcmuir" created="Thu, 11 Feb 2010 19:34:24 +0000" />
                    <attachment id="12435595" name="LUCENE-2261.patch" size="4584" author="rcmuir" created="Thu, 11 Feb 2010 18:12:34 +0000" />
                    <attachment id="12435594" name="LUCENE-2261.patch" size="3566" author="rcmuir" created="Thu, 11 Feb 2010 17:53:24 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 11 Feb 2010 18:10:38 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11528</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25464</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>