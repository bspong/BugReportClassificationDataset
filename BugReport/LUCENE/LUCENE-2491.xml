<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:02:52 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2491/LUCENE-2491.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2491] Extend Codec with a SegmentInfos writer / reader</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2491</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;I&apos;m trying to implement a Codec that works with append-only filesystems (HDFS). It&apos;s &lt;em&gt;almost&lt;/em&gt; done, except for the SegmentInfos.write(dir), which uses ChecksumIndexOutput, which in turn uses IndexOutput.seek() - and seek is not supported on append-only output. I propose to extend the Codec interface to encapsulate also the details of SegmentInfos writing / reading. Patch to follow after some feedback &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12466326">LUCENE-2491</key>
            <summary>Extend Codec with a SegmentInfos writer / reader</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="ab">Andrzej Bialecki </reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jun 2010 10:07:41 +0100</created>
                <updated>Fri, 10 May 2013 11:44:35 +0100</updated>
                    <resolved>Mon, 20 Sep 2010 11:27:10 +0100</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12876200" author="mikemccand" created="Mon, 7 Jun 2010 11:59:46 +0100"  >&lt;p&gt;This sounds great!&lt;/p&gt;

&lt;p&gt;I&apos;ve wanted to let Codecs store stuff into each SegmentInfo (eg the hasProx boolean really ought not be a core thing but a Codec-private flag instead).  Maybe this is a way to do that...&lt;/p&gt;

&lt;p&gt;The only odd thing is... Codec is per-segment now.  Every segment is free to have a different Codec (even within a single session of IW).  So having Codec write the segments file doesn&apos;t really &quot;fit&quot;; I guess CodecProvider could do so?&lt;/p&gt;

&lt;p&gt;Multiple segments files can exist in the index at a time; the requirement would then be that the current CodecProvider must always be able to read all segments files written by past CodecProviders.&lt;/p&gt;

&lt;p&gt;We could alternatively make it an option for IW to use a normal IndexOutput when writing segments files (skipping the checksum).&lt;/p&gt;

&lt;p&gt;Once you remove this from HDFS, how will you ensure the written segments file is consistent?  Or is this (a possibly partially written segments file due to eg OS crash or power loss, on &quot;ordinary&quot; filesystems) never an issue with HDFS?&lt;/p&gt;</comment>
                    <comment id="12876203" author="earwin" created="Mon, 7 Jun 2010 12:20:23 +0100"  >&lt;p&gt;Or we can force the same Codec for the whole index. Which really makes sense.&lt;/p&gt;</comment>
                    <comment id="12912430" author="ab" created="Mon, 20 Sep 2010 11:27:10 +0100"  >&lt;p&gt;This was committed as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2373&quot; title=&quot;Create a Codec to work with streaming and append-only filesystems&quot;&gt;&lt;del&gt;LUCENE-2373&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 7 Jun 2010 10:59:46 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11331</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25201</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>