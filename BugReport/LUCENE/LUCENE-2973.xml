<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:32:36 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2973/LUCENE-2973.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2973] Source distribution packaging targets should make a tarball from &quot;svn export&quot;</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2973</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Instead of picking and choosing which stuff to include from a local working copy, Lucene&apos;s dist-src/package-tgz-src target and Solr&apos;s package-src target should simply perform &quot;svn export&quot; with the same revision and URL as the local working copy.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12501763">LUCENE-2973</key>
            <summary>Source distribution packaging targets should make a tarball from &quot;svn export&quot;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="steve_rowe">Steve Rowe</assignee>
                                <reporter username="steve_rowe">Steve Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2011 06:31:11 +0000</created>
                <updated>Wed, 30 Mar 2011 16:49:54 +0100</updated>
                    <resolved>Fri, 25 Mar 2011 15:58:07 +0000</resolved>
                            <version>3.1</version>
                <version>3.2</version>
                <version>4.0-ALPHA</version>
                                <fixVersion>3.1</fixVersion>
                <fixVersion>3.2</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>general/build</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13008346" author="steve_rowe" created="Fri, 18 Mar 2011 06:37:25 +0000"  >&lt;p&gt;Patch implementing the idea. &lt;tt&gt;svn info&lt;/tt&gt; is used to collect the revision and URL of the working copy.&lt;/p&gt;

&lt;p&gt;Drops &lt;tt&gt;.zip&lt;/tt&gt; source packaging for both Lucene and Solr - only &lt;tt&gt;.tar.gz&lt;/tt&gt; files are produced.&lt;/p&gt;

&lt;p&gt;Solr&apos;s &lt;tt&gt;package-src&lt;/tt&gt; target includes everything in the top-level checkout.  Lucene&apos;s &lt;tt&gt;dist-src&lt;/tt&gt;/&lt;tt&gt;package-tgz-src&lt;/tt&gt; target includes everything in the top-level checkout except &lt;tt&gt;solr/&lt;/tt&gt;.&lt;/p&gt;</comment>
                    <comment id="13008347" author="steve_rowe" created="Fri, 18 Mar 2011 06:43:14 +0000"  >&lt;p&gt;Renamed the directory in which &lt;tt&gt;svn export&lt;/tt&gt; operates, from &lt;tt&gt;build/checkout/&lt;/tt&gt; to &lt;tt&gt;build/svn-export/&lt;/tt&gt;.&lt;/p&gt;</comment>
                    <comment id="13008348" author="steve_rowe" created="Fri, 18 Mar 2011 06:44:47 +0000"  >&lt;p&gt;Forgot to mention: the patch is against trunk.&lt;/p&gt;</comment>
                    <comment id="13008430" author="steve_rowe" created="Fri, 18 Mar 2011 13:37:52 +0000"  >&lt;p&gt;This version of the patch copies the LICENSE.txt and NOTICE.txt files into the root dir of both the Lucene and Solr source packages.&lt;/p&gt;</comment>
                    <comment id="13008437" author="rcmuir" created="Fri, 18 Mar 2011 13:54:39 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Solr&apos;s package-src target includes everything in the top-level checkout. Lucene&apos;s dist-src/package-tgz-src target includes everything in the top-level checkout except solr/&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We shouldn&apos;t do this. lucene should just include lucene, and in no event should we be releasing dev-tools.&lt;/p&gt;

&lt;p&gt;Its not just philosophical issue either, in a lucene-only release none of the stuff in dev-tools will actually even work anyway,&lt;br/&gt;
because it contains reference to solr.&lt;/p&gt;

&lt;p&gt;instead, the build must not depend upon dev-tools, its optional stuff.&lt;/p&gt;</comment>
                    <comment id="13008438" author="yseeley@gmail.com" created="Fri, 18 Mar 2011 13:55:39 +0000"  >&lt;p&gt;+1, this will be much easier and less error prone to maintain.&lt;/p&gt;</comment>
                    <comment id="13008458" author="steve_rowe" created="Fri, 18 Mar 2011 14:52:36 +0000"  >&lt;p&gt;This version of the patch has two changes:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The &lt;tt&gt;build/svn-export/&lt;/tt&gt; directory is now deleted before telling &lt;tt&gt;svn export&lt;/tt&gt; to export to that directory - previously it was complaining about the dir being in the way.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;dev-tools/&lt;/tt&gt; is excluded from both the Lucene and the Solr source packages.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    <comment id="13008477" author="steve_rowe" created="Fri, 18 Mar 2011 15:44:26 +0000"  >&lt;p&gt;Lucene source distribution changed to export only the &lt;tt&gt;lucene/&lt;/tt&gt; top-level dir.  &lt;tt&gt;NOTICE.txt&lt;/tt&gt; and &lt;tt&gt;LICENSE.txt&lt;/tt&gt; don&apos;t need copying anymore.&lt;/p&gt;

&lt;p&gt;I think this is ready to go - I&apos;ll commit later today if there are no objections.&lt;/p&gt;</comment>
                    <comment id="13008788" author="steve_rowe" created="Sat, 19 Mar 2011 16:23:00 +0000"  >&lt;p&gt;In this version of the patch:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;I restored inclusion of &lt;tt&gt;dev-tools/&lt;/tt&gt; in the Solr source package.  The decision about whether to include &lt;tt&gt;dev-tools/&lt;/tt&gt; is orthogonal to using &quot;svn export&quot;; this patch maintains the status quo for Solr.  &lt;tt&gt;dev-tools/&lt;/tt&gt; is not included in the Lucene source package; this maintains the status quo for Lucene.&lt;/li&gt;
	&lt;li&gt;Added some comments and introduced a variable for the source package filename instead of spelling it out everywhere.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I will commit shortly.&lt;/p&gt;</comment>
                    <comment id="13008790" author="steve_rowe" created="Sat, 19 Mar 2011 16:33:50 +0000"  >&lt;p&gt;One more change in this patch: Solr&apos;s &lt;tt&gt;sign-artifacts&lt;/tt&gt; target no longer attempts to sign the &lt;tt&gt;.zip&lt;/tt&gt; version of the source package.&lt;/p&gt;</comment>
                    <comment id="13008803" author="steve_rowe" created="Sat, 19 Mar 2011 17:44:29 +0000"  >&lt;p&gt;Committed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;trunk revision 1083213&lt;/li&gt;
	&lt;li&gt;branch_3x revision 1083235&lt;/li&gt;
	&lt;li&gt;lucene_solr_3_1 revision 1083237&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="13009260" author="steve_rowe" created="Mon, 21 Mar 2011 18:21:53 +0000"  >&lt;p&gt;The subversion &lt;tt&gt;export&lt;/tt&gt; command has a &lt;tt&gt;--native-eol&lt;/tt&gt; parameter:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--native-eol ARG         : use a different EOL marker than the standard
                           system marker for files with the svn:eol-style
                           property set to &apos;native&apos;.
                           ARG may be one of &apos;LF&apos;, &apos;CR&apos;, &apos;CRLF&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Solr&apos;s &lt;tt&gt;package-src&lt;/tt&gt; and Lucene&apos;s &lt;tt&gt;dist-src&lt;/tt&gt; targets should be made to use this parameter with the &lt;tt&gt;LF&lt;/tt&gt; arg, so that the source packages can be consistently produced regardless of platform.&lt;/p&gt;</comment>
                    <comment id="13009363" author="steve_rowe" created="Mon, 21 Mar 2011 20:44:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;The subversion &lt;tt&gt;export&lt;/tt&gt; command has a &lt;tt&gt;--native-eol&lt;/tt&gt; parameter .... Solr&apos;s &lt;tt&gt;package-src&lt;/tt&gt; and Lucene&apos;s &lt;tt&gt;dist-src&lt;/tt&gt; targets should be made to use this parameter with the &lt;tt&gt;LF&lt;/tt&gt; arg, so that the source packages can be consistently produced regardless of platform.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Committed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;r1083945: trunk&lt;/li&gt;
	&lt;li&gt;r1083946: branch_3x&lt;/li&gt;
	&lt;li&gt;r1083947: lucene_solr_3_1&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="13009793" author="steve_rowe" created="Tue, 22 Mar 2011 19:16:18 +0000"  >&lt;p&gt;Ant&apos;s &lt;tt&gt;&amp;lt;exec&amp;gt;&lt;/tt&gt; task can take arguments in two forms: as a line to be parsed/split by the shell (&lt;tt&gt;&amp;lt;arg line=&quot;...&quot;&amp;gt;)&lt;/tt&gt;, or as a pre-parsed list (with one &lt;tt&gt;&amp;lt;arg value=&quot;...&quot;&amp;gt;&lt;/tt&gt; for each cmdline argument).  The &lt;tt&gt;svn-export-source&lt;/tt&gt; target should be rewritten to use the pre-parsed form, to avoid splitting problems (e.g. spaces in paths) with the &lt;tt&gt;&amp;lt;arg line=&quot;...&quot;&amp;gt;&lt;/tt&gt; form.&lt;/p&gt;</comment>
                    <comment id="13009798" author="steve_rowe" created="Tue, 22 Mar 2011 19:30:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;The &lt;tt&gt;svn-export-source&lt;/tt&gt; target should be rewritten to use the pre-parsed form, to avoid splitting problems (e.g. spaces in paths) with the &lt;tt&gt;&amp;lt;arg line=&quot;...&quot;&amp;gt;&lt;/tt&gt; form.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Committed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;r1084307 trunk&lt;/li&gt;
	&lt;li&gt;r1084309 branch_3x&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll leave this issue open to also be committed on the lucene_solr_3_1 branch before a 3.1.1 release (if there is one).&lt;/p&gt;</comment>
                    <comment id="13009812" author="steve_rowe" created="Tue, 22 Mar 2011 20:01:20 +0000"  >&lt;p&gt;The &lt;tt&gt;svn-export-source&lt;/tt&gt; targets were not using the &lt;tt&gt;${svn.exe&lt;/tt&gt;} property, but they should, to allow for use of &lt;tt&gt;svn&lt;/tt&gt; executables not on the &lt;tt&gt;$PATH&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Committed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;r1084322 trunk&lt;/li&gt;
	&lt;li&gt;r1084324 branch_3x&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This change should also be added to the lucene_solr_3_1 branch before a 3.1.1 release (if there is one).&lt;/p&gt;</comment>
                    <comment id="13011252" author="thetaphi" created="Fri, 25 Mar 2011 15:58:07 +0000"  >&lt;p&gt;Merged also to 3.1.0&lt;/p&gt;</comment>
                    <comment id="13013295" author="gsingers" created="Wed, 30 Mar 2011 16:49:54 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12474078" name="LUCENE-2973.patch" size="12590" author="steve_rowe" created="Sat, 19 Mar 2011 16:33:50 +0000" />
                    <attachment id="12474077" name="LUCENE-2973.patch" size="11792" author="steve_rowe" created="Sat, 19 Mar 2011 16:23:00 +0000" />
                    <attachment id="12474009" name="LUCENE-2973.patch" size="10588" author="steve_rowe" created="Fri, 18 Mar 2011 15:44:26 +0000" />
                    <attachment id="12474003" name="LUCENE-2973.patch" size="10734" author="steve_rowe" created="Fri, 18 Mar 2011 14:52:36 +0000" />
                    <attachment id="12473993" name="LUCENE-2973.patch" size="10808" author="steve_rowe" created="Fri, 18 Mar 2011 13:37:52 +0000" />
                    <attachment id="12473976" name="LUCENE-2973.patch" size="10229" author="steve_rowe" created="Fri, 18 Mar 2011 06:43:14 +0000" />
                    <attachment id="12473975" name="LUCENE-2973.patch" size="10225" author="steve_rowe" created="Fri, 18 Mar 2011 06:37:25 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>7.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 18 Mar 2011 13:54:39 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10905</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24719</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>