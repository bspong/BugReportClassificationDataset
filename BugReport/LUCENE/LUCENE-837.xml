<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:34:42 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-837/LUCENE-837.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-837] contrib/benchmark QueryMaker and Task Refactorings</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-837</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Introduce an abstract QueryMaker implementation that shares much of the common code between the various QueryMaker implementations.&lt;/p&gt;

&lt;p&gt;Add in a new QueryMaker for reading queries from a file that is specified in the properties.&lt;/p&gt;

&lt;p&gt;Patch shortly, and if no concerns, will commit tomorrow or Wed.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12365313">LUCENE-837</key>
            <summary>contrib/benchmark QueryMaker and Task Refactorings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="gsingers">Grant Ingersoll</assignee>
                                <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Mar 2007 01:39:59 +0000</created>
                <updated>Thu, 31 May 2007 02:46:10 +0100</updated>
                    <resolved>Thu, 31 May 2007 02:46:11 +0100</resolved>
                                                            <component>modules/benchmark</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12482296" author="gsingers" created="Tue, 20 Mar 2007 03:06:03 +0000"  >&lt;p&gt;The patch I have is slightly broader than just QueryMaker, as it also refactors some common code in the Search*TravTask.&lt;/p&gt;</comment>
                    <comment id="12482298" author="gsingers" created="Tue, 20 Mar 2007 03:11:05 +0000"  >&lt;p&gt;See changes.txt in contrib/benchmark.&lt;/p&gt;

&lt;p&gt;Patch applies in contrib/benchmark, NOT Lucene root!&lt;/p&gt;

&lt;p&gt;Does some refactoring of QueryMaker implementations to share some common code and introduces AbstractQueryMaker as parent class.&lt;/p&gt;

&lt;p&gt;SearchTravRetTask now extends SearchTravTask.&lt;/p&gt;

&lt;p&gt;ReadTask now implements traversalSize() method to allow us to specify number of hits to traverse (SearchTravTask now supports a command parameter).  This will allow us to simulate user scenario of traversing 10 docs at a time.&lt;/p&gt;

&lt;p&gt;Added new FileBasedQueryMaker which allows for the specification of a file or resource containing a list of queries that can be parsed by the QP, assuming one per line.&lt;/p&gt;</comment>
                    <comment id="12482355" author="doronc" created="Tue, 20 Mar 2007 10:09:16 +0000"  >&lt;p&gt;The changes looks good. &lt;br/&gt;
I integrated in my changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified query-maker generation for read related tasks to make further read tasks addition simpler and safer.&lt;/li&gt;
	&lt;li&gt;Changed Taks&apos; setParams() to throw UnsupportedOperationException if that task does not suppot command line param.&lt;/li&gt;
	&lt;li&gt;Improved javadoc to specify all properties command line params currently supported.&lt;/li&gt;
	&lt;li&gt;Refactored ReportTasks so that it is easy/possible now to create new report tasks.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you feel comfortable with committng them together, that would be great. Or, if you prefer to commit yours first, I&apos;ll reintegrate mine later. The changes are supposed to allow you now to easily add new report tasks. &lt;/p&gt;

&lt;p&gt;I also modified the micro-standard.alg to use the new traverse params.&lt;br/&gt;
(I didn&apos;t try the new file based query makers.)&lt;/p&gt;

&lt;p&gt;Attached file (benchmark-more-updates.patch) contains the changes from benchmark-updates.patch.&lt;/p&gt;</comment>
                    <comment id="12482769" author="gsingers" created="Wed, 21 Mar 2007 13:53:24 +0000"  >&lt;p&gt;committed revision 520890&lt;/p&gt;</comment>
                    <comment id="12483385" author="gsingers" created="Fri, 23 Mar 2007 03:42:19 +0000"  >&lt;p&gt;more updates coming shortly.  I will attach patch, but am also going to commit.&lt;/p&gt;</comment>
                    <comment id="12483386" author="gsingers" created="Fri, 23 Mar 2007 03:45:27 +0000"  >&lt;p&gt;Here&apos;s my changes.  Am going to commit shortly&lt;/p&gt;</comment>
                    <comment id="12483388" author="gsingers" created="Fri, 23 Mar 2007 03:49:01 +0000"  >&lt;p&gt;Committed field-selector-bench.patch on revision 521569&lt;/p&gt;</comment>
                    <comment id="12483413" author="doronc" created="Fri, 23 Mar 2007 05:43:57 +0000"  >&lt;p&gt;Hi, I like the new field selector stuff.&lt;/p&gt;

&lt;p&gt;Few comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;copyright notice missing in the new ***Selector class&lt;/li&gt;
	&lt;li&gt;The bytes storing in BasicDocMaker - perhaps better to extract the bytes in&lt;br/&gt;
   BasicDocMaker, - just before the closing &apos;}&apos; of &lt;br/&gt;
      if (docData.body!=null &amp;amp;&amp;amp; docData.body.length()&amp;gt;0) {&lt;br/&gt;
  just taking bdy.getBytes(&quot;UTF-8&quot;).&lt;br/&gt;
  This way this too would respect the doc size limitation parameter.&lt;br/&gt;
  This would actually allow all doc makers to support this, and you can undo the changes to DocData and to ReutersDocMaker.&lt;br/&gt;
  Hope I got it right?&lt;/li&gt;
	&lt;li&gt;Would you like to add the new task to list in TestPerfTasksParse, with no parameters and with some parameters?&lt;br/&gt;
  (it should be anyhow parse-tested now automatically, but with no params.)&lt;/li&gt;
	&lt;li&gt;the meaning of the new reuters.doc.maker.store.bytes property is: also store the&lt;br/&gt;
  entire doc content as a raw bytes field, right? (It was not clear to from the javadoc.)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Regards,&lt;br/&gt;
Doron&lt;/p&gt;</comment>
                    <comment id="12483586" author="gsingers" created="Fri, 23 Mar 2007 13:14:07 +0000"  >&lt;p&gt;Thanks.  Making the changes now.  I moved the bytes storage up to BasicDocMaker.java.  Added the copyright and am adding a test.&lt;/p&gt;

&lt;p&gt;We may eventually want to store arbitrary bytes, too, but no need to now.&lt;/p&gt;

&lt;p&gt;I changed the property to be&lt;br/&gt;
doc.store.body.bytes which means to store the bytes of the body as a field.&lt;/p&gt;

&lt;p&gt;The testing has already paid off.  I wasn&apos;t setting the params var correctly.&lt;/p&gt;

&lt;p&gt;Committed&lt;/p&gt;</comment>
                    <comment id="12483682" author="doronc" created="Fri, 23 Mar 2007 18:02:29 +0000"  >&lt;p&gt;I updated the docs to be clearer abut the records counting, and also list the new task and property in the package docs.&lt;br/&gt;
Committed.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12353722" name="benchmark-more-updates.patch" size="93047" author="doronc" created="Tue, 20 Mar 2007 10:09:16 +0000" />
                    <attachment id="12353709" name="benchmark-updates.patch" size="18060" author="gsingers" created="Tue, 20 Mar 2007 03:11:04 +0000" />
                    <attachment id="12354021" name="field-selector-bench.patch" size="8924" author="gsingers" created="Fri, 23 Mar 2007 03:45:27 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 20 Mar 2007 10:09:16 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12904</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26893</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>