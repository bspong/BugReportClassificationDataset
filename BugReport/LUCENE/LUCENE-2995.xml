<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:05:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2995/LUCENE-2995.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2995] factor out a shared spellchecking module</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2995</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In lucene&apos;s contrib we have spellchecking support (index-based spellchecker, directspellchecker, etc). &lt;br/&gt;
we also have some things like pluggable comparators.&lt;/p&gt;

&lt;p&gt;In solr we have auto-suggest support (with two implementations it looks like), some good utilities like HighFrequencyDictionary, etc.&lt;/p&gt;

&lt;p&gt;I think spellchecking is really important... google has upped the ante to what users expect.&lt;br/&gt;
So I propose we combine all this stuff into a shared modules/spellchecker, which will make it easier&lt;br/&gt;
to refactor and improve the quality.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12502484">LUCENE-2995</key>
            <summary>factor out a shared spellchecking module</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Mar 2011 23:02:25 +0000</created>
                <updated>Fri, 10 May 2013 11:43:47 +0100</updated>
                    <resolved>Mon, 23 May 2011 21:31:51 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>4</watches>
                                                    <comments>
                    <comment id="13011696" author="rcmuir" created="Sat, 26 Mar 2011 23:04:12 +0000"  >&lt;p&gt;Just a quick shot at this (all tests pass).&lt;/p&gt;

&lt;p&gt;Really any serious &apos;refactoring&apos; e.g. perf improvements should be on followup issues I think.&lt;/p&gt;

&lt;p&gt;before applying the patch, run this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;svn move lucene/contrib/spellchecker modules
svn move solr/src/java/org/apache/solr/util/HighFrequencyDictionary.java modules/spellchecker/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/util/TermFreqIterator.java modules/spellchecker/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/util/SortedIterator.java modules/spellchecker/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/spelling/suggest/Suggester.java solr/src/java/org/apache/solr/spelling
svn move solr/src/java/org/apache/solr/spelling/suggest modules/spellchecker/src/java/org/apache/lucene/search/spell
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13011711" author="cmale" created="Sun, 27 Mar 2011 02:24:49 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="13011746" author="simonw" created="Sun, 27 Mar 2011 07:50:36 +0100"  >&lt;p&gt;Robert, thanks for starting this and pushing up a patch. I think its a great start and we should try to let lots of other stuff follow ASAP. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Really any serious &apos;refactoring&apos; e.g. perf improvements should be on followup issues I think.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="13011778" author="dweiss" created="Sun, 27 Mar 2011 12:42:54 +0100"  >&lt;p&gt;This is a related issue in SOLR that I plan to work on this week, Robert. Is it o.k.?&lt;/p&gt;</comment>
                    <comment id="13011785" author="rcmuir" created="Sun, 27 Mar 2011 13:09:56 +0100"  >&lt;p&gt;I think so? This issue just moves the code around, e.g. your FST-based Lookup&lt;br/&gt;
impl would ultimately sit under modules/spellchecker instead of Solr, and lucene&lt;br/&gt;
users would be able to use it, too.&lt;/p&gt;
</comment>
                    <comment id="13011792" author="mikemccand" created="Sun, 27 Mar 2011 14:04:42 +0100"  >&lt;p&gt;This is awesome Robert!  Spell checking is a hugely important feature...&lt;/p&gt;</comment>
                    <comment id="13011835" author="dweiss" created="Sun, 27 Mar 2011 21:17:40 +0100"  >&lt;p&gt;Ok, great. I&apos;ll look into this this week.&lt;/p&gt;</comment>
                    <comment id="13011836" author="rcmuir" created="Sun, 27 Mar 2011 21:20:44 +0100"  >&lt;p&gt;well there&apos;s no rush on this issue, i just wanted to throw out the idea...&lt;/p&gt;

&lt;p&gt;I think it definitely makes sense if you are going to be implementing cool FST stuff for suggesting etc!&lt;/p&gt;

&lt;p&gt;i saw a lot of opportunities for refactoring just by combining the code in one place.&lt;/p&gt;</comment>
                    <comment id="13012461" author="gsingers" created="Tue, 29 Mar 2011 13:44:05 +0100"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2080&quot; title=&quot;Create a Related Search Component&quot;&gt;SOLR-2080&lt;/a&gt;.  Spell checking, suggestions and related searches are all part of what I would call a Suggester framework or a Discovery framework.  Doesn&apos;t need to be done here, but I do think it&apos;s easy to have a common API for all of these &quot;suggestions&quot;, especially if we can factor in user feedback into them, as right now, we only solve 1/2 of the problem.&lt;/p&gt;</comment>
                    <comment id="13012473" author="rcmuir" created="Tue, 29 Mar 2011 14:22:14 +0100"  >&lt;p&gt;Grant should we call the module suggestor or suggestions or something instead of spellcheck?&lt;/p&gt;

&lt;p&gt;I didnt spend a lot of time thinking about the name in the patch, but thats a good point.&lt;/p&gt;</comment>
                    <comment id="13012476" author="ab" created="Tue, 29 Mar 2011 14:35:51 +0100"  >&lt;p&gt;+1 for a &quot;suggester&quot; module.&lt;/p&gt;</comment>
                    <comment id="13012524" author="gsingers" created="Tue, 29 Mar 2011 16:36:21 +0100"  >&lt;p&gt;yeah, I like suggestions or suggester&lt;/p&gt;</comment>
                    <comment id="13012569" author="hossman" created="Tue, 29 Mar 2011 18:36:51 +0100"  >&lt;p&gt;i don&apos;t really have any better suggestions (ack, i hate puns unintentional or otherwise) on the name, but the one word of caution i would put out there is that &quot;suggestions&quot; and &quot;suggester&quot; are vague about what they &quot;suggest&quot;&lt;/p&gt;

&lt;p&gt;people might confuse this with &quot;morelikethis&quot; or &quot;recommendation engine&quot; type stuff.&lt;/p&gt;

&lt;p&gt;if that&apos;s in the scope for what you guys have in mind for this module, go ahead.&lt;/p&gt;

&lt;p&gt;if not .... maybe &quot;query-suggester&quot; or &quot;term-suggester&quot; ?&lt;/p&gt;</comment>
                    <comment id="13012577" author="steve_rowe" created="Tue, 29 Mar 2011 18:50:03 +0100"  >&lt;blockquote&gt;&lt;p&gt;maybe &quot;query-suggester&quot; or &quot;term-suggester&quot; ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Or maybe &quot;reword&quot; or &quot;rephrase&quot;?&lt;/p&gt;</comment>
                    <comment id="13012596" author="steve_rowe" created="Tue, 29 Mar 2011 19:20:45 +0100"  >&lt;p&gt;Or maybe &quot;did-you-mean&quot; or &quot;instead&quot;?&lt;/p&gt;</comment>
                    <comment id="13012600" author="mikemccand" created="Tue, 29 Mar 2011 19:25:16 +0100"  >&lt;p&gt;How about just &quot;suggest&quot;?&lt;/p&gt;

&lt;p&gt;I don&apos;t like suggester because I&apos;m really not sure if it&apos;s spelled suggestor and I feel whatever name we choose here damned well better be easy to spell!!&lt;/p&gt;</comment>
                    <comment id="13012609" author="gsingers" created="Tue, 29 Mar 2011 19:40:20 +0100"  >&lt;blockquote&gt;&lt;p&gt;if that&apos;s in the scope for what you guys have in mind for this module, go ahead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s in the back of my head.  I&apos;ve got Mahout collab. filtering hooked up through Solr already and it would be dead simple to bring in here, too, but it would fit nicely in this framework.  For instance, given a set of search results, it can go do Item-Item recommendations based on doc-ids.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;suggest&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1.  Simple, to the point and has room to grow.&lt;/p&gt;</comment>
                    <comment id="13024887" author="mikemccand" created="Mon, 25 Apr 2011 18:59:03 +0100"  >&lt;p&gt;Is this ready to go in....?&lt;/p&gt;</comment>
                    <comment id="13025147" author="dweiss" created="Tue, 26 Apr 2011 10:35:34 +0100"  >&lt;p&gt;The patch probably won&apos;t apply after I added that automaton-based suggester to Solr, but I didn&apos;t have a chance to peek at it yet.&lt;/p&gt;</comment>
                    <comment id="13025315" author="yseeley@gmail.com" created="Tue, 26 Apr 2011 17:38:39 +0100"  >&lt;p&gt;-1 to this for now.&lt;br/&gt;
The interpretation of what it means to be merged has taken a turn for the worse, with solr features being blocked (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2272&quot; title=&quot;Join&quot;&gt;&lt;del&gt;SOLR-2272&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
I fear we may need to split Solr into it&apos;s own TLP, and hence we should be doing any further refactoring at this time since if Solr ends up as it&apos;s own project, it will want these files to remain under it&apos;s control.&lt;/p&gt;</comment>
                    <comment id="13025421" author="gstein" created="Tue, 26 Apr 2011 21:40:34 +0100"  >&lt;p&gt;Yonik: that is an improper veto, and does not stand.&lt;/p&gt;</comment>
                    <comment id="13025423" author="steve_rowe" created="Tue, 26 Apr 2011 21:44:40 +0100"  >&lt;blockquote&gt;&lt;p&gt;Yonik: that is an improper veto, and does not stand.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Greg, could you please be more specific?  Why is Yonik&apos;s veto improper?&lt;/p&gt;</comment>
                    <comment id="13025427" author="yseeley@gmail.com" created="Tue, 26 Apr 2011 21:52:49 +0100"  >&lt;p&gt;I understand Greg&apos;s objection - given that the projects are currently one, what I said was not a technical argument against the patch.&lt;br/&gt;
If Lucene and Solr do end up splitting, Solr could always copy (or start at an earlier revision) any files that it needed more control over anyway.&lt;/p&gt;

&lt;p&gt;My -1 is rescinded.&lt;/p&gt;</comment>
                    <comment id="13037677" author="rcmuir" created="Mon, 23 May 2011 00:21:34 +0100"  >&lt;p&gt;Updated patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Supports Dawid&apos;s new FST autosuggester&lt;/li&gt;
	&lt;li&gt;Ported the low-level tests over to the module&lt;/li&gt;
	&lt;li&gt;Backwards compatibility with older Solr config files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;before applying the patch, please use the following script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;svn move lucene/contrib/spellchecker modules/suggest
svn move solr/src/java/org/apache/solr/util/HighFrequencyDictionary.java modules/suggest/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/util/TermFreqIterator.java modules/suggest/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/util/SortedIterator.java modules/suggest/src/java/org/apache/lucene/search/spell
svn move solr/src/java/org/apache/solr/spelling/suggest/Suggester.java solr/src/java/org/apache/solr/spelling
svn move solr/src/java/org/apache/solr/spelling/suggest modules/suggest/src/java/org/apache/lucene/search/spell
svn move modules/suggest/src/java/org/apache/lucene/search/spell/suggest modules/suggest/src/java/org/apache/lucene/search
svn revert solr/src/java/org/apache/solr/spelling/suggest
svn mkdir --parents modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/java/org/apache/solr/spelling/Suggester.java solr/src/java/org/apache/solr/spelling/suggest
svn revert solr/src/java/org/apache/solr/spelling/suggest/fst
svn revert solr/src/java/org/apache/solr/spelling/suggest/jaspell
svn revert solr/src/java/org/apache/solr/spelling/suggest/tst
svn mkdir --parents modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/Average.java modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/LookupBenchmarkTest.java modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/PersistenceTest.java modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/TermFreq.java modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/TermFreqArrayIterator.java modules/suggest/src/test/org/apache/lucene/search/suggest/
svn move solr/src/test/org/apache/solr/spelling/suggest/fst modules/suggest/src/test/org/apache/lucene/search/suggest/fst
svn move solr/src/test-files/Top50KWiki.utf8 modules/suggest/src/test/org/apache/lucene/search/suggest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13037679" author="rcmuir" created="Mon, 23 May 2011 00:28:01 +0100"  >&lt;p&gt;here is the previous patch as an ordinary diff, maybe easier to apply.&lt;/p&gt;</comment>
                    <comment id="13038096" author="rcmuir" created="Mon, 23 May 2011 19:06:02 +0100"  >&lt;p&gt;these patches go completely out of date fast... (I had to redo the previous patch from scratch basically).&lt;/p&gt;

&lt;p&gt;I&apos;d like to commit this one before this happens, and if anyone has concerns or objections I&apos;ll just revert and we can revisit.&lt;/p&gt;</comment>
                    <comment id="13038163" author="simonw" created="Mon, 23 May 2011 20:45:25 +0100"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d like to commit this one before this happens, and if anyone has concerns or objections I&apos;ll just revert and we can revisit.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;looks good after a quick scan... I think you should commit and we iterate on it once its in even if we need to revert. Reverting should not feel wrong so here is my +1 to commit&lt;/p&gt;</comment>
                    <comment id="13038170" author="gstein@gmail.com" created="Mon, 23 May 2011 20:53:48 +0100"  >&lt;p&gt;Or rather than revert... just iterate it forward until it satisfies&lt;br/&gt;
everybody&apos;s concerns. Why keep moving backwards?&lt;/p&gt;</comment>
                    <comment id="13038198" author="rcmuir" created="Mon, 23 May 2011 21:30:45 +0100"  >&lt;p&gt;I agree, I would much rather iterate forward if anyone has concerns.&lt;/p&gt;

&lt;p&gt;I will mark this issue resolved, we can open separate issues for any problems.&lt;br/&gt;
I know of a few followup issues I will open myself.&lt;/p&gt;
</comment>
                    <comment id="13038199" author="rcmuir" created="Mon, 23 May 2011 21:31:51 +0100"  >&lt;p&gt;Committed revision 1126642.&lt;/p&gt;

&lt;p&gt;I&apos;d like to expose this to 3.x users as well, but this is more complicated in this case so I&apos;ll open some followup issues for this.&lt;/p&gt;</comment>
                    <comment id="13038205" author="markrmiller@gmail.com" created="Mon, 23 May 2011 21:37:23 +0100"  >&lt;blockquote&gt;&lt;p&gt;Or rather than revert... just iterate it forward until it satisfies&lt;br/&gt;
everybody&apos;s concerns. Why keep moving backwards?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1. Reverting itself should not feel wrong - asking others to revert should IMO. The default mode should be moving forward, not backward. Everything is open to change and improvement - asking for a revert from someone else will always be considered a very big deal by me. Unless it&apos;s a special circumstance I&apos;m going to rant and rave about it every time myself. &lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12499316">SOLR-2378</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12480065" name="LUCENE-2995-diff.patch" size="494274" author="rcmuir" created="Mon, 23 May 2011 00:28:01 +0100" />
                    <attachment id="12480063" name="LUCENE-2995.patch" size="72776" author="rcmuir" created="Mon, 23 May 2011 00:21:34 +0100" />
                    <attachment id="12474713" name="LUCENE-2995.patch" size="55040" author="rcmuir" created="Sat, 26 Mar 2011 23:04:12 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 27 Mar 2011 01:24:49 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10890</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24697</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>