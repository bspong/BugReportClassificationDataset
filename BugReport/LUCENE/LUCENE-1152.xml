<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:03:10 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1152/LUCENE-1152.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1152] SpellChecker does not work properly on calling indexDictionary after clearIndex</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1152</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;We have to call clearIndex and indexDictionary to rebuild dictionary from fresh. The call to SpellChecker clearIndex() function does not reset the searcher. Hence, when we call indexDictionary after that, many entries that are already in the stale searcher will not be indexed.&lt;/p&gt;

&lt;p&gt;Also, I see that IndexReader reader is used for the sole purpose of obtaining the docFreq of a given term in exist() function. This functionality can also be obtained by using just the searcher by calling searcher.docFreq. Thus, can we get away completely with reader and code associated with it like&lt;br/&gt;
      if (IndexReader.isLocked(spellIndex))&lt;/p&gt;
{
	IndexReader.unlock(spellIndex);
      }
&lt;p&gt;and the reader related code in finalize?&lt;/p&gt;
</description>
                <environment></environment>
            <key id="12387144">LUCENE-1152</key>
            <summary>SpellChecker does not work properly on calling indexDictionary after clearIndex</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="otis">Otis Gospodnetic</assignee>
                                <reporter username="belkale">Naveen Belkale</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2008 12:49:09 +0000</created>
                <updated>Thu, 22 May 2008 07:21:39 +0100</updated>
                    <resolved>Thu, 22 May 2008 07:21:39 +0100</resolved>
                            <version>2.3</version>
                                                <component>modules/spellchecker</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12562480" author="belkale" created="Fri, 25 Jan 2008 12:52:40 +0000"  >&lt;p&gt;Suggested patch.&lt;/p&gt;</comment>
                    <comment id="12562485" author="belkale" created="Fri, 25 Jan 2008 13:06:48 +0000"  >&lt;p&gt;One more small query. We have requirement where we have to add new words to our dictionary quite frequently. So multiple threads may concurrently call indexDictionary. This will cause problems as each call to indexDictionary will create a new IndexWriter. So is it possible to make indexDictionary function synchronized? Like this&lt;br/&gt;
  public synchronized void indexDictionary(Dictionary dict) throws IOException {&lt;br/&gt;
........&lt;/p&gt;</comment>
                    <comment id="12597704" author="otis" created="Sat, 17 May 2008 05:41:16 +0100"  >&lt;p&gt;This patch no longer applies.  Could you provide a new patch (against trunk)?  Also, please use 2-spaces for indentation.  Thanks.&lt;/p&gt;

&lt;p&gt;As for synchronizing indexDictionary method, why not add synchronization logic to your application?&lt;/p&gt;</comment>
                    <comment id="12598612" author="belkale" created="Wed, 21 May 2008 11:06:10 +0100"  >&lt;p&gt;Suggested patch against trunk&lt;/p&gt;</comment>
                    <comment id="12598915" author="otis" created="Thu, 22 May 2008 07:21:39 +0100"  >&lt;p&gt;Thank you for the patch!&lt;/p&gt;

&lt;p&gt;Committed revision 659013.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12382449" name="spellchecker.diff" size="2512" author="belkale" created="Wed, 21 May 2008 11:06:10 +0100" />
                    <attachment id="12374030" name="spellchecker.diff" size="2807" author="belkale" created="Fri, 25 Jan 2008 12:52:40 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 17 May 2008 04:41:16 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12592</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26577</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>