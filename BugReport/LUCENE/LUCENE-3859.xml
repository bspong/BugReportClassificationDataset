<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:30:41 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3859/LUCENE-3859.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3859] nuke/clean up AtomicReader.hasNorms</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3859</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;implementations already have to return fieldInfos() &lt;span class=&quot;error&quot;&gt;&amp;#91;which can tell you this&amp;#93;&lt;/span&gt;, and normValues() &lt;span class=&quot;error&quot;&gt;&amp;#91;which can also tell you this&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;So if we want to keep it, I think it should just have a final implementation and not be required for FilterReaders, etc.&lt;/p&gt;

&lt;p&gt;Or we can just nuke it... do we really need 3 ways to do the same thing?&lt;/p&gt;</description>
                <environment></environment>
            <key id="12545898">LUCENE-3859</key>
            <summary>nuke/clean up AtomicReader.hasNorms</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Mar 2012 20:12:41 +0000</created>
                <updated>Fri, 10 May 2013 11:44:36 +0100</updated>
                    <resolved>Sun, 11 Mar 2012 16:16:22 +0000</resolved>
                            <version>4.0-ALPHA</version>
                                <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13226561" author="thetaphi" created="Fri, 9 Mar 2012 22:42:23 +0000"  >&lt;p&gt;Hi Robert,&lt;br/&gt;
thanks for opening this. String +1 for any solution.&lt;/p&gt;</comment>
                    <comment id="13226871" author="rcmuir" created="Sat, 10 Mar 2012 14:46:46 +0000"  >&lt;p&gt;Updated patch: same approach as before, except with some related cleanups.&lt;/p&gt;

&lt;p&gt;FieldInfos are now public from IndexReader in 4.0, but javadoc is sparse and some naming is inconsistent.&lt;/p&gt;

&lt;p&gt;Patch renames FieldInfos.anyDocValuesFields() to FieldInfos.hasDocValues(), consistent with hasProx(), hasNorms(), and hasFreq().&lt;/p&gt;

&lt;p&gt;Patch also renames FieldInfo.normsPresent() to FieldInfo.hasNorms(), consistent with hasDocValues(), and consistent with the naming in FieldInfoS.&lt;/p&gt;

&lt;p&gt;Also i added some additional javadoc.&lt;/p&gt;</comment>
                    <comment id="13227043" author="mikemccand" created="Sun, 11 Mar 2012 13:17:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="13227066" author="rcmuir" created="Sun, 11 Mar 2012 15:16:25 +0000"  >&lt;p&gt;One thing about this patch: it removes the method but I am scared to backport the deprecation,&lt;br/&gt;
because I&apos;m not sure 3.x fieldinfos really &quot;knows&quot; this.&lt;/p&gt;

&lt;p&gt;So I think a good solution is to have a deprecated hasNorms sugar method in AtomicReader that is final,&lt;br/&gt;
and sugar for fieldinfo.hasNorms(). This way we avoid a hard break, we can just remove this for the &lt;br/&gt;
next major release.&lt;/p&gt;</comment>
                    <comment id="13227072" author="rcmuir" created="Sun, 11 Mar 2012 16:00:45 +0000"  >&lt;p&gt;Updated patch: keeps AtomicReader.hasNorms but changes its implementation to just check the fieldinfos (so it wont load anything/incur any i/o).&lt;/p&gt;

&lt;p&gt;its final and deprecated, as its basically just sugar for the fieldinfos check, which you can do yourself (and also allows you to get the type of the norms too).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12517894" name="LUCENE-3859.patch" size="17801" author="rcmuir" created="Sun, 11 Mar 2012 16:00:45 +0000" />
                    <attachment id="12517849" name="LUCENE-3859.patch" size="16630" author="rcmuir" created="Sat, 10 Mar 2012 14:46:46 +0000" />
                    <attachment id="12517773" name="LUCENE-3859.patch" size="6448" author="rcmuir" created="Fri, 9 Mar 2012 20:13:08 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 9 Mar 2012 22:42:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>231081</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>23842</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>