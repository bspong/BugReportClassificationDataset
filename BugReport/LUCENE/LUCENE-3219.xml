<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:04:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3219/LUCENE-3219.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3219] Change SortField types to an Enum</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3219</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;When updating my &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2533&quot; title=&quot;Improve API of ValueSource &amp;amp; FunctionQuery SortField weighting&quot;&gt;&lt;del&gt;SOLR-2533&lt;/del&gt;&lt;/a&gt; patch, one issue was that the int value I had given my new type had been used by another change in the mean time.  Since we don&apos;t use these fields in a bitset kind of way, we can convert them to an enum.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12510918">LUCENE-3219</key>
            <summary>Change SortField types to an Enum</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="cmale">Chris Male</assignee>
                                <reporter username="cmale">Chris Male</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2011 09:05:31 +0100</created>
                <updated>Fri, 10 May 2013 11:43:16 +0100</updated>
                    <resolved>Wed, 22 Jun 2011 02:49:05 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13051856" author="simonw" created="Mon, 20 Jun 2011 09:54:18 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="13051870" author="cmale" created="Mon, 20 Jun 2011 10:18:52 +0100"  >&lt;p&gt;First up patch which makes the majority of changes.&lt;/p&gt;

&lt;p&gt;I intend to commit &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2533&quot; title=&quot;Improve API of ValueSource &amp;amp; FunctionQuery SortField weighting&quot;&gt;&lt;del&gt;SOLR-2533&lt;/del&gt;&lt;/a&gt; first and then update this patch to incorporate the changes.&lt;/p&gt;

&lt;p&gt;Also intend to change CachedArrayCreator.getSortTypeID() to CachedArrayCreator.getSortType()&lt;/p&gt;</comment>
                    <comment id="13052081" author="cmale" created="Mon, 20 Jun 2011 18:14:46 +0100"  >&lt;p&gt;Patch updated to trunk.  Compiles and tests pass.  &lt;/p&gt;

&lt;p&gt;I intend to commit in the next day or so.&lt;/p&gt;</comment>
                    <comment id="13052084" author="cmale" created="Mon, 20 Jun 2011 18:17:34 +0100"  >&lt;p&gt;Even better patch which CHANGES entry correct.&lt;/p&gt;</comment>
                    <comment id="13052137" author="simonw" created="Mon, 20 Jun 2011 19:33:52 +0100"  >&lt;p&gt;chris, patch looks good...&lt;/p&gt;

&lt;p&gt;some minor comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I wonder if a parser could hold a Type so we could get rid of the if (parser instanceof FieldCache.$Parser) ?&lt;/li&gt;
	&lt;li&gt;in SearchWithSortTask I wonder if you could simply call Type.valueOf(typeString.toUpperCase()); - the less code the better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;overall looks good&lt;/p&gt;

&lt;p&gt;simon&lt;/p&gt;</comment>
                    <comment id="13052327" author="cmale" created="Tue, 21 Jun 2011 03:37:47 +0100"  >&lt;p&gt;Updated patch to incorporate Simon&apos;s suggestions:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SearchWithSortTask now uses SortField.Type.valueOf().  This changes the exception thrown to an IllegalArgumentException.&lt;/li&gt;
	&lt;li&gt;I haven&apos;t added Type to FieldCache.Parser since the constructor in SortField that accepts Parsers is deprecated and you can pull the Type from the CachedArrayCreator which is the preferred way of creating a SortField.  I did exploit this to reduce the code in the instanceof comparisons.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="13052368" author="simonw" created="Tue, 21 Jun 2011 07:32:35 +0100"  >&lt;p&gt;looks good to me. BTW. should we backport those changes?&lt;/p&gt;</comment>
                    <comment id="13052377" author="cmale" created="Tue, 21 Jun 2011 07:51:14 +0100"  >&lt;p&gt;You&apos;ll have to guide me on the backwards compat issue since this is a break due to the fields being public and some methods changing from returning int to returning SortField.Type.&lt;/p&gt;</comment>
                    <comment id="13052387" author="thetaphi" created="Tue, 21 Jun 2011 08:05:11 +0100"  >&lt;p&gt;This issue relates to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3192&quot; title=&quot;SortField.INT / SortField.FLOAT inconsistency with DocValues&quot;&gt;LUCENE-3192&lt;/a&gt;, where I already proposed SortField.Type.&lt;/p&gt;

&lt;p&gt;If we want to backport to 3.x this functionality, we should add deprecated references to the SortField.Type instances directly below SortField. This would make the code not binary backwards compatible, but in most cases a simple recompile should work (most usages are new SortField(&quot;priceInCent&quot;, SortField.INT).&lt;/p&gt;</comment>
                    <comment id="13052390" author="thetaphi" created="Tue, 21 Jun 2011 08:10:03 +0100"  >&lt;p&gt;At the end of the day, I am sure I will vote to leave it as it is in 3.x!&lt;/p&gt;

&lt;p&gt;SortField is heavy-used in Lucene client code and the backwards breaks without very sophisticated backwards layers are horrible to handle. It can be done, but I dont think its worth the work just for code beauty.&lt;/p&gt;</comment>
                    <comment id="13052402" author="cmale" created="Tue, 21 Jun 2011 08:34:32 +0100"  >&lt;p&gt;For the reasons described above, I think its best we don&apos;t backport this change.  &lt;/p&gt;

&lt;p&gt;Uwe, is the work here compatible with what you had planned in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3192&quot; title=&quot;SortField.INT / SortField.FLOAT inconsistency with DocValues&quot;&gt;LUCENE-3192&lt;/a&gt;?  If so, I&apos;ll go ahead and commit this.&lt;/p&gt;</comment>
                    <comment id="13052404" author="thetaphi" created="Tue, 21 Jun 2011 08:39:26 +0100"  >&lt;p&gt;Just commit this, the other issue is quite unrelated, I just had same idea.&lt;/p&gt;</comment>
                    <comment id="13052991" author="cmale" created="Wed, 22 Jun 2011 02:49:05 +0100"  >&lt;p&gt;Committed revision 1138276.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12509908">LUCENE-3192</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                <outwardlinks description="depends upon">
                            <issuelink>
            <issuekey id="12507839">SOLR-2533</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12483236" name="LUCENE-3219.patch" size="72169" author="cmale" created="Tue, 21 Jun 2011 03:37:47 +0100" />
                    <attachment id="12483177" name="LUCENE-3219.patch" size="72375" author="cmale" created="Mon, 20 Jun 2011 18:17:34 +0100" />
                    <attachment id="12483176" name="LUCENE-3219.patch" size="72362" author="cmale" created="Mon, 20 Jun 2011 18:14:46 +0100" />
                    <attachment id="12483127" name="LUCENE-3219.patch" size="53839" author="cmale" created="Mon, 20 Jun 2011 10:18:52 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 20 Jun 2011 08:54:18 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10776</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24478</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>