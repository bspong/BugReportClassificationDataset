<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:20:13 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1438/LUCENE-1438.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1438] StandardTokenizer splits host names with hyphens into multiple tokens</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1438</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>
&lt;p&gt;StandardTokenizer does not recognize host names with hyphens as a single HOST token. Specifically &quot;www.m-w.com&quot; is tokenized as &quot;www.m&quot; and &quot;w.com&quot;, both of &quot;&amp;lt;HOST&amp;gt;&quot; type.&lt;/p&gt;

&lt;p&gt;StandardTokenizer should instead output a single HOST token for &quot;www.m-w.com&quot;, since hyphens are a legitimate character in DNS host names.&lt;/p&gt;

&lt;p&gt;We&apos;ve a local fix to the grammar file which also required us to significantly simplify the NUM type to get the behavior we needed for host names.&lt;/p&gt;

&lt;p&gt;here&apos;s a junit test for the desired behavior;&lt;/p&gt;

&lt;p&gt;	public void testWithHyphens() throws Exception &lt;/p&gt;
{
		final String host = &quot;www.m-w.com&quot;;
		final StandardTokenizer tokenizer = new StandardTokenizer(
				new StringReader(host));
		final Token token = new Token();
		tokenizer.next(token);
		assertEquals(&quot;&amp;lt;HOST&amp;gt;&quot;, token.type());
		assertEquals(&quot;www.m-w.com&quot;, token.term());
	}
</description>
                <environment></environment>
            <key id="12407783">LUCENE-1438</key>
            <summary>StandardTokenizer splits host names with hyphens into multiple tokens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rnewson">Robert Newson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Nov 2008 14:17:48 +0000</created>
                <updated>Mon, 16 May 2011 19:15:52 +0100</updated>
                    <resolved>Tue, 25 Jan 2011 19:46:09 +0000</resolved>
                            <version>2.4</version>
                                <fixVersion>3.1</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="12657143" author="gshackles" created="Tue, 16 Dec 2008 20:11:23 +0000"  >&lt;p&gt;I ran into this same problem.  Some examples are:&lt;/p&gt;

&lt;p&gt;www.1-800-flowers.com gets split into www.1-800 and flowers.com&lt;/p&gt;

&lt;p&gt;1-800-flowers.com gets split into 1-800-flowers and com&lt;/p&gt;


&lt;p&gt;Is there any chance of this being looked at sometime soon?&lt;/p&gt;</comment>
                    <comment id="12657161" author="shaie" created="Tue, 16 Dec 2008 20:58:17 +0000"  >&lt;p&gt;These two are not so simple to tackle. They are results of several rules.&lt;/p&gt;

&lt;p&gt;1-800-flowers.com is split that way because of the NUM rule, and the HOST rule. The HOST rule requires the token to have some alphanumeric characters, followed by one or more (&quot;.&quot; &lt;/p&gt;
{ALPHANUM}
&lt;p&gt;) strings. Therefore this string is not detected as a HOST.&lt;br/&gt;
If we were to change the rule to recognize that string as a HOST, then we&apos;d be wrong for strings like &quot;file.pdf&quot;, which is clearly not a host. So I don&apos;t think how we can satisfy everyone.&lt;/p&gt;

&lt;p&gt;For the string www.1-800-flowers.com - the reason it&apos;s split is because of the &quot;-&quot; not included in the HOST definition.&lt;/p&gt;

&lt;p&gt;But .. this was stated already in other threads w.r.t. StandardTokenizer - it is just a default tokenizer that ships with Lucene. It is not meant to be &lt;b&gt;THE&lt;/b&gt; tokenizer, and what will make sense to one will not fit the other.&lt;/p&gt;

&lt;p&gt;Personally, I think that if you want to correctly identify hosts (or emails, or any other pattern), you should use a specially written annotator (it will be interesting to see a contribution, if there isn&apos;t one yet, that integrates between UIMA and Analyzer), rather than rely on some rule that we can argue about for ages. Or ... simply copy most of StandardTokenizer&apos;s grammar and change the HOST. I believe it will generate more promising results than trying to change the HOST definition now, since it depends on other definitions, like &lt;/p&gt;
{NUM}
&lt;p&gt;, which sometimes can override other definitions.&lt;/p&gt;</comment>
                    <comment id="12986645" author="thetaphi" created="Tue, 25 Jan 2011 19:46:09 +0000"  >&lt;p&gt;In 3.1 there will be a replacement for the obsolete StandardTokenizer (the deprecated old one is now called ClassicTokenizer): &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2167&quot; title=&quot;Implement StandardTokenizer with the UAX#29 Standard&quot;&gt;&lt;del&gt;LUCENE-2167&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2763&quot; title=&quot;Swap URL+Email recognizing StandardTokenizer and UAX29Tokenizer&quot;&gt;&lt;del&gt;LUCENE-2763&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;StandardTokenizer as of Lucene 3.1 does not handle host names alltogether; instead you can use UAX29URLEmailTokenizer instead (also in standard package).&lt;/p&gt;</comment>
                    <comment id="13013370" author="gsingers" created="Wed, 30 Mar 2011 16:50:07 +0100"  >&lt;p&gt;Bulk close for 3.1&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 16 Dec 2008 20:11:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12313</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26290</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>