<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 12:59:02 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2561/LUCENE-2561.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2561] Fix exception handling and thread safety in realtime branch</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2561</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Several tests are currently failing in the realtime branch - most of them due to thread safety problems (often exceptions in ConcurrentMergeScheduler) and in tests that test for aborting and non-aborting exceptions.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12470075">LUCENE-2561</key>
            <summary>Fix exception handling and thread safety in realtime branch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="michaelbusch">Michael Busch</assignee>
                                <reporter username="michaelbusch">Michael Busch</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Jul 2010 07:09:40 +0100</created>
                <updated>Wed, 28 Jul 2010 17:22:05 +0100</updated>
                    <resolved>Wed, 28 Jul 2010 17:22:05 +0100</resolved>
                                            <fixVersion>Realtime Branch</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12892909" author="michaelbusch" created="Tue, 27 Jul 2010 20:54:11 +0100"  >&lt;p&gt;The patch fixes most of the threading and exception issues.&lt;/p&gt;

&lt;p&gt;Now &amp;gt;99% of the core tests pass!  Some failures are expected, because some features aren&apos;t implemented yet (e.g. flush by RAM or maxBufferedDeletes).  A test though that I still want to fix with this patch is TestStressIndexing2 - not sure yet what&apos;s going on.&lt;/p&gt;

&lt;p&gt;Other changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Factored ReaderPool out of IndexWriter into its own class&lt;/li&gt;
	&lt;li&gt;Added a FilterDirectory that forwards all method calls to a delegate&lt;/li&gt;
	&lt;li&gt;Use an extended FilterDirectory in DW to track all files the consumers and codecs open, so that they can be closed on abort&lt;/li&gt;
	&lt;li&gt;Fixed some more nocommits&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Using the FilterDirectory might not be the cleanest approach?  Maybe a IndexOutputFactory or something would be cleaner?  Or maybe on abort we should just delete all files that have the prefix of the segment(s) the DWPT(s) were working on?  This should be possible now that the shared doc stores are gone and no files are shared anymore across segments.&lt;/p&gt;</comment>
                    <comment id="12892918" author="michaelbusch" created="Tue, 27 Jul 2010 21:35:32 +0100"  >&lt;p&gt;Committed the current patch to the realtime branch. (revision 979856)&lt;/p&gt;

&lt;p&gt;Leaving this issue open to fix TestStressIndexing2 and for more cleanup.&lt;/p&gt;</comment>
                    <comment id="12893235" author="michaelbusch" created="Wed, 28 Jul 2010 17:22:05 +0100"  >&lt;p&gt;TestStressIndexing2 is not failing because of concurrency problems, so I&apos;m closing this issue.&lt;br/&gt;
All contrib tests pass now too!  &lt;/p&gt;

&lt;p&gt;The reason why TestStressIndexing2 is failing is that deletes and sequenceIDs aren&apos;t fully implemented yet.  The remapDeletes step is still commented out, which results in a wrong behavior as soon as segment merges happen while deletes are buffered.  (I&apos;ll use &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2558&quot; title=&quot;Use sequence ids for deleted docs&quot;&gt;LUCENE-2558&lt;/a&gt; to fix that)&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12450622" name="lucene-2561.patch" size="58141" author="michaelbusch" created="Tue, 27 Jul 2010 20:54:11 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11269</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25131</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>