<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:01:05 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1923/LUCENE-1923.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1923] Add toString() or getName() method to IndexReader</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1923</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;It would be very useful for debugging if IndexReader either had a getName() method, or a toString() implementation that would get a string identification for the reader.&lt;/p&gt;

&lt;p&gt;for SegmentReader, this would return the same as getSegmentName()&lt;br/&gt;
for Directory readers, this would return the &quot;generation id&quot;?&lt;br/&gt;
for MultiReader, this could return something like &quot;multi(sub reader name, sub reader name, sub reader name, ...)&lt;/p&gt;

&lt;p&gt;right now, i have to check instanceof for SegmentReader, then call getSegmentName(), and for all other IndexReader types, i would have to do something like get the IndexCommit and get the generation off it (and this may throw UnsupportedOperationException, at which point i have would have to recursively walk sub readers and try again)&lt;/p&gt;

&lt;p&gt;I could work up a patch if others like this idea&lt;/p&gt;</description>
                <environment></environment>
            <key id="12436414">LUCENE-1923</key>
            <summary>Add toString() or getName() method to IndexReader</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="tsmith">Tim Smith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Sep 2009 14:30:09 +0100</created>
                <updated>Fri, 10 May 2013 11:44:09 +0100</updated>
                    <resolved>Sat, 19 Dec 2009 10:45:17 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12758712" author="mikemccand" created="Wed, 23 Sep 2009 15:14:33 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    <comment id="12758717" author="tsmith" created="Wed, 23 Sep 2009 15:30:06 +0100"  >&lt;p&gt;I&apos;ll work up a patch that will do the following:&lt;/p&gt;

&lt;p&gt;add getName() method to IndexReader (and all subclasses (SegmentReader, DirectoryReader, MultiReader, any others i&apos;m not currently aware of that i track down)&lt;/p&gt;

&lt;p&gt;have toString() return &quot;indexreaderclassname(getName())&quot;&lt;/p&gt;

&lt;p&gt;so, toString for a SegmentReader will look something like:&lt;br/&gt;
&quot;org.apache.lucene.index.SegmentReader(_ae)&quot;&lt;/p&gt;

&lt;p&gt;for a DirectoryReader, it&apos;ll look like:&lt;br/&gt;
&quot;org.apache.lucene.index.DirectoryReader(segments_7)&quot;&lt;/p&gt;
</comment>
                    <comment id="12759074" author="mikemccand" created="Thu, 24 Sep 2009 10:50:41 +0100"  >&lt;p&gt;That sounds like a good approach.&lt;/p&gt;

&lt;p&gt;Though maybe getName() for DirectoryReader should state segments_7 plus the names of the segments?&lt;/p&gt;</comment>
                    <comment id="12787290" author="markrmiller@gmail.com" created="Tue, 8 Dec 2009 03:53:28 +0000"  >&lt;p&gt;Hows that patch coming &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12787472" author="tsmith" created="Tue, 8 Dec 2009 14:14:11 +0000"  >&lt;p&gt;i won&apos;t have the time till after the new year.&lt;/p&gt;

&lt;p&gt;if someone else wants to work up a patch, go for it (this seems simple enough and adds some nice info capabilities for logging/etc), otherwise, i&apos;ll get to it when i can&lt;/p&gt;</comment>
                    <comment id="12787725" author="tsmith" created="Tue, 8 Dec 2009 20:29:57 +0000"  >&lt;p&gt;Here&apos;s a simple patch to get the ball rolling&lt;/p&gt;

&lt;p&gt;This adds a &quot;getName() method to IndexReader&lt;/p&gt;

&lt;p&gt;the default implementation will be:&lt;br/&gt;
SimleClassName(subreader.getName(), subreader.getName(), ...)&lt;/p&gt;

&lt;p&gt;SegmentReader will return same value as getSegmentName()&lt;/p&gt;

&lt;p&gt;DirectoryReader will return:&lt;br/&gt;
DirectoryReader(segment_N, segment.getName(), segment.getName(), ...)&lt;/p&gt;

&lt;p&gt;ParallelReader will return:&lt;br/&gt;
ParallelReader(parallelReader1.getName(), parallelReader2.getName(), ...)&lt;/p&gt;

&lt;p&gt;this currently does not have a toString() implementation return getName() &lt;/p&gt;

&lt;p&gt;do with this patch as you will&lt;/p&gt;</comment>
                    <comment id="12790651" author="mikemccand" created="Tue, 15 Dec 2009 10:32:12 +0000"  >&lt;p&gt;Is there any reason not to simply use toString()?  Why create getName?&lt;/p&gt;</comment>
                    <comment id="12790803" author="tsmith" created="Tue, 15 Dec 2009 16:26:59 +0000"  >&lt;p&gt;added getName() in case anyone is currently relying on current (default) output from toString() on index readers&lt;/p&gt;

&lt;p&gt;feel free to rename the getName() methods to toString()&lt;/p&gt;</comment>
                    <comment id="12791497" author="mikemccand" created="Wed, 16 Dec 2009 18:09:34 +0000"  >&lt;p&gt;OK new patch attached, cutting over to toString, and also moving SegmentInfo&apos;s segString -&amp;gt; toString.&lt;/p&gt;</comment>
                    <comment id="12792440" author="mikemccand" created="Fri, 18 Dec 2009 11:31:06 +0000"  >&lt;p&gt;Thanks Tim!&lt;/p&gt;</comment>
                    <comment id="12792470" author="mikemccand" created="Fri, 18 Dec 2009 13:23:11 +0000"  >&lt;p&gt;A few things still to fix.... a RODirReader doesn&apos;t toString right; the SR&apos;s should add a * (eg) if they have pending changes; the SR&apos;s should also reflect accurate delCount when they have pending deletes.  I&apos;ll work on this...&lt;/p&gt;</comment>
                    <comment id="12792492" author="mikemccand" created="Fri, 18 Dec 2009 14:38:30 +0000"  >&lt;p&gt;New patch fixing above issues...&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12428443" name="LUCENE-1923.patch" size="6273" author="mikemccand" created="Fri, 18 Dec 2009 14:38:30 +0000" />
                    <attachment id="12428199" name="LUCENE-1923.patch" size="8537" author="mikemccand" created="Wed, 16 Dec 2009 18:09:34 +0000" />
                    <attachment id="12427383" name="LUCENE-1923.patch" size="3342" author="tsmith" created="Tue, 8 Dec 2009 20:29:57 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 23 Sep 2009 14:14:33 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11846</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>25802</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>