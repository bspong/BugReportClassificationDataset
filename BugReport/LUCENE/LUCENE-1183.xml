<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:03:48 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1183/LUCENE-1183.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1183] TRStringDistance uses way too much memory (with patch)</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1183</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;The implementation of TRStringDistance is based on version 2.1 of org.apache.commons.lang.StringUtils#getLevenshteinDistance(String, String), which uses an un-optimized implementation of the Levenshtein Distance algorithm (it uses way too much memory). Please see Bug 38911 (&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=38911&quot; class=&quot;external-link&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=38911&lt;/a&gt;) for more information.&lt;/p&gt;

&lt;p&gt;The commons-lang implementation has been heavily optimized as of version 2.2 (3x speed-up). I have reported the new implementation to TRStringDistance.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12389205">LUCENE-1183</key>
            <summary>TRStringDistance uses way too much memory (with patch)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="rcmuir">Robert Muir</assignee>
                                <reporter username="cedrik.lime@gmail.com">C&#233;drik LIME</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2008 11:18:46 +0000</created>
                <updated>Fri, 10 May 2013 11:44:47 +0100</updated>
                    <resolved>Sat, 7 Aug 2010 20:50:34 +0100</resolved>
                            <version>1.9</version>
                <version>2.0.0</version>
                <version>2.1</version>
                <version>2.2</version>
                <version>2.3</version>
                                <fixVersion>3.0</fixVersion>
                                <component>modules/other</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                    <timeestimate seconds="600">10m</timeestimate>
                                  <comments>
                    <comment id="12571018" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 11:22:17 +0000"  >&lt;p&gt;new TRStringDistance implementation, as patch and as complete source file.&lt;/p&gt;</comment>
                    <comment id="12571040" author="gsingers" created="Thu, 21 Feb 2008 13:38:21 +0000"  >&lt;p&gt;It occurs to me that we apparently have two different implementations of Levenshtein, one in spellchecker and one for FuzzyQuery.  I haven&apos;t analyzed them individually to know for sure, but if this is a much better implementation, then we should think about using it for FuzzyQuery, too.  &lt;/p&gt;

&lt;p&gt;The FuzzyQuery (FuzzyTermEnum) version claims to have a fast-fail mechanism, too:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;lt;p&amp;gt;Embedded within this algorithm is a fail-fast Levenshtein distance&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;algorithm.  The fail-fast algorithm differs from the standard Levenshtein&lt;/li&gt;
	&lt;li&gt;distance algorithm in that it is aborted if it is discovered that the&lt;/li&gt;
	&lt;li&gt;mimimum distance between the words is greater than some threshold.&lt;br/&gt;
   *&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Cedrik, since you seem to know about these things, would you have time to look at FuzzyTermEnum?  A 3x speedup there would be great for users, too.&lt;/p&gt;</comment>
                    <comment id="12571044" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 13:57:40 +0000"  >&lt;p&gt;You caught me while I was finalizing a patch for FuzzyTermEnum... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll add it to this bug report in the next few minutes.&lt;/p&gt;</comment>
                    <comment id="12571045" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 13:59:40 +0000"  >&lt;p&gt;Patch for FuzzyTermEnum.&lt;/p&gt;</comment>
                    <comment id="12571053" author="karl.wettin" created="Thu, 21 Feb 2008 14:40:08 +0000"  >&lt;p&gt;Also see &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-691&quot; title=&quot;Bob Carpenter&amp;#39;s FuzzyTermEnum refactoring&quot;&gt;&lt;del&gt;LUCENE-691&lt;/del&gt;&lt;/a&gt; if you are looking at optimizing FuzzyTermEnum.&lt;/p&gt;
</comment>
                    <comment id="12571062" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 15:05:41 +0000"  >&lt;p&gt;Well spotted Karl! My version is very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-691&quot; title=&quot;Bob Carpenter&amp;#39;s FuzzyTermEnum refactoring&quot;&gt;&lt;del&gt;LUCENE-691&lt;/del&gt;&lt;/a&gt;, except I kept some smallish optimisations out the the sake of readability. I&apos;ll incorporate some of his changes/ideas and publish a new patch.&lt;br/&gt;
Can someone link those 2 issues together in the meantime? (There are too many options in the drop-down; don&apos;t know which one to choose.)&lt;/p&gt;</comment>
                    <comment id="12571072" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 15:27:22 +0000"  >&lt;p&gt;New patch for FuzzyTermEnum, incorporating most of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-691&quot; title=&quot;Bob Carpenter&amp;#39;s FuzzyTermEnum refactoring&quot;&gt;&lt;del&gt;LUCENE-691&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    <comment id="12571078" author="karl.wettin" created="Thu, 21 Feb 2008 15:39:58 +0000"  >&lt;p&gt;on request by issue reporter&lt;/p&gt;</comment>
                    <comment id="12598918" author="otis" created="Thu, 22 May 2008 07:29:40 +0100"  >&lt;p&gt;Committed the TRStringDistance patch &amp;#8211; thank you!&lt;/p&gt;

&lt;p&gt;Committed revision 659016.&lt;/p&gt;


&lt;p&gt;I&apos;ll leave the FuzzyTermEnum patch for a later date.  Is there anything in Bob&apos;s FuzzyTermEnum that is not in this patch?  Anything that you&apos;d want to add, C&#233;drik?&lt;/p&gt;</comment>
                    <comment id="12599799" author="cedrik.lime@gmail.com" created="Mon, 26 May 2008 10:39:59 +0100"  >&lt;p&gt;All of Bob&apos;s FuzzyTermEnum patch is in my patch. I only left some smallish optimizations that didn&apos;t bring much but did hurt code readability. In other words, should you commit my patch, you will have most of (99.9%) &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-691&quot; title=&quot;Bob Carpenter&amp;#39;s FuzzyTermEnum refactoring&quot;&gt;&lt;del&gt;LUCENE-691&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I think this is an important patch for Lucene 2.4, as it brings vast performance improvements in fuzzy search (no hard numbers, sorry).&lt;/p&gt;</comment>
                    <comment id="12767805" author="cedrik_lime" created="Tue, 20 Oct 2009 14:17:33 +0100"  >&lt;p&gt;Any news on the landing of this patch?&lt;br/&gt;
Now that Lucene 2.9 is out, the vastly better memory usage and speed-up would be a welcome addition to Lucene 3.0&apos;s fuzzy search!&lt;/p&gt;</comment>
                    <comment id="12767820" author="mikemccand" created="Tue, 20 Oct 2009 15:56:21 +0100"  >&lt;p&gt;C&#233;drik, could you update the patch to trunk?  It sounds like a compelling improvement.  We should get it in.&lt;/p&gt;</comment>
                    <comment id="12767928" author="cedrik_lime" created="Tue, 20 Oct 2009 21:21:13 +0100"  >&lt;p&gt;Thanks Michael.&lt;br/&gt;
FuzzyTermEnum.java has not changed for more than 2 years. The uploaded patch (FuzzyTermEnum.patch) is still valid for trunk.&lt;/p&gt;</comment>
                    <comment id="12767935" author="mikemccand" created="Tue, 20 Oct 2009 21:50:24 +0100"  >&lt;p&gt;OK I had 2 hunks fail but I managed to apply them.&lt;/p&gt;</comment>
                    <comment id="12767945" author="mikemccand" created="Tue, 20 Oct 2009 22:23:06 +0100"  >&lt;p&gt;Thanks C&#233;drik!&lt;/p&gt;</comment>
                    <comment id="12896253" author="rcmuir" created="Sat, 7 Aug 2010 14:34:42 +0100"  >&lt;p&gt;these improvements only made it into fuzzyTERMenum but somehow didnt make it into fuzzyTERMSenum on flex branch, and aren&apos;t in trunk!&lt;/p&gt;</comment>
                    <comment id="12896259" author="rcmuir" created="Sat, 7 Aug 2010 15:21:20 +0100"  >&lt;p&gt;here is the patch for FuzzyTermsEnum in trunk&lt;/p&gt;</comment>
                    <comment id="12896262" author="rcmuir" created="Sat, 7 Aug 2010 15:34:24 +0100"  >&lt;p&gt;while I&apos;m here, here is a little patch for 3x_branch to eliminate some useless charAt bounds checks.&lt;/p&gt;</comment>
                    <comment id="12896277" author="rcmuir" created="Sat, 7 Aug 2010 20:50:34 +0100"  >&lt;p&gt;Committed revision 983298 (trunk) and small optimizations 983299 (3x)&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12353655">LUCENE-691</issuekey>
        </issuelink>
                    </outwardlinks>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12353655">LUCENE-691</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12376129" name="FuzzyTermEnum.patch" size="7431" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 15:27:22 +0000" />
                    <attachment id="12451504" name="LUCENE-1183_3x.patch" size="2240" author="rcmuir" created="Sat, 7 Aug 2010 15:34:24 +0100" />
                    <attachment id="12451501" name="LUCENE-1183.patch" size="7179" author="rcmuir" created="Sat, 7 Aug 2010 15:21:20 +0100" />
                    <attachment id="12376117" name="TRStringDistance.java" size="4154" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 11:22:17 +0000" />
                    <attachment id="12376116" name="TRStringDistance.patch" size="5959" author="cedrik.lime@gmail.com" created="Thu, 21 Feb 2008 11:22:17 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 21 Feb 2008 13:38:21 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12562</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26546</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>