<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:10:49 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3232/LUCENE-3232.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3232] Move MutableValues to Common Module</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3232</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;Solr makes use of the MutableValue* series of classes to improve performance of grouping by FunctionQuery (I think).  As such they are used in ValueSource implementations.  Consequently we need to move these classes in order to move the ValueSources.&lt;/p&gt;

&lt;p&gt;As Yonik pointed out, these classes have use beyond just FunctionQuerys and might be used by both Solr and other modules.  However I don&apos;t think they belong in Lucene core, since they aren&apos;t really related to search functionality.  Therefore I think we should put them into a Common module, which can serve as a dependency to Solr and any module.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12511297">LUCENE-3232</key>
            <summary>Move MutableValues to Common Module</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                    <parent id="12496516">LUCENE-2883</parent>
                        <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="cmale">Chris Male</assignee>
                                <reporter username="cmale">Chris Male</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jun 2011 01:38:39 +0100</created>
                <updated>Fri, 10 May 2013 11:44:51 +0100</updated>
                    <resolved>Sat, 25 Jun 2011 01:05:09 +0100</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/search</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13053593" author="cmale" created="Thu, 23 Jun 2011 02:39:08 +0100"  >&lt;p&gt;Code to execute before patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
svn mkdir --parents modules/queries/src/java/org/apache/lucene/queries/function
svn move solr/src/java/org/apache/solr/search/MutableValue.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValue.java
svn move solr/src/java/org/apache/solr/search/MutableValueFloat.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueFloat.java
svn move solr/src/java/org/apache/solr/search/MutableValueBool.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueBool.java
svn move solr/src/java/org/apache/solr/search/MutableValueDate.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueDate.java
svn move solr/src/java/org/apache/solr/search/MutableValueDouble.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueDouble.java
svn move solr/src/java/org/apache/solr/search/MutableValueInt.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueInt.java
svn move solr/src/java/org/apache/solr/search/MutableValueLong.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueLong.java
svn move solr/src/java/org/apache/solr/search/MutableValueStr.java modules/queries/src/java/org/apache/lucene/queries/function/MutableValueStr.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13053596" author="cmale" created="Thu, 23 Jun 2011 02:40:57 +0100"  >&lt;p&gt;Patch that establishes the Queries module and moves the MutableValue classes.  Includes intellij, eclipse and maven work.&lt;/p&gt;

&lt;p&gt;Everything compiles and tests pass.&lt;/p&gt;

&lt;p&gt;It&apos;d be great if someone could review.  I&apos;ll commit in a few days.&lt;/p&gt;</comment>
                    <comment id="13053599" author="yseeley@gmail.com" created="Thu, 23 Jun 2011 02:45:05 +0100"  >&lt;p&gt;These are useful beyond function queries... perhaps they should not be in the &quot;function&quot; module?&lt;/p&gt;</comment>
                    <comment id="13053600" author="cmale" created="Thu, 23 Jun 2011 02:49:04 +0100"  >&lt;p&gt;I&apos;ve debated this backwards and forwards.  Do they have a use case out of function queries at the moment?  If so then yeah I&apos;ll happily put them somewhere else.  Otherwise I&apos;ll cross that bridge at the time.&lt;/p&gt;</comment>
                    <comment id="13053601" author="cmale" created="Thu, 23 Jun 2011 02:50:40 +0100"  >&lt;p&gt;Actually scrap that question, I&apos;ll put them somewhere else immediately.&lt;/p&gt;</comment>
                    <comment id="13053642" author="cmale" created="Thu, 23 Jun 2011 05:22:13 +0100"  >&lt;p&gt;New code to execute with patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;svn mkdir --parents modules/common/src/java/org/apache/lucene/common/mutable
svn move solr/src/java/org/apache/solr/search/MutableValue.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValue.java
svn move solr/src/java/org/apache/solr/search/MutableValueFloat.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueFloat.java
svn move solr/src/java/org/apache/solr/search/MutableValueBool.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueBool.java
svn move solr/src/java/org/apache/solr/search/MutableValueDate.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueDate.java
svn move solr/src/java/org/apache/solr/search/MutableValueDouble.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueDouble.java
svn move solr/src/java/org/apache/solr/search/MutableValueInt.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueInt.java
svn move solr/src/java/org/apache/solr/search/MutableValueLong.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueLong.java
svn move solr/src/java/org/apache/solr/search/MutableValueStr.java modules/common/src/java/org/apache/lucene/common/mutable/MutableValueStr.java
svn move dev-tools/idea/modules/analysis/common/common.iml dev-tools/idea/modules/analysis/common/analysis-common.iml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code includes a change to the common.iml file used by IntelliJ for the Analysis Common module, since this name clashed.&lt;/p&gt;</comment>
                    <comment id="13053643" author="cmale" created="Thu, 23 Jun 2011 05:23:11 +0100"  >&lt;p&gt;New patch which moves the MutableValue code to a Common module.&lt;/p&gt;

&lt;p&gt;Also makes a change to the configuration for the analysis common module in dev-tools, since calling this &apos;common&apos; clashed.&lt;/p&gt;

&lt;p&gt;Compiles and test pass.&lt;/p&gt;</comment>
                    <comment id="13053826" author="mikemccand" created="Thu, 23 Jun 2011 13:51:23 +0100"  >&lt;p&gt;Patch looks great!&lt;/p&gt;

&lt;p&gt;I wonder if we should name this module something more specific, eg docvalues?  values?&lt;/p&gt;

&lt;p&gt;Should we also move over ValueSource, *DocValues, FieldCacheSource?  I think, then, Solr 3.x grouping could cutover and then group by other field types.&lt;/p&gt;</comment>
                    <comment id="13053876" author="simonw" created="Thu, 23 Jun 2011 15:21:25 +0100"  >&lt;blockquote&gt;&lt;p&gt;I wonder if we should name this module something more specific, eg docvalues? values?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;dude! no! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="13054110" author="cmale" created="Thu, 23 Jun 2011 22:28:09 +0100"  >&lt;blockquote&gt;
&lt;p&gt;I wonder if we should name this module something more specific, eg docvalues? values?&lt;/p&gt;

&lt;p&gt;Should we also move over ValueSource, *DocValues, FieldCacheSource? I think, then, Solr 3.x grouping could cutover and then group by other field types.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To be honest, that wasn&apos;t my plan &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;My plan is to first move these to a Common module which will serve basically as a utility module for other modules.  The MutableValue classes are useful in a number of places (or will be in the future).  I envisage other useful utility like classes going into this module in the future too.  Solr for example has a number of very useful utilities that might be of benefit.&lt;/p&gt;

&lt;p&gt;As such, it doesn&apos;t really relate to FunctionQuerys or ValueSources.&lt;/p&gt;

&lt;p&gt;The next step once this is complete is to do what I originally intended and make a Queries module and push FunctionQuery and all the ValueSources / DocValues into that.&lt;/p&gt;

&lt;p&gt;In the end you get the following structure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
modules/
    common/
      (MutableValue*)
    queries/
      (FunctionQuery, *DocValues, *ValueSource, Queries from contrib/queries)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seem reasonable?&lt;/p&gt;</comment>
                    <comment id="13054350" author="mikemccand" created="Fri, 24 Jun 2011 11:40:56 +0100"  >&lt;p&gt;OK this sounds like a good plan... if we can get FQs factored out soonish then we can simply fix grouping module to use that (ie, we don&apos;t need common module to hold the ValueSource, etc.).&lt;/p&gt;

&lt;p&gt;I guess we keep the name &quot;common&quot; for now.  Maybe as we slurp in more stuff from Solr I&apos;ll like the name better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="13054395" author="cmale" created="Fri, 24 Jun 2011 13:13:40 +0100"  >&lt;blockquote&gt;&lt;p&gt;if we can get FQs factored out soonish&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is the last issue preventing me from doing just that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I guess we keep the name &quot;common&quot; for now.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Awesome.  I find it fairly common (ha) in projects to have a common module.  If it doesn&apos;t pan out, then we can either rename it or slurp it into another module.&lt;/p&gt;</comment>
                    <comment id="13054768" author="cmale" created="Sat, 25 Jun 2011 01:04:52 +0100"  >&lt;p&gt;Patch which includes files I missed in the past.  I&apos;ve already committed but this is for archival.&lt;/p&gt;</comment>
                    <comment id="13054770" author="cmale" created="Sat, 25 Jun 2011 01:05:09 +0100"  >&lt;p&gt;Committed revision 1139467.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12483794" name="LUCENE-3232.patch" size="56051" author="cmale" created="Sat, 25 Jun 2011 01:04:52 +0100" />
                    <attachment id="12483544" name="LUCENE-3232.patch" size="37755" author="cmale" created="Thu, 23 Jun 2011 05:23:10 +0100" />
                    <attachment id="12483539" name="LUCENE-3232.patch" size="51033" author="cmale" created="Thu, 23 Jun 2011 02:40:57 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 23 Jun 2011 01:45:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10767</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24465</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>