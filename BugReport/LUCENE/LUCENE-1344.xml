<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:24:32 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-1344/LUCENE-1344.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-1344] Make the Lucene jar an OSGi bundle</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-1344</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;In order to use Lucene in an OSGi environment, some additional headers are needed in the manifest of the jar. As Lucene has no dependency, it is pretty straight forward and it ill be easy to maintain I think.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12400854">LUCENE-1344</key>
            <summary>Make the Lucene jar an OSGi bundle</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="ryantxu">Ryan McKinley</assignee>
                                <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jul 2008 19:14:33 +0100</created>
                <updated>Sun, 3 Jul 2011 16:14:10 +0100</updated>
                    <resolved>Wed, 1 Jun 2011 16:02:28 +0100</resolved>
                                            <fixVersion>3.3</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>general/build</component>
                        <due></due>
                    <votes>12</votes>
                        <watches>10</watches>
                                                    <comments>
                    <comment id="12616198" author="hibou" created="Wed, 23 Jul 2008 19:16:31 +0100"  >&lt;p&gt;Here is a patch against trunk.&lt;/p&gt;

&lt;p&gt;The patch on common-build.xml allows the core or every contrib to package the jar as an OSGi bundle. When building, it just need a property &quot;bundle.manifest.file&quot; which is pointing to the template MANIFEST.MF to use. The patch on build.xml with the MANIFEST.MF makes lucene core jar an OSGi bundle.&lt;/p&gt;

&lt;p&gt;Also in order to not have to maintain a third version scheme, I have added a /release target to compute the versions. So this doc should be updated :&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/lucene-java/ReleaseTodo&quot; class=&quot;external-link&quot;&gt;http://wiki.apache.org/lucene-java/ReleaseTodo&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant -Dversion=2.3.0-rc1 -Dspec.version=2.3.0 clean dist dist-src generate-maven-artifacts&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should be replaced by:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant /release clean dist dist-src generate-maven-artifacts&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then about maintenance, the version in the MANIFEST.MF file is just usefull for people having the Lucene source in Eclipse and usin it as an OSGi bundle. The version is actually overridden while building the jar. And every new java package that is part of the Lucene API have to be added to the Export-Package header.&lt;/p&gt;
</comment>
                    <comment id="12627302" author="hibou" created="Sun, 31 Aug 2008 12:33:40 +0100"  >&lt;p&gt;Updated patch, which fix the Bundle-RequiredExecutionEnvironment, and now the packages are exported with their version&lt;/p&gt;</comment>
                    <comment id="12627304" author="mikemccand" created="Sun, 31 Aug 2008 12:48:22 +0100"  >&lt;p&gt;Should we do this for 2.4?  Nicolas, there are quite a few changes to common-build.xml &amp;#8211; do you see any risks/downsides to these changes?&lt;/p&gt;</comment>
                    <comment id="12627312" author="hibou" created="Sun, 31 Aug 2008 14:54:06 +0100"  >&lt;p&gt;You are right to ask Michael, one part of the patch was risky, the part that was computing the version dynamically. I changed the way the properties were loaded and it made some mess with building the contrib during the release process.&lt;br/&gt;
So I removed it. So then instead of &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dversion=2.3.0-rc1 -Dspec.version=2.3.0 clean dist dist-src generate-maven-artifacts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;there should be&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dversion=2.3.0-rc1 -Dspec.version=2.3.0 -Dbundle.version=2.3.0.cr1 clean dist dist-src generate-maven-artifacts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that there is no spell mistake here. The OSGi specification expects that the qualifier part of the version (the last one) is incremented based on the lexical order. So 2.3.0 &amp;lt; 2.3.0.rc1. But 2.3.0.alpha1 &amp;lt; 2.3.0.beta1 &amp;lt; 2.3.0.beta2 &amp;lt; 2.3.0.cr1 &amp;lt; 2.3.0.final&lt;/p&gt;

&lt;p&gt;About the remaining patch, it is really just about adding additional fields into the manifest.mf, addition which is triggered by the existence of the bundle.manifest.file property. I attached the diff of the manifest of the core of a 2.4.0 release, between the trunk version and the patched one. And If I remove the property bundle.manifest.file from the build.xml, there is no diff at all (apart from the Implementation-Version because of the timestamp).&lt;/p&gt;
</comment>
                    <comment id="12628348" author="mikemccand" created="Thu, 4 Sep 2008 15:50:07 +0100"  >
&lt;p&gt;Nicolas, does this mean we need to maintain the new&lt;br/&gt;
META-INF/MANIFEST.MF, manually?  Ie on each release go edit it &amp;amp; bump&lt;br/&gt;
up the versions in there?  (We need to update the wiki to this effect&lt;br/&gt;
too)&lt;/p&gt;

&lt;p&gt;There are quite a few &quot;copies&quot; of version in there, and for example we&lt;br/&gt;
have Bundle-Version: 2.4.0.dev and then Specification-Version:&lt;br/&gt;
2.4.0-dev &amp;#8211; is that right?  (Ie, one uses &quot;.&quot; and the other uses&lt;br/&gt;
&quot;-&quot;).&lt;/p&gt;

&lt;p&gt;I was able to generate a release candidate using your command above.&lt;br/&gt;
What command would be used to generate the actual release?  (Ie, what&lt;br/&gt;
to specify for version, spec.version and bundle.version?).&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So 2.3.0 &amp;lt; 2.3.0.rc1. But 2.3.0.alpha1 &amp;lt; 2.3.0.beta1 &amp;lt; 2.3.0.beta2 &amp;lt; 2.3.0.cr1 &amp;lt; 2.3.0.final&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK I&apos;m a little confused by this.  What does &quot;cr1&quot; mean?  And, while I&lt;br/&gt;
can see the lexicographic sort order, your first case (2.3.0 &amp;lt;&lt;br/&gt;
2.3.0rc1) seems backwards because 2.3.0rc1 (&quot;release candidate 1&quot;)&lt;br/&gt;
arrives before 2.3.0 (this is the released 2.3.0 right?) in time,&lt;br/&gt;
whereas in the 2nd case those releases are in time order.  I&apos;m&lt;br/&gt;
confused.&lt;/p&gt;

&lt;p&gt;Sorry for the silly questions &amp;#8211; I know very little about OSGi bundles!&lt;/p&gt;</comment>
                    <comment id="12628370" author="hibou" created="Thu, 4 Sep 2008 17:16:49 +0100"  >
&lt;blockquote&gt;&lt;p&gt;Nicolas, does this mean we need to maintain the new META-INF/MANIFEST.MF, manually? Ie on each release go edit it &amp;amp; bump up the versions in there? (We need to update the wiki to this effect too)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;in the META-INF/MANIFEST.MF, only the Export-Package header is important to maintain. The other headers will never change or will be overrided by the build system. The other headers are also there for the users (aka me) that have imported the Lucene source in Eclipse and are willing to use it as an OSGi bundle.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There are quite a few &quot;copies&quot; of version in there, and for example we have Bundle-Version: 2.4.0.dev and then Specification-Version: 2.4.0-dev - is that right? (Ie, one uses &quot;.&quot; and the other uses &quot;-&quot;).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;About the different version schemes, yep, this is yet another one to maintain. The version number taken into account in a OSGI environment is &quot;Bundle-Version&quot;, I don&apos;t know what the header &quot;Specification-Version&quot; is used for. I tried to refactor a little bit in the build system to generate the version numbers, but I failed, a more bigger patch would be needed (I am willing to do some if needed).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I was able to generate a release candidate using your command above. What command would be used to generate the actual release? (Ie, what to specify for version, spec.version and bundle.version?).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It will be just about adding the OSGi version to the current used command line:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dversion=2.3.0 -Dbundle.version=2.3.0.final clean dist dist-src generate-maven-artifacts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;OK I&apos;m a little confused by this. What does &quot;cr1&quot; mean?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;it would mean &quot;candidate release 1&quot;. Not very english but it is the best we found when &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/ant-dev/200808.mbox/%3C635a05060808280848q6a4741bbx8014ae429cd518cf@mail.gmail.com%3E&quot; class=&quot;external-link&quot;&gt;discussing about it&lt;/a&gt; for Ivy.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;And, while I can see the lexicographic sort order, your first case (2.3.0 &amp;lt; 2.3.0rc1) seems backwards because 2.3.0rc1 (&quot;release candidate 1&quot;) arrives before 2.3.0 (this is the released 2.3.0 right?) in time, whereas in the 2nd case those releases are in time order. I&apos;m confused.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That was exactly my point. Due to the way OSGi orders the versions, if the release candicate version number is 2.3.0.rc1, and the final version is 2.3.0.final, then OSGi will understand that 2.3.0.final is previous to 2.3.0.rc1, which is wrong. In the second case, if the release candidate number is 2.3.0.cr1, then OSGI will be right and will order the different Lucene version as expected.&lt;br/&gt;
You could also choose 2.3.0.rc1 and 2.3.0.zfinal but then it is a question of taste &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Sorry for the silly questions - I know very little about OSGi bundles!&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;your questions are welcomed Michael &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12628965" author="mikemccand" created="Sun, 7 Sep 2008 12:02:00 +0100"  >
&lt;p&gt;Thanks Nicolas.  I understand a bit more now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;One problem: even though I was able to successfully run the above command, the resulting MANIFEST.MF in the Lucene core JAR (dist/maven/org/apache/lucene/lucene-core/2.3.0/lucene-core-2.3.0.jar) does not have any of your added lines (eg Export-Package) &amp;#8211; do you see this too?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;About the different version schemes, yep, this is yet another one to maintain. The version number taken into account in a OSGI environment is &quot;Bundle-Version&quot;, I don&apos;t know what the header &quot;Specification-Version&quot; is used for. I tried to refactor a little bit in the build system to generate the version numbers, but I failed, a more bigger patch would be needed (I am willing to do some if needed).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it&apos;s OK for now if we have to update the versions in META-INF/MANIFEST.MF manually as part of the release process?  (It sounds hard to get the build to autogen the versions).&lt;/p&gt;</comment>
                    <comment id="12629954" author="hibou" created="Wed, 10 Sep 2008 21:37:42 +0100"  >&lt;p&gt;About the missing header in the maven jar, this is weird because they exist in every other jar in the distrib but in the maven one. And this is a lot more strange to see that the manifest of the lucene core jar is in fact the manifest of the demo one... And I retested without the patch, everything works correctly. I don&apos;t see yet how it can happen.&lt;/p&gt;

&lt;p&gt;And the META-INF/MANIFEST.MF file doesn&apos;t have to be updated when releasing. The build process is overriding the header entries. The file is mainly a template. See the &lt;tt&gt;build-bundle-manifest&lt;/tt&gt; macro in the patch.&lt;br/&gt;
But it will have to be updated after the release, just like the common-build.xml, to update the version number.&lt;/p&gt;</comment>
                    <comment id="12630551" author="mikemccand" created="Fri, 12 Sep 2008 12:46:30 +0100"  >&lt;blockquote&gt;
&lt;p&gt;About the missing header in the maven jar, this is weird because they exist in every other jar in the distrib but in the maven one. And this is a lot more strange to see that the manifest of the lucene core jar is in fact the manifest of the demo one... And I retested without the patch, everything works correctly. I don&apos;t see yet how it can happen. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually I can&apos;t find &quot;Export-Package&quot; header in any of the jars under dist/maven/* (at least, contrib/wordnet, contrib/highlighter and contrib/benchmark).&lt;/p&gt;

&lt;p&gt;I&apos;ll hold off committing until you figure this out &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    <comment id="12631279" author="gunnar" created="Tue, 16 Sep 2008 08:29:35 +0100"  >&lt;p&gt;I would love to see bundle headers in the manifests. &lt;/p&gt;

&lt;p&gt;RE: {{&lt;/p&gt;
{2.3.0 &amp;lt; 2.3.0.rc1}
&lt;p&gt;}} &lt;br/&gt;
One way to handle this problem is byI using a timestamp as qualifier when generating the version number. This ensures that each new build is of a higher version. At Eclipse we use a &quot;.qualifier&quot; suffix which will be replaced with the actual CVS/SVN tag at build time. The CVS/SVN tag is actually a timestamp &quot;v20080916-1020&quot; or just an increasing number (eg., &quot;v1, v2, v3...&quot;). It depends on what a project favors. I could also imaging that this would be the SVN revision at build time.&lt;/p&gt;</comment>
                    <comment id="12631380" author="hibou" created="Tue, 16 Sep 2008 13:57:08 +0100"  >&lt;p&gt;This is a good idea as soon as you can be sure that you are building the different versions in the correct order. I think that in most use case, it will work. But it seems wrong to bind the versions order to the builds order.&lt;/p&gt;</comment>
                    <comment id="12631391" author="gunnar" created="Tue, 16 Sep 2008 14:23:31 +0100"  >&lt;blockquote&gt;
&lt;p&gt;But it seems wrong to bind the versions order to the builds order. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not all the versions ... just those which appear to be of the &lt;b&gt;same&lt;/b&gt; version (i.e., same tag or branch). If it&apos;s a different version, you would change the numbers before the qualifier. The qualifier really is just a build identifier. Giving it a meaning full name like &lt;tt&gt;.rc1&lt;/tt&gt; is a nice thing to have. But in reality this is hard to manage with automatic provisioning/update systems. They usually handle automatic updates to a higher build of the same version or a different build of a higher version fine.&lt;/p&gt;</comment>
                    <comment id="12631757" author="mikemccand" created="Wed, 17 Sep 2008 13:34:16 +0100"  >&lt;p&gt;Given the healthy discussion here, plus the fact that the current patch doesn&apos;t actually add Export-Package to the manifest, and this is the last bug holding up 2.4, I think we should take this off the plate for 2.4.&lt;/p&gt;</comment>
                    <comment id="12631760" author="gunnar" created="Wed, 17 Sep 2008 13:45:39 +0100"  >&lt;p&gt;Michael, when would be the last chance to submit a patch for inclusion into 2.4? I really, really need this because I&apos;m about to embed Lucene into an OSGi based solution and this would really help.&lt;/p&gt;</comment>
                    <comment id="12631787" author="mikemccand" created="Wed, 17 Sep 2008 15:18:46 +0100"  >&lt;p&gt;The current plan is to branch tomorrow, freeze the branch for ~10 days, and then release 2.4.  If we can get a patch that works here say in the next few days we might be able to get it into 2.4?&lt;/p&gt;

&lt;p&gt;If/when we do 2.4.1 we could probably backport this into that as well (since it&apos;s a small change).&lt;/p&gt;</comment>
                    <comment id="12631936" author="gunnar" created="Wed, 17 Sep 2008 21:37:16 +0100"  >&lt;p&gt;Michael, attached is a patch which is less intrusive and mimics what Lucene does for Maven. It adds a new target to the &lt;tt&gt;build.xml&lt;/tt&gt; called &lt;tt&gt;generate-osgi-bundles&lt;/tt&gt;. This generated the OSGi bundles into &lt;tt&gt;dist/osgi&lt;/tt&gt; (similar to maven). It uses Peter Kriens Bnd Tool to generate the bundle manifest. Thus, no additional work is involved for you guys.&lt;/p&gt;

&lt;p&gt;Please review and comment. Feel free to commit meanwhile. I&apos;ll continue to work on OSGi-ifing the other JARs as well. However, this is a bit more tricky because it requires a correct classpath setup and I haven&apos;t fully got into how you build contrib jars.&lt;/p&gt;</comment>
                    <comment id="12632144" author="gunnar" created="Thu, 18 Sep 2008 10:17:57 +0100"  >&lt;p&gt;This patch replaces the previous one and implements building OSGi JARS for all contribution. It follows the Maven build, i.e. an OSGi jar will only be created if an osgi.bnd.template file exists. I included one for the analyzers. Others can be contributed individually.&lt;/p&gt;</comment>
                    <comment id="12632156" author="mikemccand" created="Thu, 18 Sep 2008 11:12:56 +0100"  >&lt;p&gt;Thanks Gunnar; I&apos;ll try this today.  What is the suggested ant command-line for building the dist now?&lt;/p&gt;</comment>
                    <comment id="12632159" author="gunnar" created="Thu, 18 Sep 2008 11:24:27 +0100"  >&lt;p&gt;{{{&lt;br/&gt;
ant -Dversion=2.4.0 clean dist dist-src generate-maven-artifacts generate-osgi-artifacts&lt;br/&gt;
}}}&lt;/p&gt;

&lt;p&gt;It&apos;s important to note, that &quot;spec.version&quot; must always be &lt;tt&gt;major.minor.service&lt;/tt&gt; (digits only). The qualifier is automatically computed based on the time stamp.&lt;/p&gt;</comment>
                    <comment id="12632178" author="mikemccand" created="Thu, 18 Sep 2008 12:49:29 +0100"  >&lt;p&gt;Gunnar, when I apply the patch and run a toplevel &quot;ant clean&quot; followed by &quot;ant test&quot;, I hit an error when trying to compile/test contrib/highlighter.  Are you seeing this too?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;compile-highlighter:
     [echo] Building highlighter...

build-memory:
     [echo] Highlighter building dependency /lucene/lucene.osgi/build/contrib/memory/lucene-memory-2.4-dev.jar
     [echo] Building memory...

javacc-uptodate-check:

javacc-notice:

jflex-uptodate-check:

jflex-notice:

common.init:

build-lucene:

init:

clover.setup:

clover.info:
     [echo] 
     [echo]       Clover not found. Code coverage reports disabled.
     [echo]   	

clover:

compile-core:
    [mkdir] Created dir: /lucene/lucene.osgi/build/contrib/highlighter/classes/java
    [javac] Compiling 22 source files to /lucene/lucene.osgi/build/contrib/highlighter/classes/java
    [javac] /lucene/lucene.osgi/contrib/highlighter/src/java/org/apache/lucene/search/highlight/WeightedSpanTermExtractor.java&#728;:35: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.lucene.index.memory does not exist
    [javac] &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.lucene.index.memory.MemoryIndex;
    [javac]                                      ^
    [javac] /lucene/lucene.osgi/contrib/highlighter/src/java/org/apache/lucene/search/highlight/WeightedSpanTermExtractor.java:312: cannot find symbol
    [javac] symbol  : class MemoryIndex
    [javac] location: class org.apache.lucene.search.highlight.WeightedSpanTermExtractor
    [javac]       MemoryIndex indexer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MemoryIndex();
    [javac]       ^
    [javac] /lucene/lucene.osgi/contrib/highlighter/src/java/org/apache/lucene/search/highlight/WeightedSpanTermExtractor.java:312: cannot find symbol
    [javac] symbol  : class MemoryIndex
    [javac] location: class org.apache.lucene.search.highlight.WeightedSpanTermExtractor
    [javac]       MemoryIndex indexer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MemoryIndex();
    [javac]                                 ^
    [javac] 3 errors

BUILD FAILED
/lucene/lucene.osgi/build.xml:562: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/lucene/lucene.osgi/build.xml:552: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/lucene/lucene.osgi/contrib/benchmark/build.xml:173: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/lucene/lucene.osgi/contrib/highlighter/build.xml:41: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/lucene/lucene.osgi/common-build.xml:229: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/lucene/lucene.osgi/common-build.xml:505: Compile failed; see the compiler error output &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="12632201" author="gunnar" created="Thu, 18 Sep 2008 14:03:03 +0100"  >&lt;p&gt;I haven&apos;t tried this sequence but it looks like a general compile error.&lt;/p&gt;</comment>
                    <comment id="12632210" author="mikemccand" created="Thu, 18 Sep 2008 14:39:52 +0100"  >&lt;blockquote&gt;&lt;p&gt;I haven&apos;t tried this sequence but it looks like a general compile error. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, but a clean checkout runs fine, so it&apos;s something in the patch that somehow caused highlighter to no longer see the lucene-memory-2.4-dev.jar I think.&lt;/p&gt;</comment>
                    <comment id="12632212" author="markrmiller@gmail.com" created="Thu, 18 Sep 2008 14:45:33 +0100"  >&lt;p&gt;I think there is an unresolved issue with this anyway...I can&apos;t remember exactly, but I think one target that should work does not because it doesn&apos;t cooperate with the memory stuff (even though the overall build target does work). This may be another manifestation of that issue.&lt;/p&gt;</comment>
                    <comment id="12632220" author="mikemccand" created="Thu, 18 Sep 2008 15:23:05 +0100"  >&lt;p&gt;Hmm &amp;#8211; if I revert this part of the patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -218,7 +225,7 @@
   &amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile-core&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;init, clover&quot;&lt;/span&gt;
           description=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compiles core classes&quot;&lt;/span&gt;&amp;gt;
     &amp;lt;compile
-      srcdir=&lt;span class=&quot;code-quote&quot;&gt;&quot;src/java&quot;&lt;/span&gt;
+      srcdir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${src.dir}&quot;&lt;/span&gt;
       destdir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.dir}/classes/java&quot;&lt;/span&gt;&amp;gt;
       &amp;lt;classpath refid=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath&quot;&lt;/span&gt;/&amp;gt;
     &amp;lt;/compile&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then I&apos;m able to &quot;ant clean&quot; and then &quot;ant test&quot; just fine.  I don&apos;t yet understand why that fixes it, though.&lt;/p&gt;</comment>
                    <comment id="12632223" author="gunnar" created="Thu, 18 Sep 2008 15:26:13 +0100"  >&lt;p&gt;Here is an updated patch which adds OSGi templates for highlighter and memory as well.&lt;/p&gt;

&lt;p&gt;I did a test using &lt;tt&gt;ant -Dversion=2.4.0 clean test dist dist-src generate-osgi-bundles&lt;/tt&gt;. However, it fails because of some failing tests. I also noticed some OutOfMemoryErrors. &lt;/p&gt;

&lt;p&gt;If I just run &lt;tt&gt;ant -Dversion=2.4.0 clean generate-osgi-bundles&lt;/tt&gt; it doesn&apos;t compile and quits with the error you mentioned. However, that&apos;s in the build file area which I didn&apos;t touch.&lt;/p&gt;</comment>
                    <comment id="12632224" author="gunnar" created="Thu, 18 Sep 2008 15:27:53 +0100"  >&lt;p&gt;Ahh .. that makes sense. So it&apos;s caused by the patch. I changed it for consistency reasons but I guess it&apos;s better to revert that. It&apos;s related to how Ant resolves paths and overwrites/inherits properties.&lt;/p&gt;</comment>
                    <comment id="12632225" author="gunnar" created="Thu, 18 Sep 2008 15:29:48 +0100"  >&lt;p&gt;Here is the latest patch which reverts that. Now it compiles fine after a clean.&lt;/p&gt;</comment>
                    <comment id="12632257" author="gunnar" created="Thu, 18 Sep 2008 16:45:19 +0100"  >&lt;p&gt;Michael, I solved the issue with {{$&lt;/p&gt;
{src.dir}}}. &lt;br/&gt;
&lt;br/&gt;
The property is initially set the following way:&lt;br/&gt;
{{{&lt;br/&gt;
&amp;lt;property name=&quot;src.dir&quot; location=&quot;src/java&quot;/&amp;gt;&lt;br/&gt;
}}}&lt;br/&gt;
&lt;br/&gt;
This resolves the path and sets the property to the actually path. It is then inherited to all sub ant calls. Thus, whenever you refer to {{${src.dir}
&lt;p&gt;}} it actually was already set to the outer most. Thus, when &lt;tt&gt;compile-core&lt;/tt&gt; is invoked it actually compiles highlight instead of memory.&lt;/p&gt;

&lt;p&gt;If the property is defined the following way, it will resolve at reference time and not at definition time.&lt;br/&gt;
{{&lt;/p&gt;
{
&amp;lt;property name=&quot;src.dir&quot; value=&quot;src/java&quot;/&amp;gt;
}}
&lt;p&gt;}&lt;/p&gt;</comment>
                    <comment id="12632264" author="mikemccand" created="Thu, 18 Sep 2008 17:00:15 +0100"  >&lt;p&gt;Super, I&apos;ll make that change locally and test.&lt;/p&gt;</comment>
                    <comment id="12632274" author="mikemccand" created="Thu, 18 Sep 2008 17:21:00 +0100"  >&lt;p&gt;OK I was able to generate the OSGI bundles. But, a few questions.&lt;/p&gt;

&lt;p&gt;Under dist/osgi I see these files:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-rw-rw-rw-  1 mike  staff    5408 Sep 18 12:08 org.apache.lucene.core_2.4.0.200809181201.jar
-rw-rw-rw-  1 mike  staff  770986 Sep 18 12:08 org.apache.lucene.core.source_2.4.0.200809181201.jar
-rw-rw-rw-  1 mike  staff    5412 Sep 18 12:08 org.apache.lucene.analyzers_2.4.0.200809181208.jar
-rw-rw-rw-  1 mike  staff  431926 Sep 18 12:08 org.apache.lucene.analyzers.source_2.4.0.200809181208.jar
-rw-rw-rw-  1 mike  staff    5410 Sep 18 12:08 org.apache.lucene.memory_2.4.0.200809181208.jar
-rw-rw-rw-  1 mike  staff   37197 Sep 18 12:08 org.apache.lucene.memory.source_2.4.0.200809181208.jar
-rw-rw-rw-  1 mike  staff    5414 Sep 18 12:08 org.apache.lucene.highlighter_2.4.0.200809181208.jar
-rw-rw-rw-  1 mike  staff   45676 Sep 18 12:08 org.apache.lucene.highlighter.source_2.4.0.200809181208.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shouldn&apos;t we make OSGI bundles for all contrib packages, and core &amp;amp; demo?&lt;/p&gt;

&lt;p&gt;The source jar actually has .java sources, but the binary jars only have META-INF subdir, eg org.apache.lucene.core_2.4.0.200809181201.jar unzips to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Archive:  dist/osgi/org.apache.lucene.core_2.4.0.200809181201.jar
  inflating: META-INF/MANIFEST.MF    
  inflating: META-INF/LICENSE.txt    
  inflating: META-INF/NOTICE.txt     
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that right?  Shouldn&apos;t this jar have the .class files?&lt;/p&gt;

&lt;p&gt;At a higher level, can&apos;t we have the normal JARs produced by the build simply include the necessary OSGI headers in the manifest?  (Why make new JARs?).&lt;/p&gt;

&lt;p&gt;Finally, during the release process, what should we do with the OSGI bundles?  EG the Maven artifacts are copied to a distribution directory so that they are pushed to the central Maven repositories.&lt;/p&gt;</comment>
                    <comment id="12632276" author="mikemccand" created="Thu, 18 Sep 2008 17:23:39 +0100"  >&lt;p&gt;One more confusion on my part.  The manifest for the core source jar (org.apache.lucene.core.source_2.4.0.200809181201.jar) is this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Manifest-Version: 1.0
Ant-Version: Apache Ant 1.7.0
Created-By: 1.6.0_05-b13-52 (Apple Inc.)
Bundle-SymbolicName: org.apache.lucene.core.source
Bundle-ManifestVersion: 2
Bundle-Name: Lucene Search Engine: core source
Bundle-Version: 2.4.0.200809181201
Eclipse-SourceBundle: org.apache.lucene.core;version=&quot;2.4.0.2008091812
 01&quot;
Bundle-Vendor: The Apache Software Foundation
Specification-Title: Lucene Search Engine: core
Specification-Version: 2.4.0
Specification-Vendor: The Apache Software Foundation
Implementation-Title: org.apache.lucene
Implementation-Version: 2.4.0 696661M - 2008-09-18 12:01:47
Implementation-Vendor: The Apache Software Foundation
X-Compile-Source-JDK: 1.4
X-Compile-Target-JDK: 1.4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(Note the newline inside the timestamp on the Eclipse-SourceBundle &amp;#8211; is that OK?).&lt;/p&gt;

&lt;p&gt;Whereas the manifest for the binary jar (org.apache.lucene.core_2.4.0.200809181201.jar) is much smaller:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Manifest-Version: 1.0
Bundle-Vendor: The Apache Software Foundation
Bundle-Version: 2.4.0.200809181201
Bundle-Name: Lucene Search Engine: core
Bundle-ManifestVersion: 2
Bundle-License: http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/licenses/LICENSE-2.0
&lt;/span&gt;Bundle-SymbolicName: org.apache.lucene.core
Bundle-RequiredExecutionEnvironment: J2SE-1.5,J2SE-1.4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that expected?  And the manifest for the source jar is missing at least Bundle-License?&lt;/p&gt;</comment>
                    <comment id="12632375" author="hibou" created="Thu, 18 Sep 2008 21:34:27 +0100"  >&lt;p&gt;I have fixed my patch so the maven jar does contain the OSGi manifest, even if I don&apos;t understand really why the jar are generated twice.&lt;br/&gt;
This new patch contains improvements.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;as suggested by Gunnar, the bundle version will be 2.9.0.$TIMESTAMP-dev.&lt;/li&gt;
	&lt;li&gt;the version of the export package in the header are now controlled by the ant task&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;So the command to build a rc version will be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dspec.version=2.4.0 -Dqualifier.version=rc1 clean dist dist-src generate-maven-artifacts&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will generate:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a lucene-core-2.4.0-rc1.jar&lt;/li&gt;
	&lt;li&gt;a lucene-core-2.4.0-rc1.zip&lt;/li&gt;
	&lt;li&gt;a maven artifact in org/apache/lucene/lucene-core/2.4.0-rc1/lucene-core-2.4.0-rc1.jar&lt;/li&gt;
	&lt;li&gt;the jars will contain the bundle version: 2.4.0.20080918220130-rc1&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;For a final version:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dspec.version=2.4.0 -Dqualifier.version=final clean dist dist-src generate-maven-artifacts&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will generate:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a lucene-core-2.4.0-final.jar&lt;/li&gt;
	&lt;li&gt;a lucene-core-2.4.0-final.zip&lt;/li&gt;
	&lt;li&gt;a maven artifact in org/apache/lucene/lucene-core/2.4.0-final/lucene-core-2.4.0-final.jar&lt;/li&gt;
	&lt;li&gt;the jars will contain the bundle version: 2.4.0.20080918220130-final&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;I know that Lucene distrib used to not add qualifier to the final release, it can still be done with:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant -Dspec.version=2.4.0 -Dqualifier.version=final -Dversion=2.4.0 clean dist dist-src generate-maven-artifacts&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will generate:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a lucene-core-2.4.0.jar&lt;/li&gt;
	&lt;li&gt;a lucene-core-2.4.0.zip&lt;/li&gt;
	&lt;li&gt;a maven artifact in org/apache/lucene/lucene-core/2.4.0/lucene-core-2.4.0.jar&lt;/li&gt;
	&lt;li&gt;the jars will contain the bundle version: 2.4.0.20080918220130-final&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    <comment id="12632582" author="gunnar" created="Fri, 19 Sep 2008 09:29:23 +0100"  >&lt;p&gt;Michael, the attached patch adds the bundle license header for the source bundles. I also started to add descriptors for two more contrib jars (queries and xml parser). It gets a bit messy now because of split-packages, i.e. the queries jar exports the same package (org.apache.lucene.search) as Lucene core. This requires to add split packages headers to the manifests. Additional, the &quot;-&quot; (dash) is invalid so I had to override the default bundle symbolic name for the xml-query-parser jar. I use the package name.&lt;/p&gt;

&lt;p&gt;The OSGi JARs don&apos;t need to be uploaded somewhere. It&apos;s enough to just put them on the FTP mirrors next to the regular distribution.&lt;/p&gt;

&lt;p&gt;Nicholas, we generate different JARs for OSGi because I don&apos;t like to mix and match things. OSGi should be separated from Maven. They are different. For example, in OSGi it&apos;s a good practice to name the JAR like the bundle symbolic name and to include the version. Otherwise you&apos;ll run into problems because bundle repositories are usually not hierarchically organized like Maven repos.&lt;/p&gt;

&lt;p&gt;Michael, do we need a &quot;-final&quot; or &quot;-dev&quot; indicator on the JAR names and bundle versions?&lt;/p&gt;
</comment>
                    <comment id="12632593" author="hibou" created="Fri, 19 Sep 2008 10:16:50 +0100"  >&lt;blockquote&gt;&lt;p&gt;Nicholas, we generate different JARs for OSGi because I don&apos;t like to mix and match things. OSGi should be separated from Maven.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Maven is about building and resolving dependencies, OSGi is about a running environement. And they can be mixed with no worry, it even exists &lt;a href=&quot;http://felix.apache.org/site/apache-felix-maven-osgi-plugin.html&quot; class=&quot;external-link&quot;&gt;a maven plugin&lt;/a&gt; to handle OSGi headers, and a &lt;a href=&quot;http://www.springsource.com/repository&quot; class=&quot;external-link&quot;&gt;maven repository&lt;/a&gt; full of OSGi bundles.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;They are different. For example, in OSGi it&apos;s a good practice to name the JAR like the bundle symbolic name and to include the version. Otherwise you&apos;ll run into problems because bundle repositories are usually not hierarchically organized like Maven repos.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think the purpose here is to make Lucene have its own OSGi repository. And nothing here prevents you to build a pure OSGi repository with those jars with the name convention you like.&lt;/p&gt;</comment>
                    <comment id="12632779" author="gunnar" created="Fri, 19 Sep 2008 20:20:54 +0100"  >&lt;p&gt;I&apos;ve updated the patch to include more descriptors for other contrib jars. Should be complete now (except for the ant libs, benchmarks and bdb which can be added later if necessary).&lt;/p&gt;

&lt;p&gt;It&apos;s also possible to set the OSGi qualifier using property &lt;tt&gt;osgi.version.qualifier&lt;/tt&gt;. The default is &lt;tt&gt;.yyyyMMddHHmm&lt;/tt&gt;&lt;/p&gt;</comment>
                    <comment id="12632810" author="mikemccand" created="Fri, 19 Sep 2008 21:33:50 +0100"  >&lt;p&gt;Thanks Gunnar.&lt;/p&gt;

&lt;p&gt;Can you and Nicolas work together to reconcile your two different patches here?  I really know very little about the specifics involved here and am involved more or less as a &quot;catalyst&quot; to try to move things along... thanks.&lt;/p&gt;</comment>
                    <comment id="12632823" author="gunnar" created="Fri, 19 Sep 2008 22:10:22 +0100"  >&lt;p&gt;I&apos;ll collect feedback on the developers list on what way they prefer.&lt;/p&gt;</comment>
                    <comment id="12904112" author="eschnepel" created="Mon, 30 Aug 2010 09:56:08 +0100"  >&lt;p&gt;Is there any progress on this issue?&lt;/p&gt;</comment>
                    <comment id="12969534" author="kbohling" created="Wed, 8 Dec 2010 22:31:06 +0000"  >&lt;p&gt;Attaching a patch that generates a sibling jar file (hopefully it will replace the original Jar files before it is actually committed) that includes all of the OSGi Manifest requirements.  &lt;/p&gt;

&lt;p&gt;All the regular unit tests appear to pass if I use the OSGi bundles instead of the standard jar files (by removing the &amp;lt;jar&amp;gt; task in the &amp;lt;jarify&amp;gt; macro defined in commons-build.xml, and modifying the &amp;lt;bnd&amp;gt; task to use output=&quot;@&lt;/p&gt;
{destfile}
&lt;p&gt;&quot;.  The backward compat tests appear to fail, but I haven&apos;t gotten to the bottom of that just yet.&lt;/p&gt;

&lt;p&gt;It requires that the biz.aQute.bnd.jar be in the lib/ directory.&lt;/p&gt;

&lt;p&gt;From this site:&lt;br/&gt;
&lt;a href=&quot;http://www.aqute.biz/Bnd/Download&quot; class=&quot;external-link&quot;&gt;http://www.aqute.biz/Bnd/Download&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I grabbed it off of this link:&lt;br/&gt;
&lt;a href=&quot;http://dl.dropbox.com/u/2590603/bnd/biz.aQute.bnd.jar&quot; class=&quot;external-link&quot;&gt;http://dl.dropbox.com/u/2590603/bnd/biz.aQute.bnd.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The bnd jar is a standard tool for generating valid and up-to-date OSGi headers with minimal problems.&lt;/p&gt;

&lt;p&gt;I downloaded the commons-math jar file to see the set of headers the commons projects added to their bundles.&lt;/p&gt;

&lt;p&gt;I have not tested any of the contrib bundles in an OSGi environment, but I am using the Lucene Core bundle generated by this.  It is also likely that the $&lt;/p&gt;
{Name}
&lt;p&gt; value should be set in all of the sub-directories to generate better human consumable names for the bundles, currently they are all set to &quot;Lucene&quot;.  Potentially a better description would be useful also.  I believe a couple will have problems (lucli being the most obvious because it isn&apos;t in the org.apache.lucene package structure).  I can do more testing and ensure as much as I can works if this patch would be applied.&lt;/p&gt;

&lt;p&gt;I can port and update this to the 4.0 branch if desirable, and it should be simple to modify to just generate the final Jar files.&lt;/p&gt;</comment>
                    <comment id="13041023" author="luca.stancapiano" created="Mon, 30 May 2011 07:55:21 +0100"  >&lt;p&gt;I&apos;m interested to this feauture too. Is it committed?&lt;/p&gt;</comment>
                    <comment id="13041121" author="ryantxu" created="Mon, 30 May 2011 13:55:26 +0100"  >&lt;p&gt;I have not followed this patch and don&apos;t know how it works...  but this may be pretty easy to add to the (officially unsupported) maven build:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &amp;lt;plugin&amp;gt;
              &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
              &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;
              &amp;lt;version&amp;gt;1.4.0&amp;lt;/version&amp;gt;
              &amp;lt;extensions&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/extensions&amp;gt;
              &amp;lt;configuration&amp;gt;
                  &amp;lt;instructions&amp;gt;
                      &amp;lt;Bundle-SymbolicName&amp;gt;${pom.groupId}.${pom.artifactId}&amp;lt;/Bundle-SymbolicName&amp;gt;
                      &amp;lt;Bundle-Name&amp;gt;${pom.name}&amp;lt;/Bundle-Name&amp;gt;
                      &amp;lt;Bundle-Version&amp;gt;${pom.version}&amp;lt;/Bundle-Version&amp;gt;
                      &amp;lt;Bundle-Activator&amp;gt;org.wso2.mbp.sample01.Activator&amp;lt;/Bundle-Activator&amp;gt;
                      &amp;lt;Private-Package&amp;gt;org.wso2.mbp.sample01&amp;lt;/Private-Package&amp;gt;
                  &amp;lt;/instructions&amp;gt;
              &amp;lt;/configuration&amp;gt;
          &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://wso2.org/library/tutorials/develop-osgi-bundles-using-maven-bundle-plugin&quot; class=&quot;external-link&quot;&gt;http://wso2.org/library/tutorials/develop-osgi-bundles-using-maven-bundle-plugin&lt;/a&gt;&lt;/p&gt;

</comment>
                    <comment id="13041129" author="ildella" created="Mon, 30 May 2011 14:32:09 +0100"  >&lt;p&gt;The solution is almost that one, just a few corrections: &lt;/p&gt;

&lt;p&gt;&amp;lt;plugin&amp;gt;&lt;br/&gt;
              &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
              &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
              &amp;lt;version&amp;gt;2.3.4&amp;lt;/version&amp;gt;&lt;br/&gt;
              &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;&lt;br/&gt;
              &amp;lt;configuration&amp;gt;&lt;br/&gt;
                  &amp;lt;instructions&amp;gt;&lt;br/&gt;
                      &amp;lt;Bundle-SymbolicName&amp;gt;$&lt;/p&gt;
{project.groupId}
&lt;p&gt;.$&lt;/p&gt;
{project.artifactId}
&lt;p&gt;&amp;lt;/Bundle-SymbolicName&amp;gt;&lt;br/&gt;
                      &amp;lt;Bundle-Name&amp;gt;$&lt;/p&gt;
{project.name}
&lt;p&gt;&amp;lt;/Bundle-Name&amp;gt;&lt;br/&gt;
                      &amp;lt;Bundle-Version&amp;gt;$&lt;/p&gt;
{project.version}
&lt;p&gt;&amp;lt;/Bundle-Version&amp;gt;&lt;br/&gt;
                  &amp;lt;/instructions&amp;gt;&lt;br/&gt;
              &amp;lt;/configuration&amp;gt;&lt;br/&gt;
          &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;I&apos;d also add a executions block (direct child of the plugin block)&lt;/p&gt;

&lt;p&gt;          &amp;lt;executions&amp;gt;&lt;br/&gt;
            &amp;lt;execution&amp;gt;&lt;br/&gt;
              &amp;lt;id&amp;gt;bundle-manifest&amp;lt;/id&amp;gt;&lt;br/&gt;
              &amp;lt;phase&amp;gt;process-classes&amp;lt;/phase&amp;gt;&lt;br/&gt;
              &amp;lt;goals&amp;gt;&lt;br/&gt;
                &amp;lt;goal&amp;gt;manifest&amp;lt;/goal&amp;gt;&lt;br/&gt;
              &amp;lt;/goals&amp;gt;&lt;br/&gt;
            &amp;lt;/execution&amp;gt;&lt;br/&gt;
          &amp;lt;/executions&amp;gt;&lt;/p&gt;

&lt;p&gt;so that is not needed to change the packaging type to bundle to make the MANIFEST information to be attached. &lt;/p&gt;</comment>
                    <comment id="13041135" author="ryantxu" created="Mon, 30 May 2011 15:08:55 +0100"  >&lt;p&gt;Thanks Daniele &amp;#8211; can you make a patch for this?&lt;/p&gt;

&lt;p&gt;I don&apos;t use OSGi so I have no idea if the results are valid or not, but would happily commit changes to the maven poms if someone verifies the changes work.&lt;/p&gt;</comment>
                    <comment id="13041148" author="luca.stancapiano" created="Mon, 30 May 2011 15:39:54 +0100"  >&lt;p&gt;I don&apos;t see maven in the lucene sources. It is built with ant. The first solution seems ok....why it was not committed?&lt;/p&gt;</comment>
                    <comment id="13041186" author="ryantxu" created="Mon, 30 May 2011 17:23:03 +0100"  >&lt;p&gt;Hi Luca &amp;#8211; maven support is in the dev-tools folder:&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/lucene/dev/trunk/dev-tools/maven&quot; class=&quot;external-link&quot;&gt;https://svn.apache.org/repos/asf/lucene/dev/trunk/dev-tools/maven&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My understanding is that OSGi needs to know about the dependencies &amp;#8211; i don&apos;t know how (or if) our ant build can support that.  &lt;/p&gt;</comment>
                    <comment id="13041321" author="ildella" created="Mon, 30 May 2011 23:56:56 +0100"  >&lt;p&gt;oh, well, the maven plugin just automatically generates the Manifest.mf information bases on the actual code base. It works nice but is not the only solution. &lt;br/&gt;
You can run &lt;a href=&quot;http://bndtools.org/&quot; class=&quot;external-link&quot;&gt;http://bndtools.org/&lt;/a&gt; against the jar to make a new jar with correct Manifest OSGi instructions, that&apos;s what I did to make the 3.1.0 release work on an OSGi environment. I think you can also integrate bnd with an ant script. &lt;br/&gt;
Or you can just keep the source Manifest file up to date, but you have to keep exported packages (and version) aligned manually. &lt;/p&gt;

&lt;p&gt;In the end is just a matter of releasing a jar with a few more meta information in the standard Manifest.MF file, nothing more.&lt;/p&gt;</comment>
                    <comment id="13041331" author="rch" created="Tue, 31 May 2011 00:29:36 +0100"  >&lt;p&gt;The bndtools approach works for me &amp;#8211; I believe that is that the Jackson (JSON) project does as well.&lt;/p&gt;</comment>
                    <comment id="13042107" author="luca.stancapiano" created="Wed, 1 Jun 2011 12:13:10 +0100"  >&lt;p&gt;Ok ....I created a patch according the pom configuration seen before. It creates osgi bundles for lucene-core and the other modules. I tested them inside felix and they are installed correctly. There are not mainteinance problems because the packages are generated dinamically by the maven-bundle-plugin configured in this patch&lt;/p&gt;</comment>
                    <comment id="13042138" author="ryantxu" created="Wed, 1 Jun 2011 13:43:02 +0100"  >&lt;p&gt;Thanks Luca!&lt;/p&gt;

&lt;p&gt;When you upload a patch, can you click the &quot;Grant license to ASF for inclusion in ASF works&quot; button?  It seems a little silly for this small patch, but that is ASF policy.&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                    <comment id="13042168" author="ryantxu" created="Wed, 1 Jun 2011 14:38:40 +0100"  >&lt;p&gt;This is the same patch, but moved to the lucene parent pom &amp;#8211; this way it applies to all artifacts rather then just the lucene core.jar&lt;/p&gt;

&lt;p&gt;The output manifest now looks like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Manifest-Version: 1.0
Archiver-Version: Plexus Archiver
Created-By: Apache Maven Bundle Plugin
Built-By: ryan
Build-Jdk: 1.6.0_13
Implementation-Vendor-Id: org.apache.lucene
Extension-Name: org.apache.lucene
Implementation-Title: org.apache.lucene
Implementation-Vendor: The Apache Software Foundation
Implementation-Version: 4.0-SNAPSHOT 1130132 - ryan - 2011-06-01 09:12
 :35
Specification-Title: Lucene Core
Specification-Vendor: The Apache Software Foundation
Specification-Version: 4.0.0.2011.06.01.09.12.35
X-Compile-Source-JDK: 1.5
X-Compile-Target-JDK: 1.5
Export-Package: org.apache.lucene.analysis;uses:=&quot;org.apache.lucene.ut
 il,org.apache.lucene.store,org.apache.lucene.document,org.apache.luce
 ne.analysis.tokenattributes,org.apache.lucene.index&quot;,org.apache.lucen
 e.analysis.tokenattributes;uses:=&quot;org.apache.lucene.util,org.apache.l
 ucene.index&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.document;uses:=&quot;&lt;/span&gt;org.apache.lucene.util
 ,org.apache.lucene.analysis&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.index;uses:=&quot;&lt;/span&gt;org.apach
 e.lucene.search,org.apache.lucene.util,org.apache.lucene.store,org.ap
 ache.lucene.document,org.apache.lucene.index.codecs,org.apache.lucene
 .analysis.tokenattributes,org.apache.lucene.analysis&quot;,org.apache.luce
 ne.index.codecs;uses:=&quot;org.apache.lucene.index,org.apache.lucene.util
 ,org.apache.lucene.store,org.apache.lucene.index.codecs.standard,org.
 apache.lucene.index.codecs.pulsing,org.apache.lucene.index.codecs.sim
 pletext,org.apache.lucene.index.codecs.preflex,org.apache.lucene.util
 .packed,org.apache.lucene.util.fst&quot;,org.apache.lucene.index.codecs.in
 tblock;uses:=&quot;org.apache.lucene.store,org.apache.lucene.index.codecs.
 sep,org.apache.lucene.util&quot;,org.apache.lucene.index.codecs.preflex;us
 es:=&quot;org.apache.lucene.store,org.apache.lucene.index.codecs,org.apach
 e.lucene.index,org.apache.lucene.util,org.apache.lucene.index.codecs.
 standard&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.index.codecs.pulsing;uses:=&quot;&lt;/span&gt;org.apache.lu
 cene.index.codecs.standard,org.apache.lucene.util,org.apache.lucene.s
 tore,org.apache.lucene.index.codecs,org.apache.lucene.index&quot;,org.apac
 he.lucene.index.codecs.sep;uses:=&quot;org.apache.lucene.store,org.apache.
 lucene.util,org.apache.lucene.index,org.apache.lucene.index.codecs&quot;,o
 rg.apache.lucene.index.codecs.simpletext;uses:=&quot;org.apache.lucene.sto
 re,org.apache.lucene.index.codecs,org.apache.lucene.index,org.apache.
 lucene.util,org.apache.lucene.util.fst&quot;,org.apache.lucene.index.codec
 s.standard;uses:=&quot;org.apache.lucene.store,org.apache.lucene.index.cod
 ecs,org.apache.lucene.index,org.apache.lucene.util&quot;,org.apache.lucene
 ,org.apache.lucene.messages,org.apache.lucene.queryParser;uses:=&quot;org.
 apache.lucene.util,org.apache.lucene.search,org.apache.lucene.analysi
 s,org.apache.lucene.analysis.tokenattributes,org.apache.lucene.docume
 nt,org.apache.lucene.index&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.search;uses:=&quot;&lt;/span&gt;org.apach
 e.lucene.util,org.apache.lucene.util.automaton,org.apache.lucene.inde
 x,org.apache.lucene.util.packed,org.apache.lucene.search.cache,org.ap
 ache.lucene.store,org.apache.lucene.document,org.apache.lucene.analys
 is.tokenattributes,org.apache.lucene.analysis,org.apache.lucene.searc
 h.spans&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.search.cache;uses:=&quot;&lt;/span&gt;org.apache.lucene.util
 ,org.apache.lucene.search,org.apache.lucene.index,org.apache.lucene.u
 til.packed&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.search.function;uses:=&quot;&lt;/span&gt;org.apache.lucen
 e.search,org.apache.lucene.index,org.apache.lucene.util&quot;,org.apache.l
 ucene.search.payloads;uses:=&quot;org.apache.lucene.search,org.apache.luce
 ne.search.spans,org.apache.lucene.index,org.apache.lucene.util&quot;,org.a
 pache.lucene.search.spans;uses:=&quot;org.apache.lucene.util,org.apache.lu
 cene.search,org.apache.lucene.index&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.store;uses:=&quot;&lt;/span&gt;o
 rg.apache.lucene.util&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.util;uses:=&quot;&lt;/span&gt;org.apache.lucen
 e.store,org.apache.lucene.index,org.apache.lucene,org.apache.lucene.s
 earch&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.util.automaton;uses:=&quot;&lt;/span&gt;org.apache.lucene.util
 &lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.util.fst;uses:=&quot;&lt;/span&gt;org.apache.lucene.util,org.apache
 .lucene.store&lt;span class=&quot;code-quote&quot;&gt;&quot;,org.apache.lucene.util.packed;uses:=&quot;&lt;/span&gt;org.apache.lucene
 .util,org.apache.lucene.store&quot;
Tool: Bnd-1.15.0
Bundle-Name: Lucene Core
Bundle-Vendor: The Apache Software Foundation
Bundle-Version: 4.0.0.SNAPSHOT
Bnd-LastModified: 1306934011182
Bundle-ManifestVersion: 2
Bundle-License: http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/licenses/LICENSE-2.0.txt
&lt;/span&gt;Bundle-Description: Apache Lucene Java Core
Bundle-SymbolicName: org.apache.lucene.core
Bundle-DocURL: http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    <comment id="13042169" author="ryantxu" created="Wed, 1 Jun 2011 14:42:03 +0100"  >&lt;p&gt;committed to trunk in r1130150&lt;/p&gt;

&lt;p&gt;Can someone verify that this makes useful OSGi artifacts before I resolve the issue?&lt;/p&gt;</comment>
                    <comment id="13042184" author="luca.stancapiano" created="Wed, 1 Jun 2011 15:08:00 +0100"  >&lt;p&gt;Ryan.... the lucene core is the parent for all modules poms, so this fixing could be not important&lt;/p&gt;</comment>
                    <comment id="13042196" author="ryantxu" created="Wed, 1 Jun 2011 15:24:46 +0100"  >&lt;blockquote&gt;&lt;p&gt;lucene core is the parent for all modules poms&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;lucene yes, but not solr&lt;/p&gt;</comment>
                    <comment id="13042207" author="luca.stancapiano" created="Wed, 1 Jun 2011 15:46:29 +0100"  >&lt;p&gt;Ok....I tested....it&apos;s ok.... now Solr packages too are OSGI bundle&lt;/p&gt;</comment>
                    <comment id="13042214" author="ryantxu" created="Wed, 1 Jun 2011 16:02:28 +0100"  >&lt;p&gt;merged with 3.x in r1130173&lt;/p&gt;

&lt;p&gt;However this still does not have OSGi support in the official build.&lt;/p&gt;

&lt;p&gt;For that, it seems like the right approach would be with bndtools.  I will resolve this issue, and we can make a new issue if someone wants to bite off integrating with the ant build.  The one thing i am against is somethign that needs manual maintance everytime something changes.&lt;/p&gt;</comment>
                    <comment id="13042221" author="luca.stancapiano" created="Wed, 1 Jun 2011 16:11:33 +0100"  >&lt;p&gt;Can you maintain two different binaries, one from ant and one from maven for each module? It would very useful for who don&apos;t develope with lucene/solr &lt;/p&gt;</comment>
                    <comment id="13042232" author="ryantxu" created="Wed, 1 Jun 2011 16:26:27 +0100"  >&lt;blockquote&gt;&lt;p&gt;Can you maintain two different binaries&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not sure what that means... are you asking if Apache will release two versions of the same thing?  If so, no.&lt;/p&gt;

&lt;p&gt;The maven integration is an officially unsupported developer build tool, so will not be part of the official release &amp;#8211; but it does let someone easily build OSGi bundles, so it is a good step forward.  If there is an ant way to do this, that could become part of the official release process.&lt;/p&gt;</comment>
                    <comment id="13042238" author="luca.stancapiano" created="Wed, 1 Jun 2011 16:34:32 +0100"  >&lt;p&gt;yes it is... so I open a new ticket&lt;/p&gt;</comment>
                    <comment id="13042241" author="ryantxu" created="Wed, 1 Jun 2011 16:37:40 +0100"  >&lt;p&gt;ok &amp;#8211; my assumption was that integrating with ant is difficult (and requires knowing all the dependencies) &amp;#8211; we can keep using this ticket if you want.  simply hit the &apos;reopen issue&apos; button at the top&lt;/p&gt;</comment>
                    <comment id="13042244" author="luca.stancapiano" created="Wed, 1 Jun 2011 16:44:17 +0100"  >&lt;p&gt;I&apos;ve just created:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3167&quot; class=&quot;external-link&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-3167&lt;/a&gt;&lt;/p&gt;</comment>
                    <comment id="13044584" author="gunnar" created="Sun, 5 Jun 2011 18:46:25 +0100"  >&lt;p&gt;Just curious, how did you solve the split packages issues and invalid symbolic names with some Lucene modules? I can&apos;t see it in the parent pom.&lt;/p&gt;</comment>
                    <comment id="13044587" author="ryantxu" created="Sun, 5 Jun 2011 18:49:08 +0100"  >&lt;p&gt;take a look at:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3172&quot; class=&quot;external-link&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-3172&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t use OSGi so i can&apos;t verify it works, but i the descriptio seems relevant to your question&lt;/p&gt;</comment>
                    <comment id="13048340" author="luca.stancaqpiano" created="Sun, 12 Jun 2011 15:48:36 +0100"  >&lt;p&gt;The problem was resolved here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3172&quot; class=&quot;external-link&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-3172&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was enough to add the property in the maven-bundle-plugin in the pom.xml.template:&lt;/p&gt;

&lt;p&gt;Export-Package: *;-split-package:=merge-first&lt;/p&gt;</comment>
                    <comment id="13058938" author="rcmuir" created="Sat, 2 Jul 2011 03:40:18 +0100"  >&lt;p&gt;bulk close for 3.3&lt;/p&gt;</comment>
                    <comment id="13059196" author="philippn" created="Sun, 3 Jul 2011 14:28:08 +0100"  >&lt;p&gt;Can someone explain this to me: This issue is marked as resolved in 3.3, it&apos;s even listed in the changelog for 3.3, yet the lucene-core.jar file is clearly not OSGI-enabled... What&apos;s up with that?!&lt;/p&gt;</comment>
                    <comment id="13059213" author="luca.stancapiano" created="Sun, 3 Jul 2011 16:14:10 +0100"  >&lt;p&gt;This task resolves only the maven version of lucene. So you are forced to download the 3.3 lucene version and compile it with maven. The official release is compiled with Ant so the online binaries are not released for OSGI.&lt;br/&gt;
Actually there is a open task to create an OSGI bundle through ant. It is under work:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3167&quot; class=&quot;external-link&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-3167&lt;/a&gt;&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12465849" name="LUCENE-1344-3.0-branch.patch" size="2398" author="kbohling" created="Wed, 8 Dec 2010 22:31:06 +0000" />
                    <attachment id="12481089" name="LUCENE-1344-maven.patch" size="1143" author="ryantxu" created="Wed, 1 Jun 2011 14:38:40 +0100" />
                    <attachment id="12390530" name="LUCENE-1344.patch" size="31648" author="gunnar" created="Fri, 19 Sep 2008 20:20:54 +0100" />
                    <attachment id="12390475" name="LUCENE-1344.patch" size="18325" author="gunnar" created="Fri, 19 Sep 2008 09:29:23 +0100" />
                    <attachment id="12390376" name="LUCENE-1344.patch" size="13924" author="gunnar" created="Thu, 18 Sep 2008 15:29:48 +0100" />
                    <attachment id="12390375" name="LUCENE-1344.patch" size="14060" author="gunnar" created="Thu, 18 Sep 2008 15:26:13 +0100" />
                    <attachment id="12390353" name="LUCENE-1344.patch" size="11470" author="gunnar" created="Thu, 18 Sep 2008 10:17:57 +0100" />
                    <attachment id="12390303" name="LUCENE-1344.patch" size="5025" author="gunnar" created="Wed, 17 Sep 2008 21:37:16 +0100" />
                    <attachment id="12386743" name="LUCENE-1344-r679133.patch" size="6901" author="hibou" created="Wed, 23 Jul 2008 19:16:31 +0100" />
                    <attachment id="12389248" name="LUCENE-1344-r690675.patch" size="7114" author="hibou" created="Sun, 31 Aug 2008 12:33:39 +0100" />
                    <attachment id="12389249" name="LUCENE-1344-r690691.patch" size="5819" author="hibou" created="Sun, 31 Aug 2008 14:54:05 +0100" />
                    <attachment id="12390417" name="LUCENE-1344-r696747.patch" size="7226" author="hibou" created="Thu, 18 Sep 2008 21:34:27 +0100" />
                    <attachment id="12481064" name="lucene_trunk.patch" size="1030" author="luca.stancapiano" created="Wed, 1 Jun 2011 12:13:10 +0100" />
                    <attachment id="12389250" name="MANIFEST.MF.diff" size="1385" author="hibou" created="Sun, 31 Aug 2008 14:54:06 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>14.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 31 Aug 2008 11:48:22 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>12404</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26384</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>