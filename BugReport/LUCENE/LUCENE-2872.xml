<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:21:35 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-2872/LUCENE-2872.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-2872] Terms dict should block-encode terms</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-2872</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;With PrefixCodedTermsReader/Writer we now encode each term standalone,&lt;br/&gt;
ie its bytes, metadata, details for postings (frq/prox file pointers),&lt;br/&gt;
etc.&lt;/p&gt;

&lt;p&gt;But, this is costly when something wants to visit many terms but pull&lt;br/&gt;
metadata for only few (eg respelling, certain MTQs).  This is&lt;br/&gt;
particularly costly for sep codec because it has more metadata to&lt;br/&gt;
store, per term.&lt;/p&gt;

&lt;p&gt;So instead I think we should block-encode all terms between indexed&lt;br/&gt;
term, so that the metadata is stored &quot;column stride&quot; instead.  This&lt;br/&gt;
makes it faster to enum just terms.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12495840">LUCENE-2872</key>
            <summary>Terms dict should block-encode terms</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mikemccand">Michael McCandless</assignee>
                                <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jan 2011 00:18:48 +0000</created>
                <updated>Fri, 10 May 2013 11:44:40 +0100</updated>
                    <resolved>Thu, 20 Jan 2011 18:54:19 +0000</resolved>
                                            <fixVersion>4.0-ALPHA</fixVersion>
                                <component>core/index</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12982933" author="mikemccand" created="Tue, 18 Jan 2011 00:19:48 +0000"  >&lt;p&gt;Patch.&lt;/p&gt;

&lt;p&gt;I think it&apos;s basically working, but there are still a bunch of nocommits.&lt;/p&gt;</comment>
                    <comment id="12983952" author="mikemccand" created="Thu, 20 Jan 2011 00:31:14 +0000"  >&lt;p&gt;New patch &amp;#8211; cleaned up all the nocommits, and cutover to common prefix for all terms in the block.&lt;/p&gt;</comment>
                    <comment id="12984293" author="mikemccand" created="Thu, 20 Jan 2011 17:33:13 +0000"  >&lt;p&gt;New patch, specializes read* in ByteArrayDataInput (poached from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2824&quot; title=&quot;optimizations for bufferedindexinput&quot;&gt;&lt;del&gt;LUCENE-2824&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                    <comment id="12984306" author="rcmuir" created="Thu, 20 Jan 2011 17:53:39 +0000"  >&lt;p&gt;+1 to commit, the last specialization made all the difference on my benchmarks.&lt;/p&gt;

&lt;p&gt;I think this will pave the way for us to fix Sep codec in the branch...&lt;/p&gt;</comment>
                    <comment id="12984589" author="simonw" created="Fri, 21 Jan 2011 06:56:11 +0000"  >&lt;p&gt;WOW nice mike! do you have benchmark numbers here by any chance? After all those improvements -  FST, TermState, BlockCoded TermDict etc. I wonder if we reached the 10k% in the 3.0 vs. 4.0 united~2.0 benchmark...&lt;/p&gt;</comment>
                    <comment id="12984703" author="mikemccand" created="Fri, 21 Jan 2011 11:49:15 +0000"  >&lt;p&gt;I did run the benchmark &amp;#8211; but lost the output &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  I compared standard on trunk vs standard w/ block terms dict.&lt;/p&gt;

&lt;p&gt;There were solid gains, especially for the MTQs that visit many terms but few docs (like the respelling case).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12468865" name="LUCENE-2872.patch" size="193269" author="mikemccand" created="Thu, 20 Jan 2011 17:33:13 +0000" />
                    <attachment id="12468801" name="LUCENE-2872.patch" size="190897" author="mikemccand" created="Thu, 20 Jan 2011 00:31:14 +0000" />
                    <attachment id="12468611" name="LUCENE-2872.patch" size="180627" author="mikemccand" created="Tue, 18 Jan 2011 00:19:48 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 20 Jan 2011 17:53:39 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>10994</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24820</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>