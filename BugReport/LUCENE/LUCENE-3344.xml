<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Tue Jul 16 13:04:36 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-3344/LUCENE-3344.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[LUCENE-3344] Add workaround for ICU bug in combination with Java7 to LuceneTestCase</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-3344</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                        <description>&lt;p&gt;There is a bug in ICU that makes it fail to load it ULocale class in Java7: &lt;a href=&quot;http://bugs.icu-project.org/trac/ticket/8734&quot; class=&quot;external-link&quot;&gt;http://bugs.icu-project.org/trac/ticket/8734&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The problem is caused by some new locales in Java 7, that lead to a chicken-and-egg problem in the static initializer of ULocale. It initializes its default locale from the JDK locale in a static ctor. Until the default ULocale instance is created, the default is not set in ULocale. But ULocales ctor itsself needs the default locale to fetch some ressource bundles and throws NPE.&lt;/p&gt;

&lt;p&gt;The code in LuceneTestCase that randomizes the default locale should classload ULocale before it tries to set another random locale, using a defined, safe locale (Locale.US). Patch is easy.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK7&lt;/p&gt;</environment>
            <key id="12515418">LUCENE-3344</key>
            <summary>Add workaround for ICU bug in combination with Java7 to LuceneTestCase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="thetaphi">Uwe Schindler</assignee>
                                <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                        <label>Java7</label>
                    </labels>
                <created>Tue, 26 Jul 2011 16:49:50 +0100</created>
                <updated>Sun, 27 Nov 2011 12:31:41 +0000</updated>
                    <resolved>Tue, 26 Jul 2011 16:59:10 +0100</resolved>
                                            <fixVersion>3.4</fixVersion>
                <fixVersion>4.0-ALPHA</fixVersion>
                                <component>modules/analysis</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13071173" author="thetaphi" created="Tue, 26 Jul 2011 16:52:15 +0100"  >&lt;p&gt;Patch that tries to init ICU&apos;s ULocale before randomization by a simple Class.forName(). If ICU is not in classpath, its a no-op.&lt;/p&gt;

&lt;p&gt;Will commit soon.&lt;/p&gt;</comment>
                    <comment id="13071176" author="rcmuir" created="Tue, 26 Jul 2011 16:55:36 +0100"  >&lt;p&gt;nice workaround! +1 to commit&lt;/p&gt;</comment>
                    <comment id="13071179" author="thetaphi" created="Tue, 26 Jul 2011 16:59:10 +0100"  >&lt;p&gt;Committed trunk revision: 1151146&lt;br/&gt;
Committed 3.x revision: 1151148&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12487855" name="LUCENE-3344.patch" size="1351" author="thetaphi" created="Tue, 26 Jul 2011 16:52:15 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 26 Jul 2011 15:55:36 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2741</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310120" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                <customfieldname>Lucene Fields</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10121"><![CDATA[New]]></customfieldvalue>
    <customfieldvalue key="10120"><![CDATA[Patch Available]]></customfieldvalue>
    
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24352</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>