<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:19:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-634/HTTPCLIENT-634.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-634] HostConfiguration socketFactory is ignored</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-634</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>HostConfiguration doesn&amp;#39;t use its host.protocol to execute an HttpMethod with an absolute URL.  It should, if the Protocol&amp;#39;s scheme is the same as the method&amp;#39;s URL scheme.&lt;br/&gt;
&lt;br/&gt;
This bug makes it difficult to integrate a specialized SSL connection algorithm (in a SecureProtocolSocketFactory) with a module implemented on top of HttpClient.  The latter module must not execute methods with absolute URLs.  Of course, this is difficult when one doesn&amp;#39;t control that module.  For example, I recently tried to integrate SSL certificate-based client authentication with XFire.  XFire provides a reasonable API for replacing its HttpClient, but one must hack its source code to prevent it from executing methods with absolute URLs.&lt;br/&gt;
&lt;br/&gt;
Protocol.registerProtocol is a possible answer, but it can&amp;#39;t support two or more SSL connection algorithms for one HTTPS host and port.</description>
                <environment>Windows, Eclipse, Java 1.5</environment>
            <key id="12363080">HTTPCLIENT-634</key>
            <summary>HostConfiguration socketFactory is ignored</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jkristian">John Kristian</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Feb 2007 12:58:33 +0000</created>
                <updated>Sat, 11 Aug 2007 13:39:15 +0100</updated>
                    <resolved>Tue, 20 Feb 2007 14:32:35 +0000</resolved>
                            <version>Snapshot</version>
                                <fixVersion>3.1 RC1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12473925" author="jkristian" created="Sat, 17 Feb 2007 13:00:31 +0000"  >Here&amp;#39;s a patch that works for me.</comment>
                    <comment id="12473928" author="olegk" created="Sat, 17 Feb 2007 13:29:41 +0000"  >I believe it would be much cleaner to put a fix at this place: &lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/httpclient/xref/org/apache/commons/httpclient/HttpClient.html#389&quot;&gt;http://jakarta.apache.org/commons/httpclient/xref/org/apache/commons/httpclient/HttpClient.html#389&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
</comment>
                    <comment id="12473939" author="rolandw" created="Sat, 17 Feb 2007 16:47:57 +0000"  >HttpClient has been working that way since the 2.0 days. It has been re-iterated time and again, even as recently as two weeks ago with Sebastian:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/jakarta-httpclient-user/200702.mbox/%3c25aac9fc0702030841q1d35fe41g50bb04fc11662e90@mail.gmail.com%3e&quot;&gt;http://mail-archives.apache.org/mod_mbox/jakarta-httpclient-user/200702.mbox/%3c25aac9fc0702030841q1d35fe41g50bb04fc11662e90@mail.gmail.com%3e&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
I am not in favor of changing the behavior that late in the release cycle. Different SSL connection algorithms can be used by aliasing the protocol, or am I wrong there?&lt;br/&gt;
We could move the HostConfiguration update code of the HttpClient class to a dedicated protected method. That would make it easy to override without changing the default behavior.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
</comment>
                    <comment id="12473948" author="jkristian" created="Sat, 17 Feb 2007 18:17:57 +0000"  >It seems better for users to subclass HostConfiguration, not subclass HttpClient.  It&amp;#39;s less likely to lead to problems with two conflicting specializations of the same object.  Certainly I would prefer it.&lt;br/&gt;
&lt;br/&gt;
Specifically, I mean change HttpClient.executeMethod to use &amp;#39;hostconfig.clone()&amp;#39; instead of &amp;#39;new HostConfiguration(hostconfig)&amp;#39;.  That&amp;#39;s enough, I think.  I don&amp;#39;t see any need to move code into a new protected method.  Users could subclass HostConfiguration, overriding clone() and setHost(String, int, String), and install the specialized object via HttpClient.setHostConfiguration.&lt;br/&gt;
&lt;br/&gt;
Shall I submit a patch?</comment>
                    <comment id="12473951" author="rolandw" created="Sat, 17 Feb 2007 18:46:51 +0000"  >Hi John,&lt;br/&gt;
&lt;br/&gt;
that&amp;#39;s minimally intrusive. I like the idea. Yes, please submit a patch.&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t remember where, but I did once read that it is a bad idea to have public methods call other public methods in an API. Looking at HostConfiguration, it is obvious why. Without looking into the source, it is impossible to tell which of the setHost methods will be affected if one of them is overriden.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
</comment>
                    <comment id="12474034" author="jkristian" created="Sun, 18 Feb 2007 21:46:12 +0000"  >Here&amp;#39;s a patch.</comment>
                    <comment id="12474199" author="rolandw" created="Mon, 19 Feb 2007 15:21:01 +0000"  >I&amp;#39;m +1 on the one-line change in HttpClient. The HostProtocolConfiguration could go into contrib code, though we&amp;#39;d have to find a name that better indidcates the purpose.&lt;br/&gt;
I&amp;#39;m -1 on putting HostProtocolConfiguration into the main code, even with a better name. If we start with that, next thing will be a subclass of HostConfiguration that overrides the host, and then one that overrides protocol and host,... It&amp;#39;s good as an example, but not as code we have to maintain.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
</comment>
                    <comment id="12474217" author="mbecke" created="Mon, 19 Feb 2007 16:20:01 +0000"  >I&amp;#39;ll second Roland&amp;#39;s analysis.&lt;br/&gt;
&lt;br/&gt;
+ 1 for HttpClient change and putting HostProtocolConfiguration into contrib.  How about HostConfigurationWithStickyProtocol?  A little long but accurate.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12474278" author="jkristian" created="Mon, 19 Feb 2007 20:53:34 +0000"  >OK; here&amp;#39;s a patch (StickyProtocol.patch) that fits your description.</comment>
                    <comment id="12474284" author="rolandw" created="Mon, 19 Feb 2007 21:33:31 +0000"  >Looks good. Thanks John!&lt;br/&gt;
</comment>
                    <comment id="12474299" author="olegk" created="Mon, 19 Feb 2007 22:22:35 +0000"  >Looks good to me. +1 to check in&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12474452" author="rolandw" created="Tue, 20 Feb 2007 14:32:35 +0000"  >Patch committed. Thanks John!</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310000">
                <name>Duplicate</name>
                                <outwardlinks description="duplicates">
                            <issuelink>
            <issuekey id="12334100">HTTPCLIENT-541</issuekey>
        </issuelink>
                    </outwardlinks>
                                                <inwardlinks description="is duplicated by">
                            <issuelink>
            <issuekey id="12371451">HTTPCLIENT-658</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12351424" name="HostConfiguration.patch" size="5809" author="jkristian" created="Sat, 17 Feb 2007 13:00:28 +0000" />
                    <attachment id="12351469" name="HostProtocolConfiguration.patch" size="7979" author="jkristian" created="Sun, 18 Feb 2007 21:46:12 +0000" />
                    <attachment id="12351531" name="StickyProtocol.patch" size="7061" author="jkristian" created="Mon, 19 Feb 2007 20:53:34 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 17 Feb 2007 13:29:41 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133673</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47860</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>