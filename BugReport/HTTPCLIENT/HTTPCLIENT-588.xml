<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:18:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-588/HTTPCLIENT-588.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-588] relative URIs with internal double-slashes (&apos;//&apos;) misparsed</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-588</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>URI.parseUriReference()&amp;#39;s heuristic for interpreting URI parts is thrown off by relative URIs which include an internal &amp;#39;//&amp;#39;. As a result, portions of the supplied relative URI (path) can be lost. &lt;br/&gt;
&lt;br/&gt;
For example:&lt;br/&gt;
&lt;br/&gt;
URI rel = new URI(&amp;quot;foo//bar//baz&amp;quot;);&lt;br/&gt;
rel.toString();&lt;br/&gt;
(java.lang.String) //bar//baz&lt;br/&gt;
&lt;br/&gt;
The culprit seems to be line 1961 of URI improperly concluding that two slashes later than the beginning of &amp;#39;tmp&amp;#39; are still indicative the URI is a &amp;#39;net_path&amp;#39;. &lt;br/&gt;
&lt;br/&gt;
A possible quick fix might be to add a &amp;#39;!isStartedFromPath &amp;amp;&amp;amp;&amp;#39; to the beginning of the line 1961 test, making the line:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if (!isStartedFromPath &amp;amp;&amp;amp; at + 2 &amp;lt; length &amp;amp;&amp;amp; tmp.charAt(at + 1) == &amp;#39;/&amp;#39;) {&lt;br/&gt;
&lt;br/&gt;
... and thus preventing the misguided authority-parsing from happening when earlier analysis already identified the current string as a strictly path-oriented URI.&lt;br/&gt;
&lt;br/&gt;
(It also appears the setting of the is_net_path boolean at the end of this if&amp;#39;s block may be wrong; this code is run for hier_path URIs that are not net_paths in the 2396 syntax. For example:&lt;br/&gt;
&lt;br/&gt;
URI uri = new URI(&amp;quot;&lt;a href=&quot;http://www.example.com/some/page&quot;&gt;http://www.example.com/some/page&lt;/a&gt;&amp;quot;);&lt;br/&gt;
uri.isNetPath();&lt;br/&gt;
&amp;nbsp;(boolean) true &lt;br/&gt;
&lt;br/&gt;
)</description>
                <environment></environment>
            <key id="12344475">HTTPCLIENT-588</key>
            <summary>relative URIs with internal double-slashes (&apos;//&apos;) misparsed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="gojomo">Gordon Mohr</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jun 2006 09:58:11 +0100</created>
                <updated>Thu, 3 Jan 2008 12:16:53 +0000</updated>
                    <resolved>Wed, 21 Jun 2006 19:10:04 +0100</resolved>
                            <version>3.0.1</version>
                                <fixVersion>3.1 Alpha 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12416525" author="olegk" created="Fri, 16 Jun 2006 22:31:17 +0100"  >We will happily accept a patch&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12416604" author="gojomo" created="Sat, 17 Jun 2006 08:17:12 +0100"  >Attached patch avoids double-slash-triggered parsing of authority when it would be inappropriate: when URI is a simple authority-less path. Test for setting &amp;#39;isStartedWithPath&amp;#39; improved to not indicate &amp;#39;true&amp;#39; for URIs that begin &amp;#39;//&amp;#39;; &amp;#39;isStartedWithPath&amp;#39; reused in later check to suppress inappropriate authority-parsing. Unit test verifies problem in current code and corrected behavior for test case after fix. </comment>
                    <comment id="12416628" author="olegk" created="Sat, 17 Jun 2006 23:48:13 +0100"  >Seems all right. I&amp;#39;ll check the patch in in a few days if nobody complains&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12416974" author="rolandw" created="Wed, 21 Jun 2006 03:59:30 +0100"  >looks good&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland</comment>
                    <comment id="12417077" author="olegk" created="Wed, 21 Jun 2006 19:10:04 +0100"  >Patch checked in. Many thanks, Gordon&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12385491">HTTPCLIENT-727</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12335573" name="httpclient-588.patch" size="2158" author="gojomo" created="Sat, 17 Jun 2006 08:17:12 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 16 Jun 2006 21:31:17 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133628</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47721</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>