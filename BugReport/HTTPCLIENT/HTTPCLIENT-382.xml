<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:16:52 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-382/HTTPCLIENT-382.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-382] Move multipart request to a new RequestEntity type</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-382</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Multipart posts are currently handled via a separate post method, the MultipartPostMethod.  This &lt;br/&gt;
separate method is unnecessary given the new RequestEntity mechanism.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: Other</environment>
            <key id="12333941">HTTPCLIENT-382</key>
            <summary>Move multipart request to a new RequestEntity type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="becke@u.washington.edu">Michael Becke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Sep 2004 10:43:47 +0100</created>
                <updated>Wed, 16 Feb 2011 20:43:45 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:52 +0100</resolved>
                            <version>3.0 Alpha 2</version>
                                <fixVersion>3.0 Final</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12381921" author="becke@u.washington.edu" created="Thu, 23 Sep 2004 10:50:04 +0100"  >Created an attachment (id=12841)&lt;br/&gt;
Patch 1&lt;br/&gt;
</comment>
                    <comment id="12381922" author="becke@u.washington.edu" created="Thu, 23 Sep 2004 10:56:55 +0100"  >Here&amp;#39;s a first stab this one.  This patch does the following:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;- Deprecates MultipartPostMethod in favor of MultipartRequestEntity + PostMethod&lt;br/&gt;
&amp;nbsp;- Adds isRepeatable() to Part&lt;br/&gt;
&amp;nbsp;- Moves the multipart boundary definition to a HttpMethod param&lt;br/&gt;
&amp;nbsp;- Adds support to SimpleHttpServerConnection for reading request bodies&lt;br/&gt;
&amp;nbsp;- Ports the old webapp-based multipart tests to the new SimpleHttpServer.  These tests are a little &lt;br/&gt;
weak, perhaps we should consider making use of FileUpload for checking the multipart request.&lt;br/&gt;
&lt;br/&gt;
Please have a look and let me know what you think.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381923" author="oglueck" created="Thu, 23 Sep 2004 15:46:24 +0100"  >Mike,&lt;br/&gt;
&lt;br/&gt;
I like this redesign a lot. But it needs to be well-documented in the guide, so&lt;br/&gt;
that people understand how to use it.&lt;br/&gt;
You made the MIME boundary string a param. I have a strong feeling that we&lt;br/&gt;
should avoid that. The boundary string should not be a constant at all. It&lt;br/&gt;
should be randomly generated on each request. Multipart-MIME is an extremely&lt;br/&gt;
hierarchical format that can be nested deeply. So there can be more than one&lt;br/&gt;
boundary string and we must ensure they are all unique within the same request.&lt;br/&gt;
I know we had a request when somebody wanted to control the boundary string. We&lt;br/&gt;
could still allow that by accepting an optional parameter in a Part constructor.</comment>
                    <comment id="12381924" author="olegk" created="Thu, 23 Sep 2004 19:09:38 +0100"  >*** &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-164&quot; title=&quot;Send InputStreams instead of files in MultipartPostMethod&quot;&gt;&lt;strike&gt;HTTPCLIENT-164&lt;/strike&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***</comment>
                    <comment id="12381925" author="olegk" created="Thu, 23 Sep 2004 19:15:21 +0100"  >Mike,&lt;br/&gt;
I would like to echo Odi&amp;#39;s comment on the boundary string. It does make sense &lt;br/&gt;
to have it randomly generated when not explicitly defined. &lt;br/&gt;
&lt;br/&gt;
One little comment I have is that the patch currently makes use of some &lt;br/&gt;
deprecated classes (HttpConstants). If that&amp;#39;s not intentional, references to &lt;br/&gt;
HttpConstants should be removed.&lt;br/&gt;
&lt;br/&gt;
Otherwise all looks cool&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381926" author="becke@u.washington.edu" created="Thu, 23 Sep 2004 20:26:14 +0100"  >Hi Odi, Oleg,&lt;br/&gt;
&lt;br/&gt;
Thank you for looking over the patch.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll change the boundary string to be randomly generated where it can be overridden by using a param.  &lt;br/&gt;
The use of HttpConstants is intentional as there doesn&amp;#39;t seem to be a non-deprecated replacement.  Is &lt;br/&gt;
the default content charset statically available anywhere else?&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381927" author="olegk" created="Thu, 23 Sep 2004 20:44:54 +0100"  >&amp;gt; Is the default content charset statically available anywhere else?&lt;br/&gt;
&lt;br/&gt;
It&amp;#39;s defined in the DefaultHttpParams these days. I would not like to see &lt;br/&gt;
SimpleHttpServerConnection tightly coupled with DefaultHttpParams, though. In &lt;br/&gt;
my opinion the SimpleHttpServerConnection should define its own &lt;br/&gt;
DEFAULT_CONTENT_CHAR static variable. HttpConstants should be let quietly go &lt;br/&gt;
away in the next release.&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12381928" author="becke@u.washington.edu" created="Wed, 29 Sep 2004 10:43:11 +0100"  >Created an attachment (id=12889)&lt;br/&gt;
patch 2&lt;br/&gt;
</comment>
                    <comment id="12381929" author="becke@u.washington.edu" created="Wed, 29 Sep 2004 10:46:55 +0100"  >Here&amp;#39;s another take on this one.  The boundary is now randomly generated by default, but it can be &lt;br/&gt;
overridden using a param.  The use of deprecated code has also been removed.  There is still a need for &lt;br/&gt;
some documentation/javadoc updates, but otherwise I think this works.  Please have a look and let me &lt;br/&gt;
know what you think.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381930" author="oglueck" created="Wed, 29 Sep 2004 15:15:37 +0100"  >Very nice, Mike. You also spent a lot of work on test cases. I guess a random&lt;br/&gt;
boundary thing is fair enough. If you are very paranoid you should include sort&lt;br/&gt;
of a serial number however. Like 30 random characters + a static counter that is&lt;br/&gt;
increased with every call to a Part constructor. But as I said, that is paranoid.&lt;br/&gt;
&lt;br/&gt;
I browsed through the patch and the only thing that caught my watching eye was:&lt;br/&gt;
&lt;br/&gt;
private static byte[] MULTIPART_CHARS = (&amp;quot;-_1234567890abcdefghijklmnopqrstuvwxyz&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;+ &amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&amp;quot;).getBytes();&lt;br/&gt;
&lt;br/&gt;
Make sure to specify the encoding here or it won&amp;#39;t work as intended on Z/OS&lt;br/&gt;
where they use EBCDIC.&lt;br/&gt;
&lt;br/&gt;
have a nice day</comment>
                    <comment id="12381931" author="olegk" created="Thu, 30 Sep 2004 04:49:49 +0100"  >Looks cool to me (system vs. ASCII charset issue aside)&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381932" author="becke@u.washington.edu" created="Wed, 6 Oct 2004 11:45:10 +0100"  >Thanks for the feedback Odi, Oleg.  I&amp;#39;ve applied this patch after fixing the encoding problem and &lt;br/&gt;
adding a few docs.  The use of a serial number in the boundary has been left out for now, but can be &lt;br/&gt;
easily added in the future.  Also, a multipart tutorial using the new entity still needs to be written.  I&amp;#39;ll &lt;br/&gt;
leave this bug open until those items are resolved.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381933" author="olegk" created="Thu, 20 Oct 2005 07:09:31 +0100"  >I think we should close this one. Multipart tutorial would be nice but we can&lt;br/&gt;
live without it&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381934" author="becke@u.washington.edu" created="Thu, 20 Oct 2005 07:16:21 +0100"  >I agree.  It&amp;#39;s certainly not a release blocker.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                </comments>
                    <attachments>
                    <attachment id="12327152" name="ASF.LICENSE.NOT.GRANTED--multipart.patch" size="52039" author="becke@u.washington.edu" created="Wed, 29 Sep 2004 10:43:11 +0100" />
                    <attachment id="12327151" name="ASF.LICENSE.NOT.GRANTED--multipart.patch" size="46057" author="becke@u.washington.edu" created="Thu, 23 Sep 2004 10:50:04 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>31378</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 23 Sep 2004 14:46:24 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133430</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47238</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>