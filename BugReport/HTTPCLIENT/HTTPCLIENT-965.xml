<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:41 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-965/HTTPCLIENT-965.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-965] cache does not honor must-revalidate or proxy-revalidate Cache-Control directives</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-965</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.4&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.4&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
There are a couple of missed requirements here regarding must-revalidate and proxy-revalidate (which applies only to shared caches).&lt;br/&gt;
1. When a cache entry with this directive is revalidated, it must be an end-to-end revalidation (meaning it must include &amp;#39;max-age=0&amp;#39; on the request).&lt;br/&gt;
2. If the revalidation with the origin fails, the cache MUST NOT return a stale entry and MUST return a 504 response.&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12468448">HTTPCLIENT-965</key>
            <summary>cache does not honor must-revalidate or proxy-revalidate Cache-Control directives</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="cimjmoore">Jonathan Moore</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jul 2010 17:59:26 +0100</created>
                <updated>Tue, 25 Jan 2011 11:00:14 +0000</updated>
                    <resolved>Wed, 7 Jul 2010 17:11:24 +0100</resolved>
                            <version>4.1 Alpha2</version>
                                <fixVersion>4.1 Beta1</fixVersion>
                                <component>HttpCache</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12884742" author="cimjmoore" created="Fri, 2 Jul 2010 18:04:36 +0100"  >The provided patch fixes this issue by adding &amp;#39;max-age=0&amp;#39; to revalidations for these directives and generating a 504 if there is an IOException when attempting to revalidate a stale entry.&lt;br/&gt;
&lt;br/&gt;
There is a related issue:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-962&quot;&gt;https://issues.apache.org/jira/browse/HTTPCLIENT-962&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
where it is not currently clear if the cache is a shared cache or not. The conservative assumption here is that we are a&lt;br/&gt;
shared cache, and hence must-revalidate and proxy-revalidate are essentially the same.&lt;br/&gt;
&lt;br/&gt;
However, the unit tests for proxy-revalidate in TestProtocolRequirements are conditional on whether the CachingHttpClient claims to be a shared cache or not.&lt;br/&gt;
&lt;br/&gt;
This patch is contributed to the ASF with the permission of my employer.&lt;br/&gt;
</comment>
                    <comment id="12885974" author="olegk" created="Wed, 7 Jul 2010 17:11:24 +0100"  >Patch checked in. Many thanks, Jon&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12448583" name="must-revalidate.patch" size="19150" author="cimjmoore" created="Fri, 2 Jul 2010 18:04:35 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 7 Jul 2010 16:11:24 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133966</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47340</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>