<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:18 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-930/HTTPCLIENT-930.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-930] Unencoded redirect URI causes exception when following redirects</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-930</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>When HttpClient is set to follow redirects, the DefaultRedirectHandler gets the redirect location from the appropriate request header and attempts to create a new java.net.URI from it. If the location contains an invalid URI character, creating the URI fails. For example, if the redirect location were &amp;quot;/foo?bar=&amp;lt;baz/&amp;gt;&amp;quot;, it would fail because the &amp;#39;&amp;lt;&amp;#39; and &amp;#39;&amp;gt;&amp;#39; are not legal in a URI.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m not sure if this should actually be considered a bug in HttpClient, since the website in question should probably be responsible for encoding the URI appropriately; however, browsers handle the situation gracefully, and it would be nice if this excellent library would do so as well.</description>
                <environment></environment>
            <key id="12461024">HTTPCLIENT-930</key>
            <summary>Unencoded redirect URI causes exception when following redirects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="zzantozz">Ryan Stewart</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Apr 2010 15:23:21 +0100</created>
                <updated>Tue, 25 Jan 2011 10:59:35 +0000</updated>
                    <resolved>Sat, 3 Apr 2010 19:39:47 +0100</resolved>
                            <version>4.0.1</version>
                                <fixVersion>4.1 Alpha2</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12852929" author="olegk" created="Fri, 2 Apr 2010 20:32:00 +0100"  >We had similar reports in the past and they all were rejected as invalid, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-778&quot; title=&quot;DefaultRedirectHandler not encoding url before making http request. &quot;&gt;&lt;strike&gt;HTTPCLIENT-778&lt;/strike&gt;&lt;/a&gt; for example.&lt;br/&gt;
&lt;br/&gt;
I am also not sure the way browsers handle this kind of problems can be defined as graceful. I _suspect_ that browsers simply use the good ol&amp;#39; principle of garbage in - garbage out and do not even attempt to escape redirect urls.  &lt;br/&gt;
&lt;br/&gt;
What theoretically can be done about is the following: the abs_path and query parts of the redirect URI are scanned for illegal characters and if any is found the entire URI is considered un-escaped. This of course does not help if you have situations like that:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;/garbage%20in%20garbage%20?param={screw you all}.&lt;br/&gt;
&lt;br/&gt;
Bottom line: malformed request URIs are inherently ambiguous and there is nothing that can be done about it.&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
&amp;nbsp;</comment>
                    <comment id="12853073" author="zzantozz" created="Sat, 3 Apr 2010 05:29:01 +0100"  >Yeah, I can&amp;#39;t disagree with any of that. For my application, at least, I&amp;#39;ll have to try the &amp;quot;escape if it looks unescaped&amp;quot; thing. If you don&amp;#39;t want to add support for that in HttpClient, can I get a new method in DefaultRedirectHandler that I can override and add this behavior to? Either:&lt;br/&gt;
protected String getLocation(HttpResponse response) { ... }&lt;br/&gt;
or&lt;br/&gt;
protected URI createLocationUri(String location) { ... }&lt;br/&gt;
&lt;br/&gt;
Extract one (or both) of these methods from the getLocationURI method, and then I could encode the string either after it gets extracted from the response or before the URI is built.</comment>
                    <comment id="12853180" author="olegk" created="Sat, 3 Apr 2010 19:39:47 +0100"  >Implemented in SVN trunk:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=930560&amp;view=rev&quot;&gt;http://svn.apache.org/viewvc?rev=930560&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Please note HttpClient 4.1 uses newer interface RedirectStrategy instead of deprecated RedirectHandler&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12396886">HTTPCLIENT-778</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 2 Apr 2010 19:32:00 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133936</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47360</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>