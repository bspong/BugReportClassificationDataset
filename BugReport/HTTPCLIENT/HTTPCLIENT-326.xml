<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:16:16 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-326/HTTPCLIENT-326.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-326] MultiThreadedConnectionManager should provide a shutdown</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-326</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>MultiThreadedConnectionManager should provide a shutdown() method to release &lt;br/&gt;
all its resources, it is currently using daemon threads that cannot be stopped &lt;br/&gt;
and HTTP connections that cannot be released.&lt;br/&gt;
This is annoying when the pool of connection is created within a web &lt;br/&gt;
application that is undeployed and re-deployed (i.e. the JVM is not restarted) &lt;br/&gt;
consuming resources on local and remote servers.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: PC</environment>
            <key id="12333885">HTTPCLIENT-326</key>
            <summary>MultiThreadedConnectionManager should provide a shutdown</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="gael_marziou@hp.com">Gael Marziou</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Mar 2004 07:09:43 +0000</created>
                <updated>Wed, 16 Feb 2011 20:44:25 +0000</updated>
                    <resolved>Mon, 15 May 2006 22:45:00 +0100</resolved>
                            <version>2.0 Final</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12381531" author="becke@u.washington.edu" created="Thu, 11 Mar 2004 11:34:49 +0000"  >Created an attachment (id=10752)&lt;br/&gt;
Take 1&lt;br/&gt;
</comment>
                    <comment id="12381532" author="becke@u.washington.edu" created="Thu, 11 Mar 2004 11:39:54 +0000"  >Hi Gael,&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a quick stab at this one.  Please let me know if this is what you were looking for.  I do not know &lt;br/&gt;
if this change will make it into the 2.0 code base.  It may have to wait until 3.0 for an official inclusion.  &lt;br/&gt;
How does everyone else feel about this?&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381533" author="dave.abrams@silkroadtech.com" created="Fri, 12 Mar 2004 23:38:14 +0000"  >This is a MUST HAVE feature.  It is causing a resource leak in our&lt;br/&gt;
server software that is going to force us to not use this library.&lt;br/&gt;
&lt;br/&gt;
If thread A makes a blocking IO HTTP request on a host,&lt;br/&gt;
then thread B needs to be able to call Socket.close(), &lt;br/&gt;
forcing an IO Exception on thread A so it wakes up&lt;br/&gt;
from a blocking Socket.read() call.&lt;br/&gt;
&lt;br/&gt;
IS there any workaround that would let us do it NOW?&lt;br/&gt;
&lt;br/&gt;
Could you suggest how I could modify my own version of&lt;br/&gt;
the code to do it?&lt;br/&gt;
&lt;br/&gt;
URGENTLY NEEDED.&lt;br/&gt;
</comment>
                    <comment id="12381534" author="becke@u.washington.edu" created="Sat, 13 Mar 2004 02:02:59 +0000"  >Hi Dave,&lt;br/&gt;
&lt;br/&gt;
I think what you are looking for is slightly different.  It sounds like you want&lt;br/&gt;
to abort a single HttpMethod.  This feature is covered in &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-217&quot; title=&quot;httpMethod.abort needed&quot;&gt;&lt;strike&gt;HTTPCLIENT-217&lt;/strike&gt;&lt;/a&gt;.  &lt;br/&gt;
&lt;br/&gt;
Your options, until this gets solved officially, are to add an abort method that&lt;br/&gt;
closes the method&amp;#39;s connection, or to use timeouts.  In particular setting the&lt;br/&gt;
socket read timeout, HttpClient.setTimeout(), should handle the case you mention.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381535" author="gael_marziou@hp.com" created="Mon, 15 Mar 2004 19:27:43 +0000"  >Hi Mike,&lt;br/&gt;
&lt;br/&gt;
Thanks for this patch, I just reviewed the code and it does meet our &lt;br/&gt;
requirements, it would be great if it could be part of 2.0 code base &lt;br/&gt;
especially as your implementation is safe because it should have no side &lt;br/&gt;
effect for applications not using this new feature.&lt;br/&gt;
&lt;br/&gt;
Gael</comment>
                    <comment id="12381536" author="olegk" created="Thu, 18 Mar 2004 06:51:53 +0000"  >Mike, the multithreaded connection manager of yours is still a sort of a black&lt;br/&gt;
art to me ;-) But from what I can tell, the patch looks fine. The decision&lt;br/&gt;
whether the patch is safe to be included it into 2.0 branch can only rest with&lt;br/&gt;
you, as you are the one who knows the code best&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381537" author="becke@u.washington.edu" created="Thu, 18 Mar 2004 12:23:11 +0000"  >Yes, it has become pretty complicated.  These changes are pretty safe I think, and are needed to fix a &lt;br/&gt;
hole in the current 2.0 distribution.  I will make a few more documentation enhancements and apply the &lt;br/&gt;
patch, if there are no objections.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381538" author="becke@u.washington.edu" created="Wed, 24 Mar 2004 11:51:14 +0000"  >Created an attachment (id=10938)&lt;br/&gt;
One more try&lt;br/&gt;
</comment>
                    <comment id="12381539" author="becke@u.washington.edu" created="Wed, 24 Mar 2004 11:56:42 +0000"  >Ok, I was just going to commit the last patch, but I thought of one more thing.  This patch now closes &lt;br/&gt;
and releases all connections associated with the connection manager, including those that are checked &lt;br/&gt;
out.  Please let me know if there are any comments/suggestions.  If there are no objections I will apply &lt;br/&gt;
tomorrow.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381540" author="gareth_davies@tdwh.co.uk" created="Wed, 24 Mar 2004 16:28:59 +0000"  >I&amp;#39;ve been following this with great interest as it is a feature that we really &lt;br/&gt;
need in our application.&lt;br/&gt;
&lt;br/&gt;
If the closes the checked out connections then so be it. This is a lot better &lt;br/&gt;
than leaving a bunch of sockets open for GC to (maybe) collect up later.&lt;br/&gt;
&lt;br/&gt;
Gareth Davis</comment>
                    <comment id="12381541" author="olegk" created="Wed, 24 Mar 2004 18:55:02 +0000"  >I believe this behavior is justified (after all, shutting down connection&lt;br/&gt;
manager is all about closing connections it manages, imo) as long as this fact&lt;br/&gt;
is reflected in the javadocs and documentation.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381542" author="becke@u.washington.edu" created="Mon, 29 Mar 2004 06:27:43 +0100"  >Patch applied to 2.0 and HEAD.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381543" author="gael_marziou@hp.com" created="Mon, 29 Mar 2004 18:27:36 +0100"  >Thanks.&lt;br/&gt;
&lt;br/&gt;
It seems that the nightly builds are done on the HEAD only, so I guess I have &lt;br/&gt;
to retrieve the source from CVS and build myself.&lt;br/&gt;
&lt;br/&gt;
Or is there any plan to have nightly builds for 2.0 support also?&lt;br/&gt;
&lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="12327075" name="ASF.LICENSE.NOT.GRANTED--shutdown.patch" size="15412" author="becke@u.washington.edu" created="Wed, 24 Mar 2004 11:51:14 +0000" />
                    <attachment id="12327074" name="ASF.LICENSE.NOT.GRANTED--shutdown.patch" size="13383" author="becke@u.washington.edu" created="Thu, 11 Mar 2004 11:34:49 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>27589</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 11 Mar 2004 11:34:49 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133375</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47174</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>