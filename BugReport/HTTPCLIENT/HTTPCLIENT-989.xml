<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:57 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-989/HTTPCLIENT-989.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-989] DefaultHttpRequestRetryHandler must not retry non-idempotent http methods (violates RFC 2616)</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-989</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>In DefaultHttpRequestRetryHandler, in case of NoHttpResponseException, the request is retried, without taking into account whether the http method is idempotent or not. This violates RFC 2616 section 8.1.4 which states :&lt;br/&gt;
{quote}&lt;br/&gt;
This means that clients, servers, and proxies MUST be able to recover&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;from asynchronous close events. Client software SHOULD reopen the&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;transport connection and retransmit the aborted sequence of requests&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;without user interaction so long as the request sequence is&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;idempotent (see section 9.1.2). Non-idempotent methods or sequences&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MUST NOT be automatically retried, although user agents MAY offer a&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;human operator the choice of retrying the request(s).&lt;br/&gt;
{quote}&lt;br/&gt;
&lt;br/&gt;
The fix is simple : at line 94, just remove the {{if (exception instanceof NoHttpResponseException) }} block. This way the idempotency of the method will be taken into account a bit further in the same method.</description>
                <environment></environment>
            <key id="12473488">HTTPCLIENT-989</key>
            <summary>DefaultHttpRequestRetryHandler must not retry non-idempotent http methods (violates RFC 2616)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="slaurent">Sylvain Laurent</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Sep 2010 21:47:56 +0100</created>
                <updated>Tue, 25 Jan 2011 11:00:21 +0000</updated>
                    <resolved>Wed, 8 Sep 2010 21:12:41 +0100</resolved>
                            <version>4.0.1</version>
                <version>4.1 Alpha2</version>
                                <fixVersion>4.1 Beta1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12906968" author="slaurent" created="Tue, 7 Sep 2010 21:51:47 +0100"  >I had raised the same problem for version 3.x in &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-886&quot; title=&quot;Incorrect handling of NoHttpResponseException in DefaultHttpMethodRetryHandler&quot;&gt;&lt;strike&gt;HTTPCLIENT-886&lt;/strike&gt;&lt;/a&gt;, but it was dismissed :-(&lt;br/&gt;
This time I hope I found the applicable part of the RFC to make my point.</comment>
                    <comment id="12907401" author="olegk" created="Wed, 8 Sep 2010 21:12:41 +0100"  >Fixed in trunk.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12907410" author="slaurent" created="Wed, 8 Sep 2010 21:26:25 +0100"  >thanks.&lt;br/&gt;
It would be nice to add some trace or debug level messages to explain the decision returned by the retryHandler...</comment>
                    <comment id="12907414" author="olegk" created="Wed, 8 Sep 2010 21:32:48 +0100"  >I personally think that logging in DefaultRequestDirector is sufficient, but do feel free to contribute a patch with proposed changes.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10020">
                <name>Cloners</name>
                                                <inwardlinks description="is a clone of">
                            <issuelink>
            <issuekey id="12439848">HTTPCLIENT-886</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 8 Sep 2010 20:12:41 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133990</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47326</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>