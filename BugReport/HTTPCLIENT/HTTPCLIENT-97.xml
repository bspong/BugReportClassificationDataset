<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-97/HTTPCLIENT-97.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-97] Error reading data</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-97</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Hi,&lt;br/&gt;
&lt;br/&gt;
I have some problems with HttpClient HEAD. It works fine with a build of &lt;br/&gt;
20020720 of HttpClient though.&lt;br/&gt;
&lt;br/&gt;
It seems HttpClient is not reading correctly the returned HTTP response.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m attaching the logs.&lt;br/&gt;
&lt;br/&gt;
Here is the output from Cactus build:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] Testcase: testLongProcess took 3.645 sec&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         Caused an ERROR&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] Failed to get the test results. This is probably due &lt;br/&gt;
to an error that happen&lt;br/&gt;
ed on the server side when trying to execute the tests. Here is what was &lt;br/&gt;
returned by the server : [&amp;lt;&lt;br/&gt;
html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;Long Process&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;Some data&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] ]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] org.apache.cactus.util.ChainedRuntimeException: Failed &lt;br/&gt;
to get the test resul&lt;br/&gt;
ts. This is probably due to an error that happened on the server side when &lt;br/&gt;
trying to execute the tes&lt;br/&gt;
ts. Here is what was returned by the server : [&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;Long &lt;br/&gt;
Process&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;Some data&amp;lt;/bod&lt;br/&gt;
y&amp;gt;&amp;lt;/html&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] ]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at &lt;br/&gt;
org.apache.cactus.client.AbstractHttpClient.doTest(Unknown Source&lt;br/&gt;
)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at &lt;br/&gt;
org.apache.cactus.AbstractWebTestCase.runWebTest(Unknown Source)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at &lt;br/&gt;
org.apache.cactus.AbstractWebTestCase.runGenericTest(Unknown Sour&lt;br/&gt;
ce)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at org.apache.cactus.ServletTestCase.runTest&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at org.apache.cactus.AbstractTestCase.runBare&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] org.apache.cactus.client.ParsingException: Not a valid &lt;br/&gt;
response. First 100 c&lt;br/&gt;
haracters of the reponse: [&amp;lt;/webresult&amp;gt;HTTP/1.1 200 OK&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] Server: Resin/2.1.2&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] Content-Length: 23&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit] Date: Tue, 13 Aug 2002 08:45:2]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at &lt;br/&gt;
org.apache.cactus.client.WebTestResultParser.readExceptionClassna&lt;br/&gt;
me(Unknown Source)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     [junit]         at &lt;br/&gt;
org.apache.cactus.client.WebTestResultParser.parse(Unknown Source&lt;br/&gt;
&lt;br/&gt;
Thanks&lt;br/&gt;
-Vincent</description>
                <environment>Operating System: Windows XP&lt;br/&gt;
Platform: PC</environment>
            <key id="12333656">HTTPCLIENT-97</key>
            <summary>Error reading data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jsdever@sympatico.ca">Jeff Dever</assignee>
                                <reporter username="vmassol">Vincent Massol</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Aug 2002 17:16:59 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:06 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:06 +0100</resolved>
                            <version>Snapshot</version>
                                <fixVersion>2.0 Milestone 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379592" author="vmassol" created="Tue, 13 Aug 2002 17:18:44 +0100"  >Created an attachment (id=2695)&lt;br/&gt;
HttpClient logs&lt;br/&gt;
</comment>
                    <comment id="12379593" author="jsdever@sympatico.ca" created="Tue, 13 Aug 2002 19:21:05 +0100"  >The in the attachment the response looks like it came back twice or doubled up&lt;br/&gt;
somehow:&lt;br/&gt;
&lt;br/&gt;
The wire log shows the response to be:&lt;br/&gt;
&amp;quot;&amp;lt;webresult&amp;gt;&amp;lt;/webresult&amp;gt;HTTP/1.1 200 OK&lt;br/&gt;
Server: Resin/2.1.2&lt;br/&gt;
Content-Length: 23&lt;br/&gt;
Date: Tue, 13 Aug 2002 08:45:21 GMT&lt;br/&gt;
&lt;br/&gt;
&amp;lt;webresult&amp;gt;&amp;lt;/webresult&amp;gt;HTTP/1.1 200 OK&lt;br/&gt;
Server: Resin/2.1.2&lt;br/&gt;
Content-Length: 23&lt;br/&gt;
Date: Tue, 13 Aug 2002 08:45:21 GMT&lt;br/&gt;
&lt;br/&gt;
&amp;lt;webresult&amp;gt;&amp;lt;/webresult&amp;gt;&amp;quot;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Its highly doubtful that the response actually came back like that from the&lt;br/&gt;
webserver.  But somehow, when doing the read from the stream, it looks like it&lt;br/&gt;
was read twice, and perhaps the tail end of a 3rd right at the start.  Not sure&lt;br/&gt;
if the stream was not fully empied from the previous read, but it looks like its&lt;br/&gt;
all the same request because of the timestamp being identical.&lt;br/&gt;
&lt;br/&gt;
This looks like a http GET, not http HEAD as stated in the initial comments:&lt;br/&gt;
&amp;quot;GET /test/ServletRedirector?Cactus_Service=GET_RESULTS HTTP/1.1&amp;quot; [\r\n]</comment>
                    <comment id="12379594" author="vmassol" created="Tue, 13 Aug 2002 20:40:21 +0100"  >&amp;gt; The in the attachment the response looks like it came back twice or doubled &lt;br/&gt;
up&lt;br/&gt;
&amp;gt; somehow:&lt;br/&gt;
&lt;br/&gt;
yep. As I said, this does not happen with a build of HttpClient dated &lt;br/&gt;
20020720, so something must have changed in HttpClient in that regards.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; Not sure&lt;br/&gt;
&amp;gt; if the stream was not fully empied from the previous read, but it looks like &lt;br/&gt;
its&lt;br/&gt;
&amp;gt; all the same request because of the timestamp being identical.&lt;br/&gt;
&lt;br/&gt;
What can we do to further debug the problem ?&lt;br/&gt;
&lt;br/&gt;
&amp;gt; This looks like a http GET, not http HEAD as stated in the initial comments:&lt;br/&gt;
&amp;quot;GET /test/ServletRedirector?Cactus_Service=GET_RESULTS HTTP/1.1&amp;quot; [\r\n]&lt;br/&gt;
&lt;br/&gt;
When I said HEAD, I meant CVS HEAD not HTTP HEAD ... :-)&lt;br/&gt;
Yes, I&amp;#39;m doing a GET ...</comment>
                    <comment id="12379595" author="jsdever@sympatico.ca" created="Sat, 7 Sep 2002 00:14:19 +0100"  >Is this still a problem Vincent?</comment>
                    <comment id="12379596" author="vmassol" created="Sat, 7 Sep 2002 00:24:50 +0100"  >Hi Jeff,&lt;br/&gt;
&lt;br/&gt;
It seems it was fixed in one of the other HttpClient bug fix some time ago. &lt;br/&gt;
Anyway, everything is working fine now.&lt;br/&gt;
&lt;br/&gt;
Thanks&lt;br/&gt;
-Vincent</comment>
                </comments>
                    <attachments>
                    <attachment id="12326676" name="ASF.LICENSE.NOT.GRANTED--cactus_client.log" size="34689" author="vmassol" created="Tue, 13 Aug 2002 17:18:44 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11649</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 13 Aug 2002 18:21:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133152</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188705</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>