<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:16:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-368/HTTPCLIENT-368.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-368] [PATCH]character encoding handling is invalid at multipart</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-368</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Hi,&lt;br/&gt;
&lt;br/&gt;
Commons-Httpclient handle character encoding incorrect at multipart. This is &lt;br/&gt;
significant problem for other than English people like me. Multipart has two &lt;br/&gt;
encoding. First is header encoding which specify header of each part. Second &lt;br/&gt;
is it&amp;#39;s body encoding. Body encoding works well but header encoding is fixed &lt;br/&gt;
as &amp;#39;asc-ii&amp;#39;. This problem user following situation.&lt;br/&gt;
&lt;br/&gt;
* upload file which file name is described by other than &amp;quot;asc-ii&amp;quot;.&lt;br/&gt;
* use parameter which include other than &amp;quot;asc-ii&amp;quot; character.&lt;br/&gt;
&lt;br/&gt;
Unfortunately , It seems RFC doesn&amp;#39;t define header encoding for multipart but &lt;br/&gt;
a lot of people needs set header encoding for thier own laungage. I attached&lt;br/&gt;
the patch. Please fix this problem.&lt;br/&gt;
&lt;br/&gt;
regards,&lt;br/&gt;
&lt;br/&gt;
Takashi Okamoto</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: All</environment>
            <key id="12333927">HTTPCLIENT-368</key>
            <summary>[PATCH]character encoding handling is invalid at multipart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="toraneko@kun.ne.jp">toraneko</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2004 07:38:27 +0100</created>
                <updated>Wed, 16 Feb 2011 20:44:53 +0000</updated>
                    <resolved>Mon, 15 May 2006 22:45:01 +0100</resolved>
                            <version>Snapshot</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12381857" author="toraneko@kun.ne.jp" created="Sat, 31 Jul 2004 07:39:50 +0100"  >Created an attachment (id=12286)&lt;br/&gt;
patch for handling header encoding&lt;br/&gt;
</comment>
                    <comment id="12381858" author="oglueck" created="Mon, 2 Aug 2004 15:00:07 +0100"  >Just a simple question:&lt;br/&gt;
How would the server know which encoding was used for the multipart headers?</comment>
                    <comment id="12381859" author="adrian@ephox.com" created="Mon, 2 Aug 2004 15:52:37 +0100"  >According to RFC 2388 (&lt;a href=&quot;http://www.faqs.org/rfcs/rfc2388.html),&quot;&gt;http://www.faqs.org/rfcs/rfc2388.html),&lt;/a&gt; section 3, the encoding of header &lt;br/&gt;
values is ASCII but non-ASCII characters may be encoded according to RFC2047 (&lt;a href=&quot;http://www.faqs.org/&quot;&gt;http://www.faqs.org/&lt;/a&gt;&lt;br/&gt;
rfcs/rfc2047.html) which is MIME encoding.  So as far as I can tell this patch is incorrect but we may &lt;br/&gt;
want to consider having the capability for HttpClient to use RFC2047 encoding automatically when &lt;br/&gt;
required.&lt;br/&gt;
&lt;br/&gt;
The current workaround is to simply specify the header values pre-encoded according to RFC2047.&lt;br/&gt;
&lt;br/&gt;
Does that seem right to anyone else?</comment>
                    <comment id="12381860" author="oglueck" created="Mon, 2 Aug 2004 16:08:33 +0100"  >Adrian,&lt;br/&gt;
&lt;br/&gt;
Thanks for the hint to RFC-2388. However I am unsure if it really applies here,&lt;br/&gt;
as RFC-2388 covers &amp;quot;multipart/form-data&amp;quot; only.</comment>
                    <comment id="12381861" author="adrian@ephox.com" created="Mon, 2 Aug 2004 17:45:28 +0100"  >oops, you&amp;#39;re right.  RFC 1867 is referenced in the JavaDocs for MultipartPostMethod and it says (in &lt;br/&gt;
section 7):&lt;br/&gt;
&lt;br/&gt;
Field names originally in non-ASCII character sets may be encoded using the method outlined in RFC &lt;br/&gt;
1522.&lt;br/&gt;
&lt;br/&gt;
RFC1522 is available at &lt;a href=&quot;http://www.faqs.org/rfcs/rfc1522.html&quot;&gt;http://www.faqs.org/rfcs/rfc1522.html&lt;/a&gt; and is also MIME encoding (it&amp;#39;s part two &lt;br/&gt;
of the document that RFC 2047 is part three of).  One of the options is provides is:&lt;br/&gt;
&lt;br/&gt;
4.1. The &amp;quot;B&amp;quot; encoding&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;The &amp;quot;B&amp;quot; encoding is identical to the &amp;quot;BASE64&amp;quot; encoding defined by RFC&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;1521.&lt;br/&gt;
&lt;br/&gt;
We already have BASE64 encoding available to us.  The other option seems to be quoted-printable.  I&amp;#39;d &lt;br/&gt;
need to read the spec in more detail to be sure about how it all works but it looks like the header values &lt;br/&gt;
could be pre-encoded according to RFC 1522 and then passed into HttpClient as I mentioned earlier.  It &lt;br/&gt;
should wind up looking something like:&lt;br/&gt;
&lt;br/&gt;
=?US-ASCII?Q?Keith_Moore?=&lt;br/&gt;
&lt;br/&gt;
Which is the same format used in email headers.&lt;br/&gt;
&lt;br/&gt;
In fact, our own JavaDocs quote the standard:&lt;br/&gt;
&lt;br/&gt;
Field names originally in non-ASCII character sets may be encoded using the method outlined in RFC &lt;br/&gt;
1522.&lt;br/&gt;
&lt;br/&gt;
We probably should look at implementing support for this at some point then.</comment>
                    <comment id="12381862" author="olegk" created="Sun, 8 Aug 2004 21:06:06 +0100"  >Folks,&lt;br/&gt;
I have already submitted Q-codec and B-codec implementations to the&lt;br/&gt;
commons-codec project. Both codecs are available as of release 1.3Folks,&lt;br/&gt;
I have already submitted Q-codec and B-codec implementations to the&lt;br/&gt;
commons-codec project. Both codecs are available as of release 1.3&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/codec/changes-report.html#1_3&quot;&gt;http://jakarta.apache.org/commons/codec/changes-report.html#1_3&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
With just a few lines of code non-ascii character encoding can be implemented on&lt;br/&gt;
top of the stock version of HttpClient. Full integration of this feature is&lt;br/&gt;
targeted for 4.0&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
&lt;br/&gt;
*** This bug has been marked as a duplicate of 24504 ***</comment>
                </comments>
                    <attachments>
                    <attachment id="12327135" name="ASF.LICENSE.NOT.GRANTED--commons-httpclient-header-body-encoding.path" size="18062" author="toraneko@kun.ne.jp" created="Sat, 31 Jul 2004 07:39:50 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>30420</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 2 Aug 2004 14:00:07 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133416</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47112</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>