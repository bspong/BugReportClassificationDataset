<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:12:57 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-1107/HTTPCLIENT-1107.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-1107] HttpClient does not retry authentication when multiple challenges are present if the primary one fails</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1107</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>I&amp;#39;m trying to request a page from IIS (6 and 7.5).  If the IIS is configured with providers for &amp;quot;negotiate&amp;quot; and &amp;quot;ntlm&amp;quot; then the Negotiate authentication is tried and fails, but it does not then try to use the NTLM authentication which is what I require.  If I removed &amp;quot;negotiate&amp;quot; as a provider from IIS and just use NTLM then all works well - but this is not a solution as I don&amp;#39;t have control of the web servers. &lt;br/&gt;
&lt;br/&gt;
Output below...&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
[DEBUG] SingleClientConnManager - Get connection for route HttpRoute[{}-&amp;gt;&lt;a href=&quot;http://WIN-HNB91NNAB2G&quot;&gt;http://WIN-HNB91NNAB2G&lt;/a&gt;]&lt;br/&gt;
[DEBUG] DefaultClientConnectionOperator - Connecting to WIN-HNB91NNAB2G/147.183.80.134:80&lt;br/&gt;
[DEBUG] RequestAddCookies - CookieSpec selected: best-match&lt;br/&gt;
[DEBUG] DefaultHttpClient - Attempt 1 to execute request&lt;br/&gt;
[DEBUG] DefaultClientConnection - Sending request: GET / HTTP/1.1&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;GET / HTTP/1.1[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Host: WIN-HNB91NNAB2G[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Connection: Keep-Alive[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;User-Agent: Apache-HttpClient/4.1 (java 1.5)[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; GET / HTTP/1.1&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Host: WIN-HNB91NNAB2G&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Connection: Keep-Alive&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.1 (java 1.5)&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;HTTP/1.1 401 Unauthorized[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Type: text/html[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Server: Microsoft-IIS/7.5[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: Negotiate[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: NTLM[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Date: Fri, 15 Jul 2011 12:15:11 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Length: 58[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] DefaultClientConnection - Receiving response: HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Type: text/html&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Server: Microsoft-IIS/7.5&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: Negotiate&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: NTLM&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Date: Fri, 15 Jul 2011 12:15:11 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Length: 58&lt;br/&gt;
[DEBUG] DefaultHttpClient - Connection can be kept alive indefinitely&lt;br/&gt;
[DEBUG] DefaultHttpClient - Target requested authentication&lt;br/&gt;
[DEBUG] DefaultTargetAuthenticationHandler - Authentication schemes in the order of preference: [negotiate, NTLM, Digest, Basic]&lt;br/&gt;
[DEBUG] DefaultTargetAuthenticationHandler - negotiate authentication scheme selected&lt;br/&gt;
[DEBUG] NegotiateScheme - Received challenge &amp;#39;&amp;#39; from the auth server&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authorization challenge processed&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authentication scope: NEGOTIATE &amp;lt;any realm&amp;gt;@win-hnb91nnab2g:80&lt;br/&gt;
[DEBUG] DefaultHttpClient - Found credentials&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;You do not have permission to view this directory or page.&amp;quot;&lt;br/&gt;
[DEBUG] RequestAddCookies - CookieSpec selected: best-match&lt;br/&gt;
[DEBUG] NegotiateScheme - init WIN-HNB91NNAB2G&lt;br/&gt;
[ERROR] RequestTargetAuthentication - Authentication error: Invalid name provided (Mechanism level: Could not load configuration file C:\WINDOWS\krb5.ini (The system cannot find the file specified))&lt;br/&gt;
[DEBUG] DefaultHttpClient - Attempt 2 to execute request&lt;br/&gt;
[DEBUG] DefaultClientConnection - Sending request: GET / HTTP/1.1&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;GET / HTTP/1.1[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Host: WIN-HNB91NNAB2G[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Connection: Keep-Alive[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;User-Agent: Apache-HttpClient/4.1 (java 1.5)[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; GET / HTTP/1.1&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Host: WIN-HNB91NNAB2G&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Connection: Keep-Alive&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.1 (java 1.5)&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;HTTP/1.1 401 Unauthorized[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Type: text/html[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Server: Microsoft-IIS/7.5[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: Negotiate[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: NTLM[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Date: Fri, 15 Jul 2011 12:15:11 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Length: 58[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] DefaultClientConnection - Receiving response: HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Type: text/html&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Server: Microsoft-IIS/7.5&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: Negotiate&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: NTLM&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Date: Fri, 15 Jul 2011 12:15:11 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Length: 58&lt;br/&gt;
[DEBUG] DefaultHttpClient - Connection can be kept alive indefinitely&lt;br/&gt;
[DEBUG] DefaultHttpClient - Target requested authentication&lt;br/&gt;
[DEBUG] NegotiateScheme - Received challenge &amp;#39;&amp;#39; from the auth server&lt;br/&gt;
[DEBUG] NegotiateScheme - Authentication already attempted&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authorization challenge processed&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authentication scope: NEGOTIATE &amp;lt;any realm&amp;gt;@win-hnb91nnab2g:80&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authentication failed&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;You do not have permission to view this directory or page.&amp;quot;&lt;br/&gt;
content:You do not have permission to view this directory or page.&lt;br/&gt;
[DEBUG] SingleClientConnManager - Releasing connection org.apache.http.impl.conn.SingleClientConnManager$&lt;a href=&apos;mailto:ConnAdapter@17fa65e&apos;&gt;ConnAdapter@17fa65e&lt;/a&gt;&lt;br/&gt;
</description>
                <environment>Windows XP, running against IIS 6 and IIS 7.5</environment>
            <key id="12514218">HTTPCLIENT-1107</key>
            <summary>HttpClient does not retry authentication when multiple challenges are present if the primary one fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="olegk">Oleg Kalnichevski</assignee>
                                <reporter username="ibeaumont">Ian Beaumont</reporter>
                        <labels>
                        <label>authentication</label>
                        <label>negotiate</label>
                        <label>ntlm</label>
                    </labels>
                <created>Fri, 15 Jul 2011 14:35:28 +0100</created>
                <updated>Wed, 3 Oct 2012 18:06:52 +0100</updated>
                    <resolved>Thu, 12 Jan 2012 19:53:06 +0000</resolved>
                            <version>4.1.1</version>
                                <fixVersion>4.2 Alpha1</fixVersion>
                <fixVersion>4.2 Beta1</fixVersion>
                                <component>HttpAuth</component>
                        <due></due>
                    <votes>4</votes>
                        <watches>4</watches>
                                                    <comments>
                    <comment id="13068434" author="olegk" created="Wed, 20 Jul 2011 16:23:28 +0100"  >Unfortunately a proper solution to this issue will require a fair amount of code refactoring and deprecation of the AuthenticationHandler interface.&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="13083958" author="dwaite" created="Fri, 12 Aug 2011 06:58:11 +0100"  >Oleg, can you give more details on your envisioned approach?&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ve been working on this for my own needs, but my approaches keep having issues due to the authentication schemes being split into processChallenge and authenticate, which are called in very different parts of the code. &lt;br/&gt;
&lt;br/&gt;
One approach I thought of is to create every challenged scheme from the response and attempt to authenticate in order for making the headers out - but this will make an array of AuthState objects, which will break  ClientContext.TARGET_AUTH_STATE (and the proxy equivalent).</comment>
                    <comment id="13084173" author="olegk" created="Fri, 12 Aug 2011 16:01:34 +0100"  >David,&lt;br/&gt;
&lt;br/&gt;
Luckily AuthState is a class and not an interface, so we can simply deprecate the #setAuthScheme(AuthScheme) method in favor of new #setAuthSchemes(List&amp;lt;AuthScheme&amp;gt;) method without breaking API compatibility. Yes, the approach you outlined sounds feasible. Another possibility might be to move all authentication logic into the auth handler. The product of the handler&amp;#39;s work would be a Header containing the final auth response to one of the available chanllenges instead of a list of AtuhScheme objects.&lt;br/&gt;
&lt;br/&gt;
I intend to fix this problem the first thing after the coming ALPHA releases of HttpCore 4.2 and HttpAsyncClient and 4.0 are done with, but do feel free to take over.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="13119773" author="olegk" created="Tue, 4 Oct 2011 00:58:33 +0100"  >The auth scheme fall-back mechanism should now work as expected. Could you please try out the latest SVN snapshot and let me know the results?&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="13146212" author="ala" created="Tue, 8 Nov 2011 10:52:52 +0000"  >Hi everyone,&lt;br/&gt;
&lt;br/&gt;
I have the same issue on my program and I am currently testing the Version 4.2 Alpha1.&lt;br/&gt;
&lt;br/&gt;
Could you tell me please if the code sample showed in &lt;a href=&quot;http://hc.apache.org/httpcomponents-client-ga/ntlm.html&quot;&gt;http://hc.apache.org/httpcomponents-client-ga/ntlm.html&lt;/a&gt; &lt;br/&gt;
is still intended to work with the fix ?&lt;br/&gt;
&lt;br/&gt;
thx &lt;br/&gt;
</comment>
                    <comment id="13146235" author="olegk" created="Tue, 8 Nov 2011 11:56:01 +0000"  >&amp;gt; Could you tell me please if the code sample showed in &lt;a href=&quot;http://hc.apache.org/httpcomponents-client-ga/ntlm.html&quot;&gt;http://hc.apache.org/httpcomponents-client-ga/ntlm.html&lt;/a&gt;&lt;br/&gt;
&amp;gt; is still intended to work with the fix ? &lt;br/&gt;
&lt;br/&gt;
Yes, it is. &lt;br/&gt;
&lt;br/&gt;
Please note, though, JIRA is not a bulletin board. It is an issue tracker. Please post all your HttpClient related questions to the user mailing list instead [1].&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;http://hc.apache.org/mail-lists.html&quot;&gt;http://hc.apache.org/mail-lists.html&lt;/a&gt;&lt;br/&gt;
</comment>
                    <comment id="13146268" author="ibeaumont" created="Tue, 8 Nov 2011 12:52:46 +0000"  >I&amp;#39;ve tested my original problem against Version 4.2 Alpha1 and it appears fixed now.  &lt;br/&gt;
Thank you Oleg!</comment>
                    <comment id="13146276" author="olegk" created="Tue, 8 Nov 2011 12:58:21 +0000"  >@Ian&lt;br/&gt;
&lt;br/&gt;
Glad to hear that. Would it be a big deal for you to generate a header wire + context log [1] of the session for me to take a look at, though?&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;http://hc.apache.org/httpcomponents-client-ga/logging.html&quot;&gt;http://hc.apache.org/httpcomponents-client-ga/logging.html&lt;/a&gt;</comment>
                    <comment id="13146288" author="ibeaumont" created="Tue, 8 Nov 2011 13:05:33 +0000"  >Here you go...(let me know if you need something different).&lt;br/&gt;
&lt;br/&gt;
authSchemes[basic, digest, ntlm, negotiate]&lt;br/&gt;
[DEBUG] PoolingClientConnectionManager - Connection request: [route: {}-&amp;gt;&lt;a href=&quot;http://WIN2008-CAT&quot;&gt;http://WIN2008-CAT&lt;/a&gt;][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]&lt;br/&gt;
[DEBUG] PoolingClientConnectionManager - Connection leased: [id: 0][route: {}-&amp;gt;&lt;a href=&quot;http://WIN2008-CAT&quot;&gt;http://WIN2008-CAT&lt;/a&gt;][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]&lt;br/&gt;
[DEBUG] DefaultClientConnectionOperator - Connecting to WIN2008-CAT:80&lt;br/&gt;
[DEBUG] RequestAddCookies - CookieSpec selected: best-match&lt;br/&gt;
[DEBUG] RequestAuthCache - Auth cache not set in the context&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Target auth state: UNCHALLENGED&lt;br/&gt;
[DEBUG] RequestProxyAuthentication - Proxy auth state: UNCHALLENGED&lt;br/&gt;
[DEBUG] DefaultHttpClient - Attempt 1 to execute request&lt;br/&gt;
[DEBUG] DefaultClientConnection - Sending request: GET / HTTP/1.1&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;GET / HTTP/1.1[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Host: WIN2008-CAT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Connection: Keep-Alive[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; GET / HTTP/1.1&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Host: WIN2008-CAT&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Connection: Keep-Alive&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;HTTP/1.1 401 Unauthorized[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Type: text/html[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Server: Microsoft-IIS/7.0[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: Negotiate[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: NTLM[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;X-Powered-By: ASP.NET[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Date: Tue, 08 Nov 2011 13:01:06 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Length: 1293[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] DefaultClientConnection - Receiving response: HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Type: text/html&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Server: Microsoft-IIS/7.0&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: Negotiate&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: NTLM&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; X-Powered-By: ASP.NET&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Date: Tue, 08 Nov 2011 13:01:06 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Length: 1293&lt;br/&gt;
[DEBUG] DefaultHttpClient - Connection can be kept alive indefinitely&lt;br/&gt;
[DEBUG] DefaultHttpClient - WIN2008-CAT:80 requested authentication&lt;br/&gt;
[DEBUG] TargetAuthenticationStrategy - Authentication schemes in the order of preference: [negotiate, NTLM, Digest, Basic]&lt;br/&gt;
[DEBUG] NegotiateScheme - Received challenge &amp;#39;&amp;#39; from the auth server&lt;br/&gt;
[DEBUG] TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available&lt;br/&gt;
[DEBUG] TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Strict//EN&amp;quot; &amp;quot;&lt;a href=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;html xmlns=&amp;quot;&lt;a href=&quot;http://www.w3.org/1999/xhtml&quot;&gt;http://www.w3.org/1999/xhtml&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=iso-8859-1&amp;quot;/&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;title&amp;gt;401 - Unauthorized: Access is denied due to invalid credentials.&amp;lt;/title&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;style type=&amp;quot;text/css&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!--[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;body{margin:0;font-size:.7em;font-family:Verdana, Arial, Helvetica, sans-serif;background:#EEEEEE;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;fieldset{padding:0 15px 10px 15px;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h1{font-size:2.4em;margin:0;color:#FFF;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h2{font-size:1.7em;margin:0;color:#CC0000;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h3{font-size:1.2em;margin:10px 0 0 0;color:#000000;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;#header{width:96%;margin:0 0 0 0;padding:6px 2% 6px 2%;font-family:&amp;quot;trebuchet MS&amp;quot;, Verdana, sans-serif;color:#FFF;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;background-color:#555555;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;#content{margin:0 0 0 2%;position:relative;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;.content-container{background:#FFF;width:96%;margin-top:8px;padding:10px;position:relative;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;--&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/style&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;div id=&amp;quot;header&amp;quot;&amp;gt;&amp;lt;h1&amp;gt;Server Error&amp;lt;/h1&amp;gt;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;div id=&amp;quot;content&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot; &amp;lt;div class=&amp;quot;content-container&amp;quot;&amp;gt;&amp;lt;fieldset&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;  &amp;lt;h2&amp;gt;401 - Unauthorized: Access is denied due to invalid credentials.&amp;lt;/h2&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;  &amp;lt;h3&amp;gt;You do not have permission to view this directory or page using the credentials that you supplied.&amp;lt;/h3&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot; &amp;lt;/fieldset&amp;gt;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/html&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] RequestAddCookies - CookieSpec selected: best-match&lt;br/&gt;
[DEBUG] RequestAuthCache - Auth cache not set in the context&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Target auth state: CHALLENGED&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Generating response to an authentication challenge using Negotiate scheme&lt;br/&gt;
[DEBUG] NegotiateScheme - init WIN2008-CAT&lt;br/&gt;
[WARN] RequestTargetAuthentication - NEGOTIATE authentication error: Invalid name provided (Mechanism level: Could not load configuration file C:\WINDOWS\krb5.ini (The system cannot find the file specified))&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Generating response to an authentication challenge using ntlm scheme&lt;br/&gt;
[DEBUG] RequestProxyAuthentication - Proxy auth state: UNCHALLENGED&lt;br/&gt;
[DEBUG] DefaultHttpClient - Attempt 2 to execute request&lt;br/&gt;
[DEBUG] DefaultClientConnection - Sending request: GET / HTTP/1.1&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;GET / HTTP/1.1[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Host: WIN2008-CAT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Connection: Keep-Alive[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Authorization: NTLM TlRMTVNTUAABAAAANQIIIAYABgA2AAAAFgAWACAAAABJAEEATgAtAEwAQQBQAFQATwBQADIAUwBXAEcA[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; GET / HTTP/1.1&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Host: WIN2008-CAT&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Connection: Keep-Alive&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Authorization: NTLM TlRMTVNTUAABAAAANQIIIAYABgA2AAAAFgAWACAAAABJAEEATgAtAEwAQQBQAFQATwBQADIAUwBXAEcA&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;HTTP/1.1 401 Unauthorized[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Type: text/html[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Server: Microsoft-IIS/7.0[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: NTLM TlRMTVNTUAACAAAABgAGADgAAAA1Aoki96Eu6J7t1joAAAAAAAAAAJgAmAA+AAAABgByFwAAAA9TAFcARwACAAYAUwBXAEcAAQAWAFcASQBOADIAMAAwADgALQBDAEEAVAAEABgAUwBXAEcALgBDAEQAQwAuAFIATwBPAFQAAwAwAFcASQBOADIAMAAwADgALQBDAEEAVAAuAFMAVwBHAC4AQwBEAEMALgBSAE8ATwBUAAUAEABjAGQAYwAuAHIAbwBvAHQABwAIAOKwfHoWnswBAAAAAA==[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;WWW-Authenticate: Negotiate[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;X-Powered-By: ASP.NET[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Date: Tue, 08 Nov 2011 13:01:06 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Length: 1293[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] DefaultClientConnection - Receiving response: HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Type: text/html&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Server: Microsoft-IIS/7.0&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: NTLM TlRMTVNTUAACAAAABgAGADgAAAA1Aoki96Eu6J7t1joAAAAAAAAAAJgAmAA+AAAABgByFwAAAA9TAFcARwACAAYAUwBXAEcAAQAWAFcASQBOADIAMAAwADgALQBDAEEAVAAEABgAUwBXAEcALgBDAEQAQwAuAFIATwBPAFQAAwAwAFcASQBOADIAMAAwADgALQBDAEEAVAAuAFMAVwBHAC4AQwBEAEMALgBSAE8ATwBUAAUAEABjAGQAYwAuAHIAbwBvAHQABwAIAOKwfHoWnswBAAAAAA==&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; WWW-Authenticate: Negotiate&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; X-Powered-By: ASP.NET&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Date: Tue, 08 Nov 2011 13:01:06 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Length: 1293&lt;br/&gt;
[DEBUG] DefaultHttpClient - Connection can be kept alive indefinitely&lt;br/&gt;
[DEBUG] DefaultHttpClient - WIN2008-CAT:80 requested authentication&lt;br/&gt;
[DEBUG] DefaultHttpClient - Authorization challenge processed&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Strict//EN&amp;quot; &amp;quot;&lt;a href=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;html xmlns=&amp;quot;&lt;a href=&quot;http://www.w3.org/1999/xhtml&quot;&gt;http://www.w3.org/1999/xhtml&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=iso-8859-1&amp;quot;/&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;title&amp;gt;401 - Unauthorized: Access is denied due to invalid credentials.&amp;lt;/title&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;style type=&amp;quot;text/css&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!--[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;body{margin:0;font-size:.7em;font-family:Verdana, Arial, Helvetica, sans-serif;background:#EEEEEE;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;fieldset{padding:0 15px 10px 15px;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h1{font-size:2.4em;margin:0;color:#FFF;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h2{font-size:1.7em;margin:0;color:#CC0000;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;h3{font-size:1.2em;margin:10px 0 0 0;color:#000000;} [\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;#header{width:96%;margin:0 0 0 0;padding:6px 2% 6px 2%;font-family:&amp;quot;trebuchet MS&amp;quot;, Verdana, sans-serif;color:#FFF;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;background-color:#555555;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;#content{margin:0 0 0 2%;position:relative;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;.content-container{background:#FFF;width:96%;margin-top:8px;padding:10px;position:relative;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;--&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/style&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;div id=&amp;quot;header&amp;quot;&amp;gt;&amp;lt;h1&amp;gt;Server Error&amp;lt;/h1&amp;gt;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;div id=&amp;quot;content&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot; &amp;lt;div class=&amp;quot;content-container&amp;quot;&amp;gt;&amp;lt;fieldset&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;  &amp;lt;h2&amp;gt;401 - Unauthorized: Access is denied due to invalid credentials.&amp;lt;/h2&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;  &amp;lt;h3&amp;gt;You do not have permission to view this directory or page using the credentials that you supplied.&amp;lt;/h3&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot; &amp;lt;/fieldset&amp;gt;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/html&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] RequestAddCookies - CookieSpec selected: best-match&lt;br/&gt;
[DEBUG] RequestAuthCache - Auth cache not set in the context&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Target auth state: HANDSHAKE&lt;br/&gt;
[DEBUG] RequestProxyAuthentication - Proxy auth state: UNCHALLENGED&lt;br/&gt;
[DEBUG] DefaultHttpClient - Attempt 3 to execute request&lt;br/&gt;
[DEBUG] DefaultClientConnection - Sending request: GET / HTTP/1.1&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;GET / HTTP/1.1[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Host: WIN2008-CAT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Connection: Keep-Alive[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAADEAMQAWAAAAAYABgAcAQAAEgASACIBAAAWABYANAEAAAAAAABKAQAANQIIIKG3pGkmvtI0sFFa6CS+/yvXTfdr4+0L7pYPHxK1BocwDzJXBXTd4mMBAQAAAAAAAMBXzaEWnswB1033a+PtC+4AAAAAAgAGAFMAVwBHAAEAFgBXAEkATgAyADAAMAA4AC0AQwBBAFQABAAYAFMAVwBHAC4AQwBEAEMALgBSAE8ATwBUAAMAMABXAEkATgAyADAAMAA4AC0AQwBBAFQALgBTAFcARwAuAEMARABDAC4AUgBPAE8AVAAFABAAYwBkAGMALgByAG8AbwB0AAcACADisHx6Fp7MAQAAAABTAFcARwBJAEIAZQBhAHUAbQBvAG4AdABJAEEATgAtAEwAQQBQAFQATwBQADIA[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;gt;&amp;gt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; GET / HTTP/1.1&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Host: WIN2008-CAT&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Connection: Keep-Alive&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.2-alpha1 (java 1.5)&lt;br/&gt;
[DEBUG] headers - &amp;gt;&amp;gt; Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAADEAMQAWAAAAAYABgAcAQAAEgASACIBAAAWABYANAEAAAAAAABKAQAANQIIIKG3pGkmvtI0sFFa6CS+/yvXTfdr4+0L7pYPHxK1BocwDzJXBXTd4mMBAQAAAAAAAMBXzaEWnswB1033a+PtC+4AAAAAAgAGAFMAVwBHAAEAFgBXAEkATgAyADAAMAA4AC0AQwBBAFQABAAYAFMAVwBHAC4AQwBEAEMALgBSAE8ATwBUAAMAMABXAEkATgAyADAAMAA4AC0AQwBBAFQALgBTAFcARwAuAEMARABDAC4AUgBPAE8AVAAFABAAYwBkAGMALgByAG8AbwB0AAcACADisHx6Fp7MAQAAAABTAFcARwBJAEIAZQBhAHUAbQBvAG4AdABJAEEATgAtAEwAQQBQAFQATwBQADIA&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;HTTP/1.1 200 OK[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Type: text/html[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Last-Modified: Thu, 17 Feb 2011 16:49:40 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Accept-Ranges: bytes[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;ETag: &amp;quot;d9919dabc2cecb1:0&amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Server: Microsoft-IIS/7.0[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;X-Powered-By: ASP.NET[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Date: Tue, 08 Nov 2011 13:01:06 GMT[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;Content-Length: 689[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] DefaultClientConnection - Receiving response: HTTP/1.1 200 OK&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; HTTP/1.1 200 OK&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Type: text/html&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Last-Modified: Thu, 17 Feb 2011 16:49:40 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Accept-Ranges: bytes&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; ETag: &amp;quot;d9919dabc2cecb1:0&amp;quot;&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Server: Microsoft-IIS/7.0&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; X-Powered-By: ASP.NET&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Date: Tue, 08 Nov 2011 13:01:06 GMT&lt;br/&gt;
[DEBUG] headers - &amp;lt;&amp;lt; Content-Length: 689&lt;br/&gt;
[DEBUG] DefaultHttpClient - Connection can be kept alive indefinitely&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Strict//EN&amp;quot; &amp;quot;&lt;a href=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;html xmlns=&amp;quot;&lt;a href=&quot;http://www.w3.org/1999/xhtml&quot;&gt;http://www.w3.org/1999/xhtml&lt;/a&gt;&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=iso-8859-1&amp;quot; /&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;title&amp;gt;IIS7&amp;lt;/title&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;style type=&amp;quot;text/css&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;!--[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;body {[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]color:#000000;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]background-color:#B3B3B3;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]margin:0;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;#container {[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]margin-left:auto;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]margin-right:auto;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]text-align:center;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;a img {[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[0x9]border:none;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;}[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;--&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/style&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/head&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;div id=&amp;quot;container&amp;quot;&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;a href=&amp;quot;&lt;a href=&quot;http://go.microsoft.com/fwlink/?linkid=66138&amp;amp;clcid=0x409&quot;&gt;http://go.microsoft.com/fwlink/?linkid=66138&amp;amp;amp;clcid=0x409&lt;/a&gt;&amp;quot;&amp;gt;&amp;lt;img src=&amp;quot;welcome.png&amp;quot; alt=&amp;quot;IIS7&amp;quot; width=&amp;quot;571&amp;quot; height=&amp;quot;411&amp;quot; /&amp;gt;&amp;lt;/a&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
content:&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD XHTML 1.0 Strict//EN&amp;quot; &amp;quot;&lt;a href=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/div&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
&amp;lt;html xmlns=&amp;quot;&lt;a href=&quot;http://www.w3.org/1999/xhtml&quot;&gt;http://www.w3.org/1999/xhtml&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/body&amp;gt;[\r][\n]&amp;quot;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
[DEBUG] wire - &amp;lt;&amp;lt; &amp;quot;&amp;lt;/html&amp;gt;&amp;quot;&lt;br/&gt;
&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=iso-8859-1&amp;quot; /&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;IIS7&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;style type=&amp;quot;text/css&amp;quot;&amp;gt;&lt;br/&gt;
&amp;lt;!--&lt;br/&gt;
body {&lt;br/&gt;
	color:#000000;&lt;br/&gt;
	background-color:#B3B3B3;&lt;br/&gt;
	margin:0;&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
[DEBUG] PoolingClientConnectionManager - Connection [id: 0][route: {}-&amp;gt;&lt;a href=&quot;http://WIN2008-CAT&quot;&gt;http://WIN2008-CAT&lt;/a&gt;][state: XXX/YYYYYYYYYY] can be kept alive indefinitely&lt;br/&gt;
#container {&lt;br/&gt;
	margin-left:auto;&lt;br/&gt;
	margin-right:auto;&lt;br/&gt;
	text-align:center;&lt;br/&gt;
	}&lt;br/&gt;
&lt;br/&gt;
a img {&lt;br/&gt;
	border:none;&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
[DEBUG] PoolingClientConnectionManager - Connection released: [id: 0][route: {}-&amp;gt;&lt;a href=&quot;http://WIN2008-CAT&quot;&gt;http://WIN2008-CAT&lt;/a&gt;][state: XXX/YYYYYYYYYY][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]&lt;br/&gt;
--&amp;gt;&lt;br/&gt;
&amp;lt;/style&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;div id=&amp;quot;container&amp;quot;&amp;gt;&lt;br/&gt;
&amp;lt;a href=&amp;quot;&lt;a href=&quot;http://go.microsoft.com/fwlink/?linkid=66138&amp;amp;clcid=0x409&quot;&gt;http://go.microsoft.com/fwlink/?linkid=66138&amp;amp;amp;clcid=0x409&lt;/a&gt;&amp;quot;&amp;gt;&amp;lt;img src=&amp;quot;welcome.png&amp;quot; alt=&amp;quot;IIS7&amp;quot; width=&amp;quot;571&amp;quot; height=&amp;quot;411&amp;quot; /&amp;gt;&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="13146289" author="olegk" created="Tue, 8 Nov 2011 13:13:36 +0000"  >@ Ian&lt;br/&gt;
&lt;br/&gt;
Great! Thank you so much! I just wanted to be sure the log contained enough details about the authentication process, which seems to be the case.&lt;br/&gt;
&lt;br/&gt;
---&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Generating response to an authentication challenge using Negotiate scheme&lt;br/&gt;
[DEBUG] NegotiateScheme - init WIN2008-CAT&lt;br/&gt;
[WARN] RequestTargetAuthentication - NEGOTIATE authentication error: Invalid name provided (Mechanism level: Could not load configuration file C:\WINDOWS\krb5.ini (The system cannot find the file specified))&lt;br/&gt;
[DEBUG] RequestTargetAuthentication - Generating response to an authentication challenge using ntlm scheme &lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="13184891" author="ibeaumont" created="Thu, 12 Jan 2012 12:38:11 +0000"  >It seems I was bit hasty in saying it worked ok.  I&amp;#39;ve just tried it in a different scenario and it goes into an endless loop of retrying authentication.  &lt;br/&gt;
&lt;br/&gt;
This seems related to doing a POST rather than a GET.</comment>
                    <comment id="13184902" author="ibeaumont" created="Thu, 12 Jan 2012 12:42:44 +0000"  >See attachments :&lt;br/&gt;
post_endless_authentication_loop.txt&lt;br/&gt;
working_get_request.txt&lt;br/&gt;
&lt;br/&gt;
for the debug log of it getting stuck in a loop of constant authenticating with a POST, and also a similar log of it working ok when I make a GET request.</comment>
                    <comment id="13184917" author="olegk" created="Thu, 12 Jan 2012 12:54:00 +0000"  >Ian, are you using 4.2-alpha1 or the latest SVN trunk snapshot? There was a critical bug fix since 4.2-alpha1 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1142&quot; title=&quot;Infinite loop on NTLM authentication&quot;&gt;&lt;strike&gt;HTTPCLIENT-1142&lt;/strike&gt;&lt;/a&gt;) which resolved similar infinite loop problem?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="13184921" author="ibeaumont" created="Thu, 12 Jan 2012 12:59:39 +0000"  >4.2-alpha1 - I&amp;#39;ll get the latest snapshot and try that&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="13184926" author="ibeaumont" created="Thu, 12 Jan 2012 13:07:40 +0000"  >Sorry for the dumb question...is there a latest build of the trunk available (are daily builds available?) or do I need to check it out and build it myself?&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="13184949" author="olegk" created="Thu, 12 Jan 2012 13:25:29 +0000"  >I just pushed the latest snapshot to the official snapshot repository. This should save you a trouble of having to compile it by yourself.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/httpcomponents/httpclient/4.2-alpha2-SNAPSHOT/&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/httpcomponents/httpclient/4.2-alpha2-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="13185049" author="ibeaumont" created="Thu, 12 Jan 2012 16:31:38 +0000"  >Thanks, all working well with the latest snapshot. :-)&lt;br/&gt;
&lt;br/&gt;
</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12610103">HTTPCLIENT-1241</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12510366" name="post_endless_authentication_loop.txt" size="7339651" author="ibeaumont" created="Thu, 12 Jan 2012 12:42:43 +0000" />
                    <attachment id="12510367" name="working_get_request.txt" size="159128" author="ibeaumont" created="Thu, 12 Jan 2012 12:42:43 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 20 Jul 2011 15:23:28 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3475</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>46753</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>