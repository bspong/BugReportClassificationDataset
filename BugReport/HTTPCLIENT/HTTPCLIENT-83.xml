<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:21:26 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-83/HTTPCLIENT-83.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-83] handle multivalue headers correctly</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-83</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Some times, web servers send back multiple headers with the same key. e.g.&lt;br/&gt;
&lt;br/&gt;
WWW-Authenticate: Negotiate&lt;br/&gt;
WWW-Authenticate: NTLM&lt;br/&gt;
WWW-Authenticate: Basic realm=&amp;quot;kmdc5&amp;quot;&lt;br/&gt;
&lt;br/&gt;
To handle this correctly, we should add a method &lt;br/&gt;
&lt;br/&gt;
public java.util.Iterator getResponseHeaders(java.lang.String name)&lt;br/&gt;
&lt;br/&gt;
just as in javax.servlet.http.HttpServletRequest.</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: All</environment>
            <key id="12333642">HTTPCLIENT-83</key>
            <summary>handle multivalue headers correctly</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="becke@u.washington.edu">Michael Becke</assignee>
                                <reporter username="xiaowei@stratify.com">Xiaowei Jiang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jul 2002 02:57:44 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:04 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:04 +0100</resolved>
                            <version>2.0 Alpha 1</version>
                                <fixVersion>2.0 Beta 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379535" author="jsdever@sympatico.ca" created="Tue, 30 Jul 2002 08:32:34 +0100"  >While I agree that there should be a way to get the response headers, I don&amp;#39;t&lt;br/&gt;
agree with the proposed method prototype.  According the relevent RFCs, mulitple&lt;br/&gt;
headers of the same name are permitted, but they are also allowed to be freely&lt;br/&gt;
compressed into a comma seperated list.  &lt;br/&gt;
&lt;br/&gt;
Really the Header class should be responsible for providing access to these list&lt;br/&gt;
elements.</comment>
                    <comment id="12379536" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 03:48:54 +0100"  >The particular problem with multiple authenticate headers has been fixed.  &lt;br/&gt;
See: &lt;a href=&quot;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=11219&quot;&gt;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=11219&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
There may be other cases where multivalued headers are not handled correctly.  &lt;br/&gt;
HttpClient parsing needs a complete rewrite of parsing by utilizing regular &lt;br/&gt;
expressions.&lt;br/&gt;
&lt;br/&gt;
Unless there is some other particular problem with multiple headers, this bug &lt;br/&gt;
should be pushed to target milestone 2.1.</comment>
                    <comment id="12379537" author="becke@u.washington.edu" created="Tue, 4 Feb 2003 11:23:13 +0000"  >Created an attachment (id=4706)&lt;br/&gt;
Proposed solution, try 1&lt;br/&gt;
</comment>
                    <comment id="12379538" author="becke@u.washington.edu" created="Tue, 4 Feb 2003 11:31:56 +0000"  >The above patch is a first attempt at solving this problem.&lt;br/&gt;
&lt;br/&gt;
What&amp;#39;s new:&lt;br/&gt;
&amp;nbsp;- HeaderGroup, a new class for storing headers.  This class supports multiple&lt;br/&gt;
headers with the same name and it remembers header order.  I&amp;#39;m not a huge fan of&lt;br/&gt;
the name, but it was the best I could come up with.&lt;br/&gt;
&amp;nbsp;- HeaderParser, a new class for parsing headers.  Header parsing code was&lt;br/&gt;
duplicated in HttpMethodBase and ChunkedInputStream and was placed here.&lt;br/&gt;
&amp;nbsp;- HttpMethod has 3 new methods.  getRequestHeaderGroup(),&lt;br/&gt;
getResponseHeaderGroup(), and getResponseFooterGroup().  This will break an&lt;br/&gt;
existing extension of HttpMethod.&lt;br/&gt;
&amp;nbsp;- Some of the methods for accessing headers in HttpMethod have been deprecated.&lt;br/&gt;
&amp;nbsp;- Classes in the general codebase that use the newly deprecated methods have&lt;br/&gt;
been fixed.  Some of the test cases are still using deprecated methods.&lt;br/&gt;
&amp;nbsp;- SimpleHttpConnection and SimpleHttpMethod have been changed to work correctly&lt;br/&gt;
with the new header storage method.&lt;br/&gt;
&lt;br/&gt;
Please take a look and let me know what you think.&lt;br/&gt;
</comment>
                    <comment id="12379539" author="becke@u.washington.edu" created="Sun, 9 Feb 2003 07:12:53 +0000"  >Created an attachment (id=4792)&lt;br/&gt;
Proposed solution, try 2&lt;br/&gt;
</comment>
                    <comment id="12379540" author="becke@u.washington.edu" created="Sun, 9 Feb 2003 07:18:04 +0000"  >Attached previously is a second attempt at fixing this problem.  Here&amp;#39;s what&amp;#39;s new:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;- HttpMethod no longer has any changes&lt;br/&gt;
&amp;nbsp;- @since 2.0beta1 tags have been added&lt;br/&gt;
&amp;nbsp;- absolute @see and @link tags been made relative&lt;br/&gt;
&amp;nbsp;- a static HttpConnection.readLine(InputStream) method has been added and is&lt;br/&gt;
being used by HttpConnection and HeaderParser.&lt;br/&gt;
&amp;nbsp;- HeaderGroup.getCondensedHeader() now always returns a new Header&lt;br/&gt;
&lt;br/&gt;
Enjoy,&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12379541" author="becke@u.washington.edu" created="Mon, 10 Feb 2003 00:59:33 +0000"  >Created an attachment (id=4798)&lt;br/&gt;
Proposed solution, try 3&lt;br/&gt;
</comment>
                    <comment id="12379542" author="becke@u.washington.edu" created="Mon, 10 Feb 2003 01:01:52 +0000"  >Attached previously is a third attempt at fixing this problem.  Here&amp;#39;s what&amp;#39;s new:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;- HttpMethodBase.get*HeaderGroup() methods are now protected&lt;br/&gt;
&amp;nbsp;- HeaderParser is now in utils package&lt;br/&gt;
&amp;nbsp;- use of footer terminology has been changed to trailer headers where appropriate&lt;br/&gt;
&lt;br/&gt;
Enjoy,&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12379543" author="jsdever@apache.org" created="Mon, 10 Feb 2003 10:12:35 +0000"  >Created an attachment (id=4799)&lt;br/&gt;
Proposed solution, try 4&lt;br/&gt;
</comment>
                    <comment id="12379544" author="jsdever@apache.org" created="Mon, 10 Feb 2003 10:17:58 +0000"  >I took the patch a bit farther to store the headers in both a map and a list. &lt;br/&gt;
The list is order preserving, as with Mike&amp;#39;s patch, but the map gives nice&lt;br/&gt;
access to the elements as was the original.  The map entries are lists&lt;br/&gt;
themselves, lists of headers with all the same name which is used as the&lt;br/&gt;
lowercase key.&lt;br/&gt;
&lt;br/&gt;
This might be a bit overboard, but its a best of both worlds approach.  Uses a&lt;br/&gt;
bit more memory for the hashtable and lists, but there are no copies made of the&lt;br/&gt;
headers themsleves so all the datastructures just contain pointers.  The most&lt;br/&gt;
complex code is in the remove methods.&lt;br/&gt;
&lt;br/&gt;
Do you think that this is too out there?</comment>
                    <comment id="12379545" author="jsdever@apache.org" created="Tue, 11 Feb 2003 11:25:00 +0000"  >The try 4 patch was corrupted.  try 3 patch was committed to the repository.</comment>
                    <comment id="12379546" author="jsdever@apache.org" created="Tue, 11 Feb 2003 11:27:38 +0000"  >*** &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-101&quot; title=&quot;Response Header ordering not preserved from the server&quot;&gt;&lt;strike&gt;HTTPCLIENT-101&lt;/strike&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***</comment>
                </comments>
                    <attachments>
                    <attachment id="12326669" name="ASF.LICENSE.NOT.GRANTED--headergroup4.diff" size="30477" author="jsdever@apache.org" created="Mon, 10 Feb 2003 10:12:35 +0000" />
                    <attachment id="12326667" name="ASF.LICENSE.NOT.GRANTED--headers2.patch" size="35412" author="becke@u.washington.edu" created="Sun, 9 Feb 2003 07:12:53 +0000" />
                    <attachment id="12326668" name="ASF.LICENSE.NOT.GRANTED--headers3.patch" size="37872" author="becke@u.washington.edu" created="Mon, 10 Feb 2003 00:59:33 +0000" />
                    <attachment id="12326666" name="ASF.LICENSE.NOT.GRANTED--headers.patch" size="45902" author="becke@u.washington.edu" created="Tue, 4 Feb 2003 11:23:13 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11218</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 30 Jul 2002 07:32:34 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133138</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189316</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>