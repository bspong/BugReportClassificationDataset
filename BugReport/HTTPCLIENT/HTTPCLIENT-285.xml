<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:15:37 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-285/HTTPCLIENT-285.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-285] Ability to ignore (reject) cookies altogether</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-285</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>I was looking for a way to ignore cookies altogether, but there doesn&amp;#39;t appear&lt;br/&gt;
to be one.  I could definitely use this capability right now, and I can see&lt;br/&gt;
others making use of it at times.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: All</environment>
            <key id="12333844">HTTPCLIENT-285</key>
            <summary>Ability to ignore (reject) cookies altogether</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="breaux">Doug Breaux</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2003 00:30:20 +0100</created>
                <updated>Wed, 16 Feb 2011 20:43:59 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:35 +0100</resolved>
                            <version>2.0 Beta 2</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12381054" author="olegk" created="Thu, 23 Oct 2003 00:49:18 +0100"  >CVS HEAD already provides support for pluggable cookie policies. Writing and &lt;br/&gt;
plugging in a &amp;#39;reject-all-damn-cookies&amp;#39; policy should be trivial, in my option. &lt;br/&gt;
I am a bit hesitant, though, to include such a policy into the stock version of &lt;br/&gt;
HttpClient. &lt;br/&gt;
&lt;br/&gt;
Does anybody have a strong opinion either for or against &amp;#39;reject all cookies&amp;#39; &lt;br/&gt;
policy as a standard feature?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381055" author="becke@u.washington.edu" created="Thu, 23 Oct 2003 01:23:38 +0100"  >I don&amp;#39;t have a strong opinion on the matter, but it sounds like a good candidate&lt;br/&gt;
for contrib.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381056" author="rolweber@de.ibm.com" created="Thu, 23 Oct 2003 14:22:02 +0100"  >I wonder whether cookie policy is the right place to address this&lt;br/&gt;
particular issue. I&amp;#39;m using the HTTP Client as an implementation&lt;br/&gt;
of RFC 2616 (HTTP 1.1), and cookies are specified in RFC 2965.&lt;br/&gt;
I&amp;#39;d prefer a way to switch off cookie parsing altogether, like I&lt;br/&gt;
can switch off automatic authentication or redirect handling.&lt;br/&gt;
Preferably with the cookie parsing logic exposed to the programmer,&lt;br/&gt;
for cases when the application decides to parse some or all cookies&lt;br/&gt;
anyway.&lt;br/&gt;
Currently, I&amp;#39;m using a derived HttpState implementation that overrides&lt;br/&gt;
all setters to no-ops. The primary reason for this is that my HttpState&lt;br/&gt;
object becomes read-only and the same object can be used by various&lt;br/&gt;
threads simultaneously without interferences.&lt;br/&gt;
But I guess that&amp;#39;s 3.0 talk. For 2.1, the &amp;#39;reject-all-damn-cookies&amp;#39;&lt;br/&gt;
policy sounds like an appropriate solution that can be implemented&lt;br/&gt;
with little effort.</comment>
                    <comment id="12381057" author="oglueck" created="Thu, 23 Oct 2003 15:36:04 +0100"  >It&amp;#39;s certainly a feature that should be provided by the stock implementation.&lt;br/&gt;
Every web browser has this feature, so I think we should provide it too.</comment>
                    <comment id="12381058" author="olegk" created="Thu, 23 Oct 2003 16:04:11 +0100"  >All right. Democracy wins.</comment>
                    <comment id="12381059" author="becke@u.washington.edu" created="Tue, 28 Oct 2003 10:50:47 +0000"  >Created an attachment (id=8760)&lt;br/&gt;
patch 1&lt;br/&gt;
</comment>
                    <comment id="12381060" author="becke@u.washington.edu" created="Tue, 28 Oct 2003 10:52:42 +0000"  >Roland,&lt;br/&gt;
&lt;br/&gt;
I agree.  I think disabling cookie parsing altogether makes more sense.  Attached above is a patch &lt;br/&gt;
that does exactly that.  This change involves no API changes so it should be more than reasonable &lt;br/&gt;
for 2.1.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381061" author="olegk" created="Tue, 28 Oct 2003 16:42:58 +0000"  >Mike,&lt;br/&gt;
I think there&amp;#39;s a little more elegant solution. All it takes is a cookie policy &lt;br/&gt;
that overrides CookieSpec#parse method and simply returns an empty array of &lt;br/&gt;
cookies without actually parsing the header. That is it. No need for the &lt;br/&gt;
COOKIE_PARSING_ENABLED.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381062" author="rolweber@de.ibm.com" created="Tue, 28 Oct 2003 18:37:14 +0000"  >Hello Oleg,&lt;br/&gt;
&lt;br/&gt;
while there is no strict need to have a COOKIE_PARSING_ENABLED flag,&lt;br/&gt;
I still feel it is more elegant to have one. Not because it achieves&lt;br/&gt;
a different result than a no-cookies policy, but because it points&lt;br/&gt;
out that cookie parsing is an optional feature that can be switched&lt;br/&gt;
*off*, as opposed to having a pass-through-without-effect mode.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
</comment>
                    <comment id="12381063" author="olegk" created="Tue, 28 Oct 2003 19:03:27 +0000"  >Roland,&lt;br/&gt;
I respectfully disagree. What good does it make to have a cookie policy in &lt;br/&gt;
place and to not parse cookie headers? One would send a cookie to the target &lt;br/&gt;
server only to end up ignoring it when it comes back with the response. I can&amp;#39;t &lt;br/&gt;
think of a case where this kind of setup would be of any use.&lt;br/&gt;
&lt;br/&gt;
Cheers&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381064" author="rolweber@de.ibm.com" created="Tue, 28 Oct 2003 20:03:43 +0000"  >Hello Oleg,&lt;br/&gt;
&lt;br/&gt;
you&amp;#39;re right that the cookie policy becomes pointless if cookie parsing&lt;br/&gt;
is disabled. Like the bass and treble knobs on my old amplifier become&lt;br/&gt;
useless if I enable the &amp;quot;CD Direct&amp;quot; mode.&lt;br/&gt;
What about cases when you want to disable cookie parsing for some methods,&lt;br/&gt;
but have a cookie policy in place for those that do parse cookies?&lt;br/&gt;
&lt;br/&gt;
For my application, it doesn&amp;#39;t matter in which way cookie parsing is&lt;br/&gt;
disabled. It will have to handle cookies anyway, because they need to&lt;br/&gt;
be stored outside of the HTTP Client&amp;#39;s HttpState, and I don&amp;#39;t want to&lt;br/&gt;
create a new HttpState object for each request. But I still find the&lt;br/&gt;
*off* switch preferable. I may even be able to rely on the HTTP Client&amp;#39;s&lt;br/&gt;
cookie parsing manually, without having cookies stored in the state.&lt;br/&gt;
&lt;br/&gt;
regards,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12381065" author="olegk" created="Tue, 28 Oct 2003 20:25:57 +0000"  >&amp;gt; What about cases when you want to disable cookie parsing for some methods,&lt;br/&gt;
&amp;gt; but have a cookie policy in place for those that do parse cookies?&lt;br/&gt;
&lt;br/&gt;
Roland, that should not be a problem, as the cookie policy applies on per &lt;br/&gt;
method basis. &lt;br/&gt;
&lt;br/&gt;
&amp;gt; But I still find the *off* switch preferable. I may even be able to rely &lt;br/&gt;
&amp;gt; on the HTTP Client&amp;#39;s cookie parsing manually, without having cookies &lt;br/&gt;
&amp;gt; stored in the state.&lt;br/&gt;
&lt;br/&gt;
You can instantiate any cookie spec of your liking and use it to parse cookie &lt;br/&gt;
headers manually. &lt;br/&gt;
&lt;br/&gt;
Tastes differ, of course, but I personally do not see a lot value in having &lt;br/&gt;
COOKIE_PARSING_ENABLED option. Again, it&amp;#39;s just an opinion which may well be &lt;br/&gt;
wrong.&lt;br/&gt;
&lt;br/&gt;
Oleg&lt;br/&gt;
</comment>
                    <comment id="12381066" author="becke@u.washington.edu" created="Tue, 28 Oct 2003 21:28:32 +0000"  >Oleg,&lt;br/&gt;
&lt;br/&gt;
Unfortunately I think you are correct:)  A new cookie policy is more appropriate.  Expect a new &lt;br/&gt;
patch later today.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381067" author="becke@u.washington.edu" created="Wed, 29 Oct 2003 11:56:05 +0000"  >I&amp;#39;ve just started to write a new RejectAllCookiesSpec(or something like that) and I have a question.  &lt;br/&gt;
What do we want to do about cookie formatting and matching?  My plan was to extend &lt;br/&gt;
CookieSpecBase and just override parse().  This means that cookies can still be sent, they just won&amp;#39;t &lt;br/&gt;
be parsed.  What about if we need to send cookies in the RFC2109 format?  Other than creating a &lt;br/&gt;
different non-parsing spec for each real spec, I think we may have to use the previous &lt;br/&gt;
COOKIE_PARSING_ENABLED patch.  What does everyone think?&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381068" author="becke@u.washington.edu" created="Wed, 29 Oct 2003 13:03:36 +0000"  >Created an attachment (id=8797)&lt;br/&gt;
Patch 2&lt;br/&gt;
</comment>
                    <comment id="12381069" author="becke@u.washington.edu" created="Wed, 29 Oct 2003 13:06:24 +0000"  >Here&amp;#39;s another patch.  This one disables cookie parsing using a new cookie policy.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381070" author="rolweber@de.ibm.com" created="Wed, 29 Oct 2003 14:31:04 +0000"  >Or else we could have two cookie spec params, one for parsing and one for&lt;br/&gt;
formatting. Then you define a new policy which neither parses nor formats&lt;br/&gt;
cookies, and folks can mix and match different specs at will.&lt;br/&gt;
&lt;br/&gt;
I thought for a few seconds about having a default cookie spec for both&lt;br/&gt;
and defining an optional second parameter for the parsing case, but things&lt;br/&gt;
would get unnecessarily complicated. Having two parameters treats formatting&lt;br/&gt;
and parsing as two different options that can be configured independently,&lt;br/&gt;
which seems more appropriate to me.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland&lt;br/&gt;
</comment>
                    <comment id="12381071" author="olegk" created="Thu, 30 Oct 2003 04:02:06 +0000"  >Mike,&lt;br/&gt;
I think CookieSpec#match methods should be overridden too. If cookies are not&lt;br/&gt;
parsed authomatically, they should not be sent automatically. One could still&lt;br/&gt;
format cookies using a cookie policy of his/her liking and manually add the&lt;br/&gt;
resultant &amp;#39;cookie&amp;#39; headers to the request (provided the &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-286&quot; title=&quot;Manually set &amp;#39;Cookie&amp;#39; &amp;amp; &amp;#39;Authorization&amp;#39; headers get discarded&quot;&gt;&lt;strike&gt;HTTPCLIENT-286&lt;/strike&gt;&lt;/a&gt; is resolved)&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381072" author="becke@u.washington.edu" created="Sun, 2 Nov 2003 11:10:13 +0000"  >Created an attachment (id=8871)&lt;br/&gt;
Patch 3&lt;br/&gt;
</comment>
                    <comment id="12381073" author="becke@u.washington.edu" created="Sun, 2 Nov 2003 11:11:42 +0000"  >Oleg, &lt;br/&gt;
&lt;br/&gt;
Agreed.  Here&amp;#39;s a new patch that completely ignores cookies.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381074" author="olegk" created="Sun, 2 Nov 2003 21:00:01 +0000"  >Looks good to me.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12381075" author="becke@u.washington.edu" created="Mon, 3 Nov 2003 02:18:55 +0000"  >Patch applied to HEAD.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12381076" author="breaux" created="Thu, 22 Jan 2004 01:36:32 +0000"  >I see this change didn&amp;#39;t make it into rc3.  It&amp;#39;s going to be in 2.0 full, right?</comment>
                    <comment id="12381077" author="breaux" created="Thu, 22 Jan 2004 01:37:43 +0000"  >Nevermind - I just saw the target of 2.1.  Oh well.</comment>
                </comments>
                    <attachments>
                    <attachment id="12326983" name="ASF.LICENSE.NOT.GRANTED--cookie.patch" size="9583" author="becke@u.washington.edu" created="Sun, 2 Nov 2003 11:10:13 +0000" />
                    <attachment id="12326981" name="ASF.LICENSE.NOT.GRANTED--disableCookies.patch" size="6705" author="becke@u.washington.edu" created="Tue, 28 Oct 2003 10:50:47 +0000" />
                    <attachment id="12326982" name="ASF.LICENSE.NOT.GRANTED--disableParsing.patch" size="7903" author="becke@u.washington.edu" created="Wed, 29 Oct 2003 13:03:36 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>24012</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 22 Oct 2003 23:49:18 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133336</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189298</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>