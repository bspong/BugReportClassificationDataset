<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:13:40 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-12/HTTPCLIENT-12.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-12] double encoding of URLs</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-12</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>In HttpMethodBase.generateRequestLine(HttpConnection connection, String name, &lt;br/&gt;
String reqPath, String qString, String protocol)&lt;br/&gt;
&lt;br/&gt;
the path is always encoded using URIUtil.encode(reqPath,URIUtil.pathSafe()). &lt;br/&gt;
However, if the path already contains an encoding space, i.e. %20, the % will &lt;br/&gt;
be encoded again, so we get %2520. This behavior is not correct. We shouldn&amp;#39;t &lt;br/&gt;
encode any % signs.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: Other</environment>
            <key id="12333571">HTTPCLIENT-12</key>
            <summary>double encoding of URLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="xiaowei@stratify.com">Xiaowei Jiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2002 05:36:02 +0000</created>
                <updated>Wed, 16 Feb 2011 14:23:35 +0000</updated>
                    <resolved>Mon, 15 May 2006 22:44:44 +0100</resolved>
                            <version>2.0 Alpha 1</version>
                                <fixVersion>2.0 Milestone 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379207" author="rwaldhof@us.britannica.com" created="Mon, 25 Feb 2002 23:32:49 +0000"  >Why would we invoke generateRequestLine with an already encoded request path &lt;br/&gt;
attribute?  How is generateReuqestLine to distinguish between &amp;quot;already encoded&amp;quot; &lt;br/&gt;
paths and those that happen to contain &amp;quot;%&amp;quot;?&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll mark this as invalid, if you&amp;#39;d like to discuss it further, let&amp;#39;s move to &lt;br/&gt;
&lt;a href=&apos;mailto:commons-dev@jakarta.apache.org&apos;&gt;commons-dev@jakarta.apache.org&lt;/a&gt;.</comment>
                    <comment id="12379208" author="xiaowei@stratify.com" created="Thu, 18 Jul 2002 07:16:34 +0100"  >The resolution is pretty simple. In the initialization code for pathSafe in&lt;br/&gt;
URIUtil, add the following &lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;pathSafe.set(&amp;#39;%&amp;#39;);&lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
This will make &amp;#39;%&amp;#39; a &amp;#39;safe&amp;#39; character in path and it won&amp;#39;t encode it again.&lt;br/&gt;
Just need somebody to check in this change. thanks&lt;br/&gt;
</comment>
                    <comment id="12379209" author="jsdever@sympatico.ca" created="Sat, 20 Jul 2002 14:43:57 +0100"  >This will require a patch that includes test cases.  Preferably tests that can&lt;br/&gt;
be run with test-nohost ant target.  Must ensure that the escaping is done at&lt;br/&gt;
the &amp;quot;right&amp;quot; time.  &lt;br/&gt;
&lt;br/&gt;
&amp;lt;cite href=&amp;quot;&lt;a href=&quot;http://www.ietf.org/rfc/rfc2396.txt&quot;&gt;http://www.ietf.org/rfc/rfc2396.txt&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
2.4.2. When to Escape and Unescape&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;A URI is always in an &amp;quot;escaped&amp;quot; form, since escaping or unescaping a&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;completed URI might change its semantics.  Normally, the only time&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;escape encodings can safely be made is when the URI is being created&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;from its component parts; each component may have its own set of&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;characters that are reserved, so only the mechanism responsible for&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;generating or interpreting that component can determine whether or&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;not escaping a character will change its semantics. Likewise, a URI&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;must be separated into its components before the escaped characters&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;within those components can be safely decoded.&lt;br/&gt;
&amp;lt;/cite&amp;gt;</comment>
                    <comment id="12379210" author="xiaowei@stratify.com" created="Sat, 27 Jul 2002 02:54:35 +0100"  >Created an attachment (id=2502)&lt;br/&gt;
add &amp;#39;%&amp;#39; to safePath variable&lt;br/&gt;
</comment>
                    <comment id="12379211" author="jsdever@sympatico.ca" created="Sat, 27 Jul 2002 06:08:40 +0100"  >Please add test cases as part of a complete patch and use unidiff format (cvs &lt;br/&gt;
dicc -u).  Thanks.</comment>
                    <comment id="12379212" author="andy_apache@thehyatts.net" created="Thu, 26 Sep 2002 00:36:40 +0100"  >This is the least of the problems.  As I mentioned on the dev mailing list,&lt;br/&gt;
URI&amp;#39;s should not be encoded at all, as far as I can tell.  Encoded URI&amp;#39;s don&amp;#39;t&lt;br/&gt;
even work with Jakarta Tomcat.  For example,&lt;br/&gt;
&lt;a href=&quot;http://server/servlet?foo=bar&amp;baz=schmoo&quot;&gt;http://server/servlet?foo=bar&amp;amp;baz=schmoo&lt;/a&gt; would be escaped, and let&amp;#39;s say the&lt;br/&gt;
servlet is a Jakarta one,  a call to req.getParameter(&amp;quot;foo&amp;quot;) would return&lt;br/&gt;
something like &amp;quot;foo=bar%26baz=schmoo&amp;quot;, which of course is incorrect.  In my&lt;br/&gt;
sources, I&amp;#39;ve taken the encoding of the URI out completely, and things work as&lt;br/&gt;
normal.&lt;br/&gt;
&lt;br/&gt;
--Andrew Hyatt&lt;br/&gt;
&lt;a href=&apos;mailto:ahyatt@intraspect.com&apos;&gt;ahyatt@intraspect.com&lt;/a&gt;</comment>
                    <comment id="12379213" author="andy_apache@thehyatts.net" created="Thu, 26 Sep 2002 00:39:49 +0100"  >Oops, small correction.  getParameter(&amp;quot;foo&amp;quot;) returns now something like&lt;br/&gt;
&amp;quot;bar&amp;amp;baz=schmoo&amp;quot;.  Perhaps this could be fixed by also not excaping &amp;quot;&amp;amp;&amp;quot; characters?</comment>
                    <comment id="12379214" author="oglueck" created="Tue, 22 Oct 2002 16:21:57 +0100"  >I thinks this is fixed. A test case is needed to verify this.</comment>
                    <comment id="12379215" author="jsdever@sympatico.ca" created="Tue, 29 Oct 2002 15:56:28 +0000"  >I split of the handling of the HttpMethodBase constructor argument into its path&lt;br/&gt;
part and its query part so that the encoding is handled seperately.  Really more&lt;br/&gt;
should be done to parse the argument as a stringified URL ...&lt;br/&gt;
Added some test cases for it.</comment>
                    <comment id="12379216" author="jsdever@sympatico.ca" created="Tue, 19 Nov 2002 07:28:24 +0000"  >As far as I can tell, this is fixed.  Added test cases.</comment>
                </comments>
                    <attachments>
                    <attachment id="12326601" name="ASF.LICENSE.NOT.GRANTED--URIUtil.diff" size="89" author="xiaowei@stratify.com" created="Sat, 27 Jul 2002 02:54:35 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>6624</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 25 Feb 2002 23:32:49 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133069</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188754</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>