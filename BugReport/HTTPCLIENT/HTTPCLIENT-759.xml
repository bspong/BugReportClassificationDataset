<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:20:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-759/HTTPCLIENT-759.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-759] DefaultClientRequestDirector doesn&apos;t release connections back to ClientConnectionManager on exceptions</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-759</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>See &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-747&quot; title=&quot;No entry created for this pool.&quot;&gt;&lt;strike&gt;HTTPCLIENT-747&lt;/strike&gt;&lt;/a&gt; for more info.  Basically the deal is that an entry is always allocated, but currently it&amp;#39;s only released if execute(..) completes normally.</description>
                <environment></environment>
            <key id="12391658">HTTPCLIENT-759</key>
            <summary>DefaultClientRequestDirector doesn&apos;t release connections back to ClientConnectionManager on exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="sberlin">Sam Berlin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Mar 2008 18:31:56 +0000</created>
                <updated>Tue, 25 Jan 2011 10:58:56 +0000</updated>
                    <resolved>Tue, 18 Mar 2008 19:24:00 +0000</resolved>
                            <version>4.0 Alpha 3</version>
                                <fixVersion>4.0 Alpha 4</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12579551" author="sberlin" created="Mon, 17 Mar 2008 18:37:02 +0000"  >The attached patch fixes the problem and adds two tests (that used to fail, but pass now).  It&amp;#39;s going to conflict slightly with the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-734&quot; title=&quot;request.abort() should interrupt thread waiting for a connection&quot;&gt;&lt;strike&gt;HTTPCLIENT-734&lt;/strike&gt;&lt;/a&gt;, because both are adding the new file &amp;#39;TestDefaultClientRequestDirector&amp;#39; -- but the merge conflict is easily resolved.&lt;br/&gt;
&lt;br/&gt;
(Previously the connection would only be released during the next garbage collection [which might never happen], and could prevent subsequent requests from being tried if they were waiting on an available slot.)</comment>
                    <comment id="12579611" author="olegk" created="Mon, 17 Mar 2008 21:23:31 +0000"  >Good catch, Sam&lt;br/&gt;
&lt;br/&gt;
Unfortunately one of the new test cases fails for me. (Ubuntu Linux 7.10; Java 1.5.0.11; single-core Intel Centrino)&lt;br/&gt;
&lt;br/&gt;
Tests run: 323, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 7.899 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testAbortInAllocate(org.apache.http.impl.client.TestDefaultClientRequestDirector)  Time elapsed: 1.019 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.AssertionFailedError: should have finished get request&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.assertTrue(Assert.java:20)&lt;br/&gt;
	at org.apache.http.impl.client.TestDefaultClientRequestDirector.testAbortInAllocate(TestDefaultClientRequestDirector.java:110)&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="12579634" author="sberlin" created="Mon, 17 Mar 2008 22:04:19 +0000"  >Sorry -- that particular test case needs the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-734&quot; title=&quot;request.abort() should interrupt thread waiting for a connection&quot;&gt;&lt;strike&gt;HTTPCLIENT-734&lt;/strike&gt;&lt;/a&gt;.  I was able to separate the patches for the non-test code, but since both tests went into the same test class (which is a new class), I had to lump them together into the patch.</comment>
                    <comment id="12579645" author="olegk" created="Mon, 17 Mar 2008 22:26:13 +0000"  >Sorry. I missed that. Shall I just remove the test case for the time being and commit the patch?&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="12579660" author="sberlin" created="Mon, 17 Mar 2008 22:56:41 +0000"  >Ya that&amp;#39;s probably the best course for right now.  I&amp;#39;ll put some more thought into the aborting testcase &amp;amp; patch.</comment>
                    <comment id="12580012" author="olegk" created="Tue, 18 Mar 2008 19:24:00 +0000"  >Patch checked in&lt;br/&gt;
&lt;br/&gt;
Many thanks, Sam&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12378056" name="changes.txt" size="12498" author="sberlin" created="Mon, 17 Mar 2008 18:37:02 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 17 Mar 2008 21:23:31 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133796</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47432</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>