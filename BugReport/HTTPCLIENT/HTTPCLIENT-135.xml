<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:13:52 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-135/HTTPCLIENT-135.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-135] Possible HttpClient codepage issue (ascii/ebcdic) on WebSphere z/OS</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-135</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>I am working with Cactus 1.4.1 on WebSphere NT and also WebSphere z/OS&lt;br/&gt;
(mainframe). The problem seems to be with HTTPClient. I have tried with the&lt;br/&gt;
nuild on the 7th December.&lt;br/&gt;
&lt;br/&gt;
I am trying to get basic cactus servlet tests working on WebSphere z/OS.&lt;br/&gt;
Everything works fine through WebSphere NT, however, when the same application&lt;br/&gt;
is deployed to WebSphere z/OS then we get the following error:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;&amp;lt;?xml-stylesheet type=&amp;quot;text/xsl&amp;quot;&lt;br/&gt;
href=&amp;quot;junit-noframes.xsl&amp;quot;?&amp;gt;&amp;lt;testsuites&amp;gt;&amp;lt;testsuite name=&amp;quot;TestCactusServlet&amp;quot;&lt;br/&gt;
tests=&amp;quot;1&amp;quot; failures=&amp;quot;0&amp;quot; errors=&amp;quot;1&amp;quot; time=&amp;quot;10.184&amp;quot;&amp;gt;&amp;lt;testcase name=&amp;quot;testNeal&amp;quot;&lt;br/&gt;
time=&amp;quot;10.182&amp;quot;&amp;gt;&amp;lt;error message=&amp;quot;Error in parsing the status  line from the&lt;br/&gt;
response: unable to find line starting with &amp;amp;quot;HTTP/&amp;amp;quot;&amp;quot;&lt;br/&gt;
type=&amp;quot;org.apache.commons.httpclient.HttpRecoverableException&amp;quot;&amp;gt;org.apache.commons.httpclient.HttpRecoverableException:&lt;br/&gt;
Error in parsing the status  line from the response: unable to find line&lt;br/&gt;
starting with &amp;amp;quot;HTTP/&amp;amp;quot;&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1791)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1559)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBase.java:2219)&lt;br/&gt;
	... etc ...&lt;br/&gt;
&lt;br/&gt;
I have verified that the Application Server on WebSPhere z/OS is working fine. I&lt;br/&gt;
set the logging on the cactus to DEBUG and noticed that the data that the&lt;br/&gt;
HTTPClient is retrieving from the connection is scrambled in some way. For example:&lt;br/&gt;
&lt;br/&gt;
16:06:20,213 [WebSphere t=009d7920] DEBUG ent.HttpClientConnectionHelper  -&lt;br/&gt;
&amp;gt;getCookieString = [null] &lt;br/&gt;
16:06:20,317 [WebSphere t=009d7920] DEBUG httpclient.wire                 - &amp;gt;&amp;gt; &amp;quot;&amp;#xC7;&amp;#xC5;&amp;#xE3;@a&amp;#xE3;?&amp;#xA2;&amp;#xA3;&amp;#xC3;?? etc...&lt;br/&gt;
&lt;br/&gt;
On WebSphere NT the data at this point looks OK.&lt;br/&gt;
&lt;br/&gt;
What springs to mind is maybe ascii/ebcdic conversion problem. z/OS uses unicode&lt;br/&gt;
&amp;nbsp;for java, as it should. However, the HTTPClient creates it own socket&lt;br/&gt;
connection to the app server and therefore it is connecting to non java code. In&lt;br/&gt;
such a situation codepage conversion is necessary.&lt;br/&gt;
&lt;br/&gt;
Could anybody adsvise on how to get this to work?&lt;br/&gt;
&lt;br/&gt;
Regards,&lt;br/&gt;
&lt;br/&gt;
Neal Johnston-Ward</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: Other</environment>
            <key id="12333694">HTTPCLIENT-135</key>
            <summary>Possible HttpClient codepage issue (ascii/ebcdic) on WebSphere z/OS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="olegk">Oleg Kalnichevski</assignee>
                                <reporter username="neal.johnston-ward@ubs.com">Neal Johnston-Ward</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Dec 2002 20:26:01 +0000</created>
                <updated>Mon, 16 Feb 2009 12:29:15 +0000</updated>
                    <resolved>Mon, 16 Feb 2009 12:29:15 +0000</resolved>
                            <version>Snapshot</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379836" author="oleg.kalnichevski@bearingpoint.com" created="Wed, 22 Jan 2003 01:06:07 +0000"  >New HttpConstants class provides uniform way of performing byte[] to String and&lt;br/&gt;
String to byte[] conversions. HttpClient code revised to apply correct encoding&lt;br/&gt;
when serializing / de-serializing strings</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>15526</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 22 Jan 2003 01:06:07 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133189</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188875</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                        </customfields>
    </item>
</channel>
</rss>