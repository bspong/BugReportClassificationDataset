<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-986/HTTPCLIENT-986.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-986] cache module does not completely handle upstream Warning headers correctly</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-986</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>There are a couple of MUST requirements from the RFC for Warning headers that aren&amp;#39;t correctly handled by the current implementation:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.46&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.46&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
1. &amp;quot;However, if a cache successfully validates a cache entry, it SHOULD remove any Warning headers previously attached to that entry except as specified for specific Warning codes. It MUST then add any Warning headers received in the validating response.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
2. &amp;quot;If an implementation receives a message with a warning-value that includes a warn-date, and that warn-date is different from the Date value in the response, then that warning-value MUST be deleted from the message before storing, forwarding, or using it. (This prevents bad consequences of naive caching of Warning header fields.) If all of the warning-values are deleted for this reason, the Warning header MUST be deleted as well.&amp;quot; </description>
                <environment></environment>
            <key id="12473246">HTTPCLIENT-986</key>
            <summary>cache module does not completely handle upstream Warning headers correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="cimjmoore">Jonathan Moore</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Sep 2010 15:49:42 +0100</created>
                <updated>Tue, 25 Jan 2011 11:00:20 +0000</updated>
                    <resolved>Mon, 6 Sep 2010 21:16:16 +0100</resolved>
                            <version>4.1 Alpha2</version>
                                <fixVersion>4.1 Beta1</fixVersion>
                                <component>HttpCache</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12905926" author="cimjmoore" created="Fri, 3 Sep 2010 15:52:37 +0100"  >Please find attached a patch that addresses this issue. I ended up creating a WarningValue class to parse the warning values in the multi-valued Warning header, because the grammar is fairly complex (quoted strings, etc.) and it didn&amp;#39;t seem like Header#getElements() would work. This might actually be suitable for inclusion in httpcore, since it isn&amp;#39;t cache-specific, but wanted to keep everything in one place for now.&lt;br/&gt;
&lt;br/&gt;
This patch is contributed with the permission of my employer.&lt;br/&gt;
</comment>
                    <comment id="12906581" author="olegk" created="Mon, 6 Sep 2010 21:16:16 +0100"  >Patch checked in. Many thanks, Jon&lt;br/&gt;
&lt;br/&gt;
There are several reasons why the WarningValue class cannot be moved to HttpCore in its present form&lt;br/&gt;
(1) HttpCore base module should be Java 1.3 compatible (this requirement proved to be a miscalculation but cannot be easily changed at this point). This basically means no regex support.&lt;br/&gt;
(2) WarningValue imports util classes from org.apache.http.impl.cookie which would introduce a cyclic dependency on HttpClient&lt;br/&gt;
(3) Ideally WarningValue parser should be consistent with other core parsers and make use of CharArrayBuffer / ParserCursor API.&lt;br/&gt;
&lt;br/&gt;
I think we are better off leaving WarningValue in the caching module for now.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12453780" name="warning-handling.patch" size="40886" author="cimjmoore" created="Fri, 3 Sep 2010 15:52:37 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 6 Sep 2010 20:16:16 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133987</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47328</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>