<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:14:35 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-193/HTTPCLIENT-193.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-193] Buffered output to socket</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-193</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>--Posted by Slavik Markovich:&lt;br/&gt;
&lt;br/&gt;
Hi all,&lt;br/&gt;
&lt;br/&gt;
This is probably a known issue (but I haven&amp;#39;t found the answer for it yet).&lt;br/&gt;
I&amp;#39;m using httpclient to post data to a remote server but as far as I can see&lt;br/&gt;
(using ethereal) the client is writing every line to the wire without buffering.&lt;br/&gt;
After examining the code, I can see that the HttpConnection class is using the&lt;br/&gt;
output stream received from the socket directly.&lt;br/&gt;
Is there a reason for the direct writing?&lt;br/&gt;
This is a problem for me &amp;#39;cause the remote server sets a very low timeout and&lt;br/&gt;
returns a bad request response after receiving the request line (without any&lt;br/&gt;
other header line or request body).&lt;br/&gt;
&lt;br/&gt;
Can I easily add a buffered behavior to the http client?&lt;br/&gt;
&lt;br/&gt;
10x</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: Other</environment>
            <key id="12333752">HTTPCLIENT-193</key>
            <summary>Buffered output to socket</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="becke@u.washington.edu">Michael Becke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Apr 2003 10:19:37 +0100</created>
                <updated>Wed, 16 Feb 2011 20:44:41 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:20 +0100</resolved>
                            <version>2.0 Alpha 3</version>
                                <fixVersion>2.0 Beta 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12380195" author="becke@u.washington.edu" created="Tue, 22 Apr 2003 10:22:23 +0100"  >Created an attachment (id=5938)&lt;br/&gt;
patch 1&lt;br/&gt;
</comment>
                    <comment id="12380196" author="becke@u.washington.edu" created="Tue, 22 Apr 2003 10:27:49 +0100"  >Attached is a patch that adds buffering to the HttpConnection socket&lt;br/&gt;
OutputStream. The only testing I performed was the various test cases. I&amp;#39;m not&lt;br/&gt;
sure how robust this is, but I think it&amp;#39;s pretty close.  I do not know if we&lt;br/&gt;
want to try this one before beta1 but I think it should be pretty safe, with&lt;br/&gt;
exception of those HttpMethods that do not extend HttpMethodBase (are there any?).&lt;br/&gt;
&lt;br/&gt;
On a related note, as mentioned by Slavik, it seems that this has a fairly&lt;br/&gt;
significant performance impact.  On average the runtime of the test-localhost&lt;br/&gt;
went from 10 seconds pre-buffering to 8 seconds post-buffering.  I do not know&lt;br/&gt;
how valid this will be in real life, but it was more than I expected.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380197" author="olegk" created="Wed, 23 Apr 2003 16:56:53 +0100"  >My performance gains are more modest when run on the localhost. However, for &lt;br/&gt;
high latency sites the output buffering may indeed result in massive &lt;br/&gt;
performance improvement. As to how robust the buffered socket is going to be, &lt;br/&gt;
we can&amp;#39;t really tell unless we try. I vote for including this patch into the &lt;br/&gt;
forthcoming beta-1 release&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380198" author="becke@u.washington.edu" created="Wed, 23 Apr 2003 20:21:36 +0100"  >I agree. I think we should go ahead and throw it in the mix for beta1.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380199" author="olegk" created="Fri, 25 Apr 2003 16:55:03 +0100"  >Target this one for beta-1.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380200" author="becke@u.washington.edu" created="Sun, 27 Apr 2003 00:33:30 +0100"  >Oleg,&lt;br/&gt;
&lt;br/&gt;
Do you think I should go ahead and apply this one, or should we wait till the NTLM/proxy stuff &lt;br/&gt;
settles down?&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380201" author="olegk" created="Mon, 28 Apr 2003 01:00:43 +0100"  >I believe these two problems are not interrelated. Therefore I&amp;#39;d say you should&lt;br/&gt;
go ahead and commit the patch.&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="12380202" author="becke@u.washington.edu" created="Mon, 28 Apr 2003 03:46:22 +0100"  >Patch applied.</comment>
                </comments>
                    <attachments>
                    <attachment id="12326809" name="ASF.LICENSE.NOT.GRANTED--buffering.patch" size="8489" author="becke@u.washington.edu" created="Tue, 22 Apr 2003 10:22:23 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>19208</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 23 Apr 2003 15:56:53 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133247</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188819</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>