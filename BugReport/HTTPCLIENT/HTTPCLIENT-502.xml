<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:18:08 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-502/HTTPCLIENT-502.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-502] HttpConnection isOpen flag concurrency problem</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-502</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>The HttpConnection.java class contains an isOpen boolean used to track the state&lt;br/&gt;
of the connection (opened or closed).  The problem is that in the&lt;br/&gt;
closeSocketAndStreams(), the flag is only flipped at the end of the&lt;br/&gt;
unsynchronized method (after resources have been released) which causes a&lt;br/&gt;
concurrency issue in flushRequestOutputStream() where the flag is checked first&lt;br/&gt;
and the the outputStream is accessed.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m providing a patch for this problem.</description>
                <environment>Operating System: Linux&lt;br/&gt;
Platform: Other</environment>
            <key id="12334061">HTTPCLIENT-502</key>
            <summary>HttpConnection isOpen flag concurrency problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jmwhite5@yahoo.com">Jean-Marie White</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2005 09:14:12 +0100</created>
                <updated>Wed, 16 Feb 2011 20:45:06 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:11:07 +0100</resolved>
                            <version>3.0 RC3</version>
                                <fixVersion>3.0 RC4</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12382649" author="jmwhite5@yahoo.com" created="Sat, 24 Sep 2005 09:15:30 +0100"  >Created an attachment (id=16506)&lt;br/&gt;
patch&lt;br/&gt;
</comment>
                    <comment id="12382650" author="rolweber@de.ibm.com" created="Sat, 24 Sep 2005 15:52:06 +0100"  >An individual connection is not designed to be thread safe. The&lt;br/&gt;
MultiThreadedConnectionManager is a thread safe way to get a&lt;br/&gt;
connection, but the connection is only used by a single thread&lt;br/&gt;
until it is returned to the connection manager. But since we have&lt;br/&gt;
a simple fix, I don&amp;#39;t see why we shouldn&amp;#39;t include it.&lt;br/&gt;
&lt;br/&gt;
cheers,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Roland</comment>
                    <comment id="12382651" author="olegk" created="Sat, 24 Sep 2005 18:54:35 +0100"  >(In reply to comment #2)&lt;br/&gt;
&amp;gt; An individual connection is not designed to be thread safe. The&lt;br/&gt;
&amp;gt; MultiThreadedConnectionManager is a thread safe way to get a&lt;br/&gt;
&amp;gt; connection, but the connection is only used by a single thread&lt;br/&gt;
&amp;gt; until it is returned to the connection manager. &lt;br/&gt;
&lt;br/&gt;
True. There&amp;#39;s one exception to this rule, though. HttpConnection#close() is&lt;br/&gt;
called by HttpMethod#abort(), which in its turn can be called from a different&lt;br/&gt;
thread. &lt;br/&gt;
&lt;br/&gt;
The fix looks reasonable to me&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382652" author="becke@u.washington.edu" created="Sun, 25 Sep 2005 00:08:35 +0100"  >Fine with me.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12382653" author="olegk" created="Tue, 27 Sep 2005 03:48:17 +0100"  >Patch checked in&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12327290" name="ASF.LICENSE.NOT.GRANTED--close-concurrency.patch" size="1256" author="jmwhite5@yahoo.com" created="Sat, 24 Sep 2005 09:15:30 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>36791</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 24 Sep 2005 14:52:06 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133549</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47074</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>