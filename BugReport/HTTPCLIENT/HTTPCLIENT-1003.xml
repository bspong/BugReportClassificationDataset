<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:11:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-1003/HTTPCLIENT-1003.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-1003] Handle conditional requests in cache</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1003</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Return 304 if incoming request has &amp;quot;If-None-Match&amp;quot; or &amp;quot;If-Modified-Since&amp;quot; headers and can be served from cache.  Currently we return a 200 which is correct but not optimal.</description>
                <environment></environment>
            <key id="12475411">HTTPCLIENT-1003</key>
            <summary>Handle conditional requests in cache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="cim_michajlomatijkiw">Michajlo Matijkiw</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Sep 2010 15:56:29 +0100</created>
                <updated>Tue, 25 Jan 2011 11:00:29 +0000</updated>
                    <resolved>Tue, 5 Oct 2010 20:25:52 +0100</resolved>
                                            <fixVersion>4.1 Beta1</fixVersion>
                                <component>HttpCache</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="12917723" author="cim_michajlomatijkiw" created="Mon, 4 Oct 2010 20:26:38 +0100"  >This patch adds the functionality to return 304s in response to conditional requests.&lt;br/&gt;
&lt;br/&gt;
CachingHttpClient now decides whether or not to return a 304 based on whether or not a conditional request was made and the present cache entry is valid.&lt;br/&gt;
&lt;br/&gt;
HttpCache#updateCacheEntry() is changed to return a HttpCacheEntry instead of a HttpResponse.  This approach seemed more natural, and allowed the logic for deciding if a 304 should be returned to be contained within CachingHttpClient, instead of straddling multiple classes.  It also allows conditional request logic to be independent of HttpCache implementation.  The tests were updated to reflect this change.&lt;br/&gt;
&lt;br/&gt;
The logic for conditional requests was updated in CachedResponseSuitabilityChecker to detect more supported conditional requests and whether or not they pass.  These were made public so they could be used to check against an updated cache entry from revalidation.&lt;br/&gt;
&lt;br/&gt;
CachedHttpResponseGenerator#generateNotModifiedResponse() was created to generate 304 responses from cache entries.  generateResponse() was also modified to skip the check if the cache entry is a 304 since 304&amp;#39;s are not cached in the module.\&lt;br/&gt;
&lt;br/&gt;
Unit tests were added to verify the new functionality.  Also, I attempted to add some documentation to reflect public facing changes.&lt;br/&gt;
&lt;br/&gt;
This patch was created by myself and Mohammed Azeem Uddin and is submitted with the permission of my employer.&lt;br/&gt;
&lt;br/&gt;
Please let me know if there is anything that should be changed.&lt;br/&gt;
&lt;br/&gt;
Thank you,&lt;br/&gt;
Michajlo&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12918126" author="olegk" created="Tue, 5 Oct 2010 20:25:52 +0100"  >Patch checked in. Many thanks, Michajlo&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12456308" name="add_304s.patch" size="38445" author="cim_michajlomatijkiw" created="Mon, 4 Oct 2010 20:26:38 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 5 Oct 2010 19:25:52 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>134004</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47311</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>