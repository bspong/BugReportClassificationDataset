<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:13:32 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-1166/HTTPCLIENT-1166.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-1166] URIUtils.extractHost(...) throws a NumberFormatException line 310</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1166</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Original Jboss-seam-wicket-booking application in Jboss-4.2.3.GA started, post a login request thanks httpclient, then NumberFormatException.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
regarding this page :&lt;br/&gt;
&lt;a href=&quot;http://hc.apache.org/httpcomponents-client-dev/httpclient/clover/org/apache/http/client/utils/URIUtils.html&quot;&gt;http://hc.apache.org/httpcomponents-client-dev/httpclient/clover/org/apache/http/client/utils/URIUtils.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
305 	   	// Extract the port suffix, if present&lt;br/&gt;
306 	   	if (host != null) {&lt;br/&gt;
307 	  	   int colon = host.indexOf(&amp;#39;:&amp;#39;);&lt;br/&gt;
308 	   	   if (colon &amp;gt;= 0) {&lt;br/&gt;
309 	   	      if (colon+1 &amp;lt; host.length()) {&lt;br/&gt;
310 	   	          port = Integer.parseInt(host.substring(colon+1));&lt;br/&gt;
311 	   	      }&lt;br/&gt;
312 	  	   host = host.substring(0,colon);&lt;br/&gt;
313 	   	   }&lt;br/&gt;
314 	   	}&lt;br/&gt;
&lt;br/&gt;
resolving the port throw a NumberFormatException&lt;br/&gt;
&lt;br/&gt;
java.lang.NumberFormatException: For input string: &amp;quot;8080;jsessionid=9E9EDA0B6E1CDD499A0A15C4A8F212D8&amp;quot;&lt;br/&gt;
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
	at java.lang.Integer.parseInt(Integer.java:458)&lt;br/&gt;
	at java.lang.Integer.parseInt(Integer.java:499)&lt;br/&gt;
	at org.apache.http.client.utils.URIUtils.extractHost(URIUtils.java:310)&lt;br/&gt;
	at org.apache.http.impl.client.AbstractHttpClient.determineTarget(AbstractHttpClient.java:764)&lt;br/&gt;
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)&lt;br/&gt;
	at org.tagbrowser.api.TagBrowser.request(TagBrowser.java:109)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
another case of this problem canbe found hier :&lt;br/&gt;
&lt;a href=&quot;https://gitorious.org/yacy/rc1/commit/8b0920b0b5eb67ae17eec24c1bf3a059543cb6e8/diffs&quot;&gt;https://gitorious.org/yacy/rc1/commit/8b0920b0b5eb67ae17eec24c1bf3a059543cb6e8/diffs&lt;/a&gt;</description>
                <environment>Linux,</environment>
            <key id="12542513">HTTPCLIENT-1166</key>
            <summary>URIUtils.extractHost(...) throws a NumberFormatException line 310</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="martialsauvette@gmail.com">martial sauvette</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Feb 2012 11:35:08 +0000</created>
                <updated>Sun, 13 May 2012 15:20:17 +0100</updated>
                    <resolved>Tue, 14 Feb 2012 16:18:49 +0000</resolved>
                            <version>4.1.2</version>
                                <fixVersion>4.2 Final</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13207660" author="olegk" created="Tue, 14 Feb 2012 12:28:33 +0000"  >What is the _exact_ request URI?&lt;br/&gt;
&lt;br/&gt;
Oleg </comment>
                    <comment id="13207770" author="martialsauvette@gmail.com" created="Tue, 14 Feb 2012 15:17:09 +0000"  >the submitted URI is : &lt;a href=&quot;http://localhost:8080;jsessionid=AA70063844D65B7A6175481FB8447A51?wicket:interface=:0:login::IFormSubmitListener::&quot;&gt;http://localhost:8080;jsessionid=AA70063844D65B7A6175481FB8447A51?wicket:interface=:0:login::IFormSubmitListener::&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="13207778" author="olegk" created="Tue, 14 Feb 2012 15:33:35 +0000"  >The URL is invalid. Its authority part is incorrectly terminated (&amp;#39;/&amp;#39; is missing). This is likely the reason why java.net.URI fails to parse it and HttpClient has to fall back onto its custom parsing algorithm.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="13207782" author="martialsauvette@gmail.com" created="Tue, 14 Feb 2012 15:39:46 +0000"  >that the url  is not written correctly i knew it. &lt;br/&gt;
&lt;br/&gt;
i think it&amp;#39;s not the right way to leave the application throwing a NumberFormatException. why don&amp;#39;t we throw a MalformedURIException ?&lt;br/&gt;
&lt;br/&gt;
this bring trouble searching bugs in the application! </comment>
                    <comment id="13207807" author="olegk" created="Tue, 14 Feb 2012 16:18:49 +0000"  >Fair enough. A runtime exception thrown in this case is clearly wrong. At the same I am not very comfortable throwing MalformedURIException either as the URI was (partially) parsed and accepted by java.net.URI. I just tweaked the fall-back parsing logic in the #extractHost method and made sure NumberFormatException would not get thrown.&lt;br/&gt;
&lt;br/&gt;
Oleg  </comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 14 Feb 2012 12:28:33 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>227800</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>46841</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>