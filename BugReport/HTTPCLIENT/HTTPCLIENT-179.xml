<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:14:24 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-179/HTTPCLIENT-179.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-179] HTTPS Post Does Not Work</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-179</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Using Java 1.4.1_01 on Windows 2000. An HTTPS Post results in HTTP/100-Continue &lt;br/&gt;
messages. The same code posting to a non HTTPS URL works. The code populates &lt;br/&gt;
the request body using a NameValuePair array.</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: PC</environment>
            <key id="12333738">HTTPCLIENT-179</key>
            <summary>HTTPS Post Does Not Work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="chelsel@wallstreetwise.com">Cliff Helsel</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Apr 2003 09:39:20 +0100</created>
                <updated>Wed, 16 Feb 2011 20:44:46 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:18 +0100</resolved>
                            <version>2.0 Alpha 2</version>
                                <fixVersion>2.0 Beta 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12380092" author="olegk" created="Sun, 6 Apr 2003 17:17:14 +0100"  >Cliff,&lt;br/&gt;
This bug has been fixed a while ago. Please upgrade to the most recent nightly&lt;br/&gt;
build. &lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/httpclient/downloads.html&quot;&gt;http://jakarta.apache.org/commons/httpclient/downloads.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Beta-1 release is due next week&lt;br/&gt;
&lt;br/&gt;
*** This bug has been marked as a duplicate of 17432 ***</comment>
                    <comment id="12380093" author="and@ivu.de" created="Tue, 8 Apr 2003 22:34:02 +0100"  >Hello,&lt;br/&gt;
&lt;br/&gt;
i&amp;#39;ve got the same problem like Cliff. My sample code posts a xml file to &lt;br/&gt;
a servlet on a tomcat-4.1.18 / tomcat-4.1.24 server and response a very &lt;br/&gt;
simple html page. The sample code likes the sample PostXML.java of httpclient.&lt;br/&gt;
&lt;br/&gt;
With JDK 1.4.1_02 and commons-httpclient-20030408.zip everything works fine &lt;br/&gt;
but with JDK 1.3.1_07 the application response the following data: &lt;br/&gt;
&lt;br/&gt;
...&lt;br/&gt;
&lt;br/&gt;
65854 [main] WARN org.apache.commons.httpclient.HttpMethod  - Recoverable&lt;br/&gt;
exception caught when reading response&lt;br/&gt;
65854 [main] DEBUG org.apache.commons.httpclient.HttpMethod  - Closing the&lt;br/&gt;
connection.&lt;br/&gt;
65854 [main] DEBUG org.apache.commons.httpclient.HttpConnection  - enter&lt;br/&gt;
HttpConnection.close()&lt;br/&gt;
65854 [main] DEBUG org.apache.commons.httpclient.HttpConnection  - enter&lt;br/&gt;
HttpConnection.closeSockedAndStreams()&lt;br/&gt;
65854 [main] ERROR Testclient  - IOException:&lt;br/&gt;
org.apache.commons.httpclient.HttpRecoverableException: Error in parsing the&lt;br/&gt;
status  line from the response: unable to find line starting with &amp;quot;HTTP&amp;quot;&lt;br/&gt;
</comment>
                    <comment id="12380094" author="olegk" created="Tue, 8 Apr 2003 22:44:35 +0100"  >Andy,&lt;br/&gt;
&lt;br/&gt;
What I can see from the debug trace is that HttpClient does not seem to receive &lt;br/&gt;
any response from the server. I am not sure at all that it&amp;#39;s HttpClient at &lt;br/&gt;
fault here&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;1) Are you using SSL?&lt;br/&gt;
&amp;nbsp;2) If yes, are you sure SSL is properly configured for JDK 1.3.1_07?&lt;br/&gt;
&amp;nbsp;3) Can you provide me with the complete wire/debug log?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380095" author="and@ivu.de" created="Tue, 8 Apr 2003 23:22:28 +0100"  >Created an attachment (id=5694)&lt;br/&gt;
Log file&lt;br/&gt;
</comment>
                    <comment id="12380096" author="and@ivu.de" created="Tue, 8 Apr 2003 23:24:42 +0100"  >Created an attachment (id=5695)&lt;br/&gt;
Log file&lt;br/&gt;
</comment>
                    <comment id="12380097" author="and@ivu.de" created="Tue, 8 Apr 2003 23:24:58 +0100"  >Created an attachment (id=5696)&lt;br/&gt;
Log file&lt;br/&gt;
</comment>
                    <comment id="12380098" author="and@ivu.de" created="Tue, 8 Apr 2003 23:25:03 +0100"  >Created an attachment (id=5697)&lt;br/&gt;
Log file&lt;br/&gt;
</comment>
                    <comment id="12380099" author="and@ivu.de" created="Tue, 8 Apr 2003 23:25:48 +0100"  >Created an attachment (id=5698)&lt;br/&gt;
Log file&lt;br/&gt;
</comment>
                    <comment id="12380100" author="and@ivu.de" created="Tue, 8 Apr 2003 23:31:06 +0100"  >Hey Oleg,&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;1) Are you using SSL?&lt;br/&gt;
&amp;nbsp;2) If yes, are you sure SSL is properly configured for JDK 1.3.1_07?&lt;br/&gt;
&amp;nbsp;3) Can you provide me with the complete wire/debug log?&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
1.) Yes, i&amp;#39;m using ssl.&lt;br/&gt;
2.) Yes, I think so. I&amp;#39;ve tried a https GET request with httpclient-2.0a3 (!!!)&lt;br/&gt;
everything works fine, but with all newer versions of httpclient GET and POST &lt;br/&gt;
requests doesn&amp;#39;t work anymore.&lt;br/&gt;
&lt;br/&gt;
3.) Logging: Please, see the attachement. &lt;br/&gt;
Sorry, i send the logfile 5 times. &lt;br/&gt;
first read, then click ...&lt;br/&gt;
</comment>
                    <comment id="12380101" author="olegk" created="Tue, 8 Apr 2003 23:41:44 +0100"  >Andy, all I can see from these logs is that the server fails to send back any &lt;br/&gt;
sort of response. Please examine server&amp;#39;s logs to find out whay may be causing &lt;br/&gt;
the problem on the server side. &lt;br/&gt;
&lt;br/&gt;
1) Could you please send me the wire log generated by 2.0alpha3 for comparison?&lt;br/&gt;
2) Could you please try executing the same request using plain HTTP and see if &lt;br/&gt;
that works?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380102" author="and@ivu.de" created="Wed, 9 Apr 2003 00:03:30 +0100"  >Created an attachment (id=5700)&lt;br/&gt;
getxml-httpclient-2.0a3.log, https get request (jdk1.3.1_07), everything works fine&lt;br/&gt;
</comment>
                    <comment id="12380103" author="and@ivu.de" created="Wed, 9 Apr 2003 00:11:13 +0100"  >Created an attachment (id=5701)&lt;br/&gt;
postxml-httpclient-2.0a3.log, https post request (jdk1.3.1_07) ,  response status code 100&lt;br/&gt;
</comment>
                    <comment id="12380104" author="and@ivu.de" created="Wed, 9 Apr 2003 00:21:38 +0100"  >Oleg,&lt;br/&gt;
&lt;br/&gt;
i send two log files (https get works fine, https post doesn&amp;#39;t work). &lt;br/&gt;
This is the tomcat server log entry for one requests:&lt;br/&gt;
2003-04-08 18:03:04 InvokerFilter(ApplicationFilterConfig[name=Path Mapped&lt;br/&gt;
Filter, filterClass=filters.ExampleFilter]): 0 millisesconds&lt;br/&gt;
&lt;br/&gt;
Thanks for your trouble :-)</comment>
                    <comment id="12380105" author="olegk" created="Wed, 9 Apr 2003 00:34:52 +0100"  >Andy, so far there&amp;#39;s nothing to thank me for. I missed the point regarding the &lt;br/&gt;
Tomcat. Are you saying that the request was filtered out? &lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380106" author="and@ivu.de" created="Wed, 9 Apr 2003 16:09:12 +0100"  >Oleg, the tomcat server logs only if the he can handle the request. None of&lt;br/&gt;
the nightly versions (0407, 0408) which I tested write a log entry.&lt;br/&gt;
&lt;br/&gt;
Last night I&amp;#39;ve tested the original 2.0a3 httpclient with a https request&lt;br/&gt;
(GET, POST) once again. And what did I see ??? If setHttp11(false) it works &lt;br/&gt;
fine with the tomcat. But if i change to a nightly build httplient nothing &lt;br/&gt;
works.&lt;br/&gt;
&lt;br/&gt;
If the application sends a GET/POST request, the following is written into &lt;br/&gt;
the tomcat log file (only httpclient-2.0a3, works fine):&lt;br/&gt;
&lt;br/&gt;
2003-04-08 18:03:04 InvokerFilter(ApplicationFilterConfig[name=Path Mapped&lt;br/&gt;
Filter, filterClass=filters.ExampleFilter]): 0 millisesconds&lt;br/&gt;
&lt;br/&gt;
Andy</comment>
                    <comment id="12380107" author="olegk" created="Wed, 9 Apr 2003 16:40:44 +0100"  >&amp;gt; the tomcat server logs only if the he can handle the request. None of&lt;br/&gt;
the nightly versions (0407, 0408) which I tested write a log entry.&lt;br/&gt;
&lt;br/&gt;
I do not think you are right. If Tomcat drops a request for whatever reason, an &lt;br/&gt;
entry stating this fact should be added to the log.&lt;br/&gt;
&lt;br/&gt;
Since there&amp;#39;s no corresponding entry in the Tomcat log, it leads me to assume &lt;br/&gt;
that the request has not reached the servlet engine at all. If was dropped off &lt;br/&gt;
before it could hit Tomcat. Maybe at the SSL layer or even earlier. That &lt;br/&gt;
exlains why HttpClient does not receive a response. &lt;br/&gt;
&lt;br/&gt;
Are you hitting Tomcat directly or through a HTTP server? Is there a proxy or a &lt;br/&gt;
firewall between the client and the server? &lt;br/&gt;
&lt;br/&gt;
Have you tried using plain HTTP? This is important. Please do test plain HTTP&lt;br/&gt;
&lt;br/&gt;
&amp;gt; And what did I see ??? If setHttp11(false) it works fine with the tomcat. &lt;br/&gt;
&lt;br/&gt;
Sure. &amp;#39;expect: 100-continue&amp;#39; handshake is only used with HTTP/1.1&lt;br/&gt;
&lt;br/&gt;
I think something is fishy about your local setup. There have been no changes &lt;br/&gt;
in the HTTP GET logic since alpha-3. HTTP GET should work in any case. Since it &lt;br/&gt;
does not, I tend to believe that the problem you have been experiencing is not &lt;br/&gt;
due to a flaw in HttpClient&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380108" author="and@ivu.de" created="Wed, 9 Apr 2003 18:54:47 +0100"  >I&amp;#39;m hitting the tomcat server directly without any proxy or HTTP server. &lt;br/&gt;
&lt;br/&gt;
With plain HTTP everything works fine. All POST and GET requests will be &lt;br/&gt;
response (httpclient nightly or 2.0a3).&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ve also tested tomcat server on my local machine but i got the same errors like&lt;br/&gt;
the network access.&lt;br/&gt;
&lt;br/&gt;
Notice with the jdk1.4.1_02 all(!!!) works fine. Could it be a problem with my &lt;br/&gt;
jdk1.3.1_07 / JSSE configuration ?&lt;br/&gt;
</comment>
                    <comment id="12380109" author="olegk" created="Wed, 9 Apr 2003 20:22:38 +0100"  >&amp;gt; Could it be a problem with my jdk1.3.1_07 / JSSE configuration ?&lt;br/&gt;
&lt;br/&gt;
Andi, that&amp;#39;s what I have been hinting at all along. I have just downloaded JDK &lt;br/&gt;
1.3.1.07 for Windows and I&amp;#39;ll try to emulate your environment as close as &lt;br/&gt;
possible. If I fail to reproduce the problem I&amp;#39;ll have to mark this bug report &lt;br/&gt;
as &amp;#39;works for me&amp;#39;&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380110" author="olegk" created="Wed, 9 Apr 2003 23:41:57 +0100"  >Andi, you were right. I was wrong. It does appear to be a bug in HttpClient&lt;br/&gt;
introduced by a post 2.0a3 feature. The bug is reproducible across various Sun&amp;#39;s&lt;br/&gt;
JDK below 1.4.1 (Sun JDK 1.2.2.13 &amp;amp; Sun JDK 1.3.1.07 with JCE 1.2.2 &amp;amp; JSSE&lt;br/&gt;
1.0.3.01) and across various platforms (Windows 2000 server SP3, Redhat Linux&lt;br/&gt;
9). Sun JDK 1.4.1.b21 does not exhibit this problem. &lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll be working on a fix. Many thanks for tracking the bug down&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380111" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 05:25:25 +0100"  >Created an attachment (id=5751)&lt;br/&gt;
fix&lt;br/&gt;
</comment>
                    <comment id="12380112" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 05:27:14 +0100"  >It looks like pre-1.4 implementations were counting on the method write(byte[],&lt;br/&gt;
int, int) being called on the SSL socket.  When wrapped in a standard&lt;br/&gt;
FilterOutputStream this method is never called.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380113" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 11:22:56 +0100"  >Created an attachment (id=5758)&lt;br/&gt;
slightly better patch&lt;br/&gt;
</comment>
                    <comment id="12380114" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 11:24:14 +0100"  >This is pretty much the same as the previous patch, but it&amp;#39;s a little more&lt;br/&gt;
thorough I think.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380115" author="olegk" created="Fri, 11 Apr 2003 01:23:05 +0100"  >Mike, the patch looks ok to me. I think you should go ahead and commit it&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380116" author="becke@u.washington.edu" created="Fri, 11 Apr 2003 07:39:11 +0100"  >Patch applied.</comment>
                </comments>
                    <attachments>
                    <attachment id="12326785" name="ASF.LICENSE.NOT.GRANTED--getxml-httpclient-2.0a3.log" size="9126" author="and@ivu.de" created="Wed, 9 Apr 2003 00:03:30 +0100" />
                    <attachment id="12326788" name="ASF.LICENSE.NOT.GRANTED--https.patch" size="2373" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 11:22:56 +0100" />
                    <attachment id="12326786" name="ASF.LICENSE.NOT.GRANTED--postxml-httpclient-2.0a3.log" size="25189" author="and@ivu.de" created="Wed, 9 Apr 2003 00:11:13 +0100" />
                    <attachment id="12326784" name="ASF.LICENSE.NOT.GRANTED--postxml.log" size="17998" author="and@ivu.de" created="Tue, 8 Apr 2003 23:25:48 +0100" />
                    <attachment id="12326783" name="ASF.LICENSE.NOT.GRANTED--postxml.log" size="17998" author="and@ivu.de" created="Tue, 8 Apr 2003 23:25:03 +0100" />
                    <attachment id="12326782" name="ASF.LICENSE.NOT.GRANTED--postxml.log" size="17998" author="and@ivu.de" created="Tue, 8 Apr 2003 23:24:58 +0100" />
                    <attachment id="12326781" name="ASF.LICENSE.NOT.GRANTED--postxml.log" size="17998" author="and@ivu.de" created="Tue, 8 Apr 2003 23:24:42 +0100" />
                    <attachment id="12326780" name="ASF.LICENSE.NOT.GRANTED--postxml.log" size="17998" author="and@ivu.de" created="Tue, 8 Apr 2003 23:22:28 +0100" />
                    <attachment id="12326787" name="ASF.LICENSE.NOT.GRANTED--ssl.patch" size="788" author="becke@u.washington.edu" created="Thu, 10 Apr 2003 05:25:25 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>9.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>18738</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 6 Apr 2003 16:17:14 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133233</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189103</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>