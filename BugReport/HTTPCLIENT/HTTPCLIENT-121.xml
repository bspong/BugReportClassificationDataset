<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:13:41 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-121/HTTPCLIENT-121.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-121] Cookie.java blowing up on cookies from &quot;country code&quot; domains</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-121</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>The following exception is thrown from Cookie.java when receiving a cookie from&lt;br/&gt;
a &amp;quot;country code&amp;quot; domain such as amazon.ca.&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java] INFO: Cookie.parse(): Rejecting set cookie header&lt;br/&gt;
&amp;quot;session-id=702-1613649-9326458; path=/; domain=&lt;br/&gt;
.amazon.ca; expires=Tuesday, 29-Oct-2002 08:00:00 GMT,&lt;br/&gt;
session-id-time=1035878400; path=/; domain=.amazon.ca;&lt;br/&gt;
expires=Tuesday, 29-Oct-2002 08:00:00 GMT&amp;quot; because &amp;quot;session-id&amp;quot; has an illegal&lt;br/&gt;
domain attribute (&amp;quot;.amazon.ca&amp;quot;)&lt;br/&gt;
&amp;nbsp;for the given domain &amp;quot;&lt;a href=&quot;http://www.amazon.ca&quot;&gt;www.amazon.ca&lt;/a&gt;&amp;quot;.  It violoates the Netscape cookie&lt;br/&gt;
specification for non-special TLDs.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java] Oct 22, 2002 9:32:37 AM org.apache.commons.httpclient.HttpMethodBase&lt;br/&gt;
processResponseHeaders&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java] SEVERE: Exception processing response headers&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java] org.apache.commons.httpclient.HttpException: Bad Set-Cookie header:&lt;br/&gt;
session-id=702-1613649-9326458&lt;br/&gt;
; path=/; domain=.amazon.ca; expires=Tuesday, 29-Oct-2002 08:00:00 GMT,&lt;br/&gt;
session-id-time=1035878400; path=/; do&lt;br/&gt;
main=.amazon.ca; expires=Tuesday, 29-Oct-2002 08:00:00 GMT Illegal domain&lt;br/&gt;
attribute .amazon.ca&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at org.apache.commons.httpclient.Cookie.parse(Cookie.java:944)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.processResponseHeaders(HttpMethodBase.java:141&lt;br/&gt;
9)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1504)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBase.java:2128)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at&lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:790)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[java]     at&lt;br/&gt;
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:442)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The http response that caused this exception is below.&lt;br/&gt;
&lt;br/&gt;
HTTP/1.1 302 Found&lt;br/&gt;
Date: Tue, 22 Oct 2002 13:30:11 GMT&lt;br/&gt;
Server: Stronghold/2.4.2 Apache/1.3.6 C2NetEU/2412 (Unix)&lt;br/&gt;
Set-Cookie: session-id=702-8591055-5561622; path=/; domain=.amazon.ca;&lt;br/&gt;
expires=Tuesday, 29-Oct-2002 08:00:00 GMT&lt;br/&gt;
Set-Cookie: session-id-time=1035878400; path=/; domain=.amazon.ca;&lt;br/&gt;
expires=Tuesday, 29-Oct-2002 08:00:00 GMT&lt;br/&gt;
Location: &lt;a href=&quot;http://www.amazon.ca/exec/obidos/tg/browse/-/915398/702-8591055-5561622&quot;&gt;http://www.amazon.ca/exec/obidos/tg/browse/-/915398/702-8591055-5561622&lt;/a&gt;&lt;br/&gt;
Connection: close&lt;br/&gt;
Transfer-Encoding: chunked&lt;br/&gt;
Content-Type: text/html&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ve seen this problem with other .ca domains so this isn&amp;#39;t a problem unique to&lt;br/&gt;
amazon.ca.&lt;br/&gt;
&lt;br/&gt;
My guess would be that the problem is on line 929 of Cookie.java:&lt;br/&gt;
&lt;br/&gt;
int domainParts = new StringTokenizer(cookie.getDomain(), &amp;quot;.&amp;quot;).countTokens();&lt;br/&gt;
&lt;br/&gt;
Where domainParts would be 2 for a domain like &amp;quot;.amazon.ca&amp;quot; instead of the 3&lt;br/&gt;
that the code is expecting.  I&amp;#39;m not that familiar with the cookie spec so I&lt;br/&gt;
could be completely wrong ;-)&lt;br/&gt;
&lt;br/&gt;
The results above were done with the Oct 20/2002 gump build.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: All</environment>
            <key id="12333680">HTTPCLIENT-121</key>
            <summary>Cookie.java blowing up on cookies from &quot;country code&quot; domains</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="olegk">Oleg Kalnichevski</assignee>
                                <reporter username="mbowler">Mike Bowler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2002 21:53:46 +0100</created>
                <updated>Mon, 16 Feb 2009 12:29:15 +0000</updated>
                    <resolved>Mon, 16 Feb 2009 12:29:15 +0000</resolved>
                            <version>Snapshot</version>
                                <fixVersion>2.0 Milestone 2</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379708" author="oleg.kalnichevski@bearingpoint.com" created="Wed, 22 Jan 2003 00:54:00 +0000"  >Netscape cookie draft suggest &amp;quot;country code&amp;quot; domains are to be processed&lt;br/&gt;
differently compared to so called special domains with regards to number of dots&lt;br/&gt;
permitted for the domain attribute&lt;br/&gt;
RFC 2019 (used currently per default) does not have such requirement</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13849</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 22 Jan 2003 00:54:00 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133175</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188877</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>