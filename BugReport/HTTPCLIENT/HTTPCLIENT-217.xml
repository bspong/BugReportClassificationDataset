<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:14:51 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-217/HTTPCLIENT-217.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-217] httpMethod.abort needed</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-217</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>This is the problem : I use the httpclient to fire many requests. At some point &lt;br/&gt;
of time, the server has queued up requests. So certain requests are waiting for &lt;br/&gt;
response. Now when I call httpMethod.releaseConnection, the request should stop &lt;br/&gt;
waiting for the response and the connection should be closed. However, this &lt;br/&gt;
does not happen. The request is only given up after it has timed out.</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: All</environment>
            <key id="12333776">HTTPCLIENT-217</key>
            <summary>httpMethod.abort needed</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jtrek4@yahoo.co.in">Ash</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 May 2003 15:36:01 +0100</created>
                <updated>Wed, 16 Feb 2011 20:44:30 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:24 +0100</resolved>
                            <version>2.0 Alpha 3</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12380552" author="oglueck" created="Wed, 28 May 2003 16:12:13 +0100"  >releaseConnection is meant to return a connection to the connection pool.&lt;br/&gt;
However it does not close it because the connection should be reused if possible.&lt;br/&gt;
&lt;br/&gt;
What you want is a means to abort a request. This can be accomplished by&lt;br/&gt;
explicitly closing the physical connection and not returning it to the pool. We&lt;br/&gt;
should provide an &amp;#39;abort&amp;#39; method that does that. I am not sure how this&lt;br/&gt;
integrates with the current connection manager architecture.&lt;br/&gt;
&lt;br/&gt;
This is a feature request and not a bug. As we are in beta now, we can not&lt;br/&gt;
implement this until we have branched 2.0 out. So targetting for 2.1.</comment>
                    <comment id="12380553" author="olegk" created="Mon, 10 May 2004 04:32:31 +0100"  >Created an attachment (id=11477)&lt;br/&gt;
Patch (take 1)&lt;br/&gt;
</comment>
                    <comment id="12380554" author="olegk" created="Mon, 10 May 2004 04:34:09 +0100"  >Well, it looks like this is all it takes. Writing the test case was by far the&lt;br/&gt;
most difficult part.&lt;br/&gt;
&lt;br/&gt;
Let me know if I overlooked any potential problems&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380555" author="becke@u.washington.edu" created="Mon, 10 May 2004 05:11:29 +0100"  >Hi Oleg,&lt;br/&gt;
&lt;br/&gt;
This looks like the right way to handle abort.  I have a few suggestions:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;- HttpMethodBase should check the abort flag before executing just in case abort() was called before &lt;br/&gt;
the method had a connection.&lt;br/&gt;
&amp;nbsp;- A test case should be added for the above case.&lt;br/&gt;
&lt;br/&gt;
Other than these items I think this one is ready to go.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380556" author="olegk" created="Mon, 10 May 2004 05:53:25 +0100"  >Fair enough. How about this?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380557" author="olegk" created="Mon, 10 May 2004 05:53:55 +0100"  >Created an attachment (id=11479)&lt;br/&gt;
Patch (take 2)&lt;br/&gt;
</comment>
                    <comment id="12380558" author="becke@u.washington.edu" created="Mon, 10 May 2004 06:25:55 +0100"  >Looks good.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380559" author="oglueck" created="Mon, 10 May 2004 15:44:51 +0100"  >I am quite surprised that all it takes is a connection.close! Looks as if we&lt;br/&gt;
finally have a good architecture for connection handling :-) Good work guys.</comment>
                    <comment id="12380560" author="olegk" created="Tue, 11 May 2004 22:47:39 +0100"  >If nobody complains loudly I&amp;#39;ll commit the patch tonight (~ 20:00 GMT)&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380561" author="m_sample@canada.com" created="Wed, 12 May 2004 00:37:55 +0100"  >Oleg, if the abort request comes from a different thread than the code that &lt;br/&gt;
acts on the abort flag (probably does) then you may want the &amp;#39;aborted&amp;#39; boolean &lt;br/&gt;
field to be volatile so it&amp;#39;ll get updated immediately.</comment>
                    <comment id="12380562" author="olegk" created="Wed, 12 May 2004 00:53:23 +0100"  >Even though there are enough people out there who claim volatile variable&lt;br/&gt;
implementation to be completely broken in many JDKs, and even though there&amp;#39;s no&lt;br/&gt;
harm in calling abort multiple times, you are completely right. I&amp;#39;ll mark&lt;br/&gt;
aborted flag as volatile before committing the patch&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380563" author="olegk" created="Wed, 12 May 2004 04:46:02 +0100"  >Patch committed with the changes suggested by Mike Sample &lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12326892" name="ASF.LICENSE.NOT.GRANTED--abort.patch" size="15109" author="olegk" created="Mon, 10 May 2004 05:53:55 +0100" />
                    <attachment id="12326891" name="ASF.LICENSE.NOT.GRANTED--abort.patch" size="14003" author="olegk" created="Mon, 10 May 2004 04:32:31 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>20288</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 28 May 2003 15:12:13 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133271</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189294</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>