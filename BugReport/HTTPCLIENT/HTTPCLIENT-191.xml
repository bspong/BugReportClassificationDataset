<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:14:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-191/HTTPCLIENT-191.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-191] NTLM Authentication Fails</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-191</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>NTLM Authentication requires multiple request/responses for the authentication&lt;br/&gt;
to succeed.  Since HttpMethodBase is now using just the host, port and realm to&lt;br/&gt;
identify whether or not authentication has been attempted the second pass for&lt;br/&gt;
NTLM authentication is never performed.</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: All</environment>
            <key id="12333750">HTTPCLIENT-191</key>
            <summary>NTLM Authentication Fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="adrian@ephox.com">Adrian Sutton</assignee>
                                <reporter username="adrian@ephox.com">Adrian Sutton</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Apr 2003 07:37:32 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:19 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:19 +0100</resolved>
                            <version>2.0 Alpha 3</version>
                                <fixVersion>2.0 Beta 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12380172" author="adrian@ephox.com" created="Mon, 21 Apr 2003 07:38:09 +0100"  >Created an attachment (id=5916)&lt;br/&gt;
Test case showing the problem.&lt;br/&gt;
</comment>
                    <comment id="12380173" author="adrian@ephox.com" created="Mon, 21 Apr 2003 08:06:57 +0100"  >Created an attachment (id=5917)&lt;br/&gt;
Proposed fix, take 1.&lt;br/&gt;
</comment>
                    <comment id="12380174" author="adrian@ephox.com" created="Mon, 21 Apr 2003 08:08:19 +0100"  >There is actually a problem in the test case I sent through which causes it to&lt;br/&gt;
always fail (there&amp;#39;s also some odd line endings).  The modified test case I&amp;#39;ll&lt;br/&gt;
attach in a moment fixes this, fails before the propsed fix and works after it.</comment>
                    <comment id="12380175" author="adrian@ephox.com" created="Mon, 21 Apr 2003 08:11:02 +0100"  >Created an attachment (id=5918)&lt;br/&gt;
Corrected test case.&lt;br/&gt;
</comment>
                    <comment id="12380176" author="olegk" created="Mon, 21 Apr 2003 20:32:05 +0100"  >Adrian,&lt;br/&gt;
&lt;br/&gt;
I feel it&amp;#39;s reasonable for a authentication scheme to have a generic ID&lt;br/&gt;
attribute to uniquely identify a challenge. Not all authentication schemes are&lt;br/&gt;
supposed to support the concept of a realm, but they should all have a token&lt;br/&gt;
that can serve as an unique id. So, I guess your approach is all right. &lt;br/&gt;
&lt;br/&gt;
However, there&amp;#39;s a concern about using the entire NTLM challenge as a challenge&lt;br/&gt;
ID. I have very little idea about the NTLM authentication scheme internals, so&lt;br/&gt;
you have to tell me whether my concern is groundless or not. Do you know if NTLM&lt;br/&gt;
challenge is mutable or it is always constant for the given authentication&lt;br/&gt;
server? In case of NTLM challenge being dynamically generated using some mutable&lt;br/&gt;
information, it cannot be used as an ID in the attempted authentication hashmap&lt;br/&gt;
(erroneously called realms hashmap in the HttpMethodBase class), as we will run&lt;br/&gt;
into exactly the same problem we used to have with the digest authentication&lt;br/&gt;
scheme of not being able to tell if authentication with the server failed or has&lt;br/&gt;
not yet been attempted. &lt;br/&gt;
&lt;br/&gt;
If you tell me that the complete NTLM challenge is always unique for the given&lt;br/&gt;
NTLM server, the patch is good to be committed&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380177" author="adrian@ephox.com" created="Tue, 22 Apr 2003 05:35:45 +0100"  >Oleg,&lt;br/&gt;
The NTLM challenge is mutable, however the start of the NTLM sequence is&lt;br/&gt;
indicated by:&lt;br/&gt;
&lt;br/&gt;
WWW-Authenticate: NTLM&lt;br/&gt;
&lt;br/&gt;
in which case the string will be empty and HttpMethodBase will store:&lt;br/&gt;
host:port:&lt;br/&gt;
into the hash map correctly.  When the second response is received it will not&lt;br/&gt;
match that string and HttpClient will continue the authentication process.  If&lt;br/&gt;
authentication fails at the second step, the server will reply with:&lt;br/&gt;
WWW-Authenticate: NTLM&lt;br/&gt;
&lt;br/&gt;
again which will match what is in the realm hash map and authentication will&lt;br/&gt;
abort.  Additionally, the first response HttpClient sends in the auth process&lt;br/&gt;
contains the username, domain and host so it is not possible for a server to&lt;br/&gt;
expect authentication to work if it skips the first response after an&lt;br/&gt;
unsuccessful auth session.&lt;br/&gt;
&lt;br/&gt;
In short, it&amp;#39;s safe to use the entire NTLM challenge.</comment>
                    <comment id="12380178" author="olegk" created="Tue, 22 Apr 2003 20:38:59 +0100"  >Adrian,&lt;br/&gt;
I ran a few tests of my own. Stuff works. Great work. I&amp;#39;ll commit the patch as&lt;br/&gt;
soon as I get home. &lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12380179" author="olegk" created="Wed, 23 Apr 2003 01:03:43 +0100"  >Patch applied&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12326799" name="ASF.LICENSE.NOT.GRANTED--ntlmfix.patch" size="5604" author="adrian@ephox.com" created="Mon, 21 Apr 2003 08:06:57 +0100" />
                    <attachment id="12326800" name="ASF.LICENSE.NOT.GRANTED--ntlmTest2.patch" size="1941" author="adrian@ephox.com" created="Mon, 21 Apr 2003 08:11:02 +0100" />
                    <attachment id="12326798" name="ASF.LICENSE.NOT.GRANTED--ntlmTest.patch" size="1807" author="adrian@ephox.com" created="Mon, 21 Apr 2003 07:38:09 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>19185</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 21 Apr 2003 19:32:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133245</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189101</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>