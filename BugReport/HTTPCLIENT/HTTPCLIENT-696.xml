<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:20:06 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-696/HTTPCLIENT-696.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-696] java.util.logging configuration examples does not work as intended</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-696</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>java.util.logging configuration examples do not work as intended. Those can be found here: &lt;a href=&quot;http://jakarta.apache.org/httpcomponents/httpclient-3.x/logging.html&quot;&gt;http://jakarta.apache.org/httpcomponents/httpclient-3.x/logging.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Steps to reproduce:&lt;br/&gt;
1. Create a simple project using HttpClient (see listing below) and JDK 1.6 (I suppose it is JDK 1.4 or higher, but I did not test anything other than 1.6). Without log4j in the classpath and without any commons-logging system properties set, java.util.logging is automatically selected by commons-logging.&lt;br/&gt;
2. Create logging.properties file as shown in any of the java.util.logging examples&lt;br/&gt;
3. Run a program, passing -Djava.util.logging.config.file=logging.properties argument to the JVM&lt;br/&gt;
&lt;br/&gt;
Expected results:&lt;br/&gt;
Quite a few log messages should be sent to System.err&lt;br/&gt;
&lt;br/&gt;
Actual results:&lt;br/&gt;
Unless there is an I/O error encountered, no log messages are sent to System.err&lt;br/&gt;
&lt;br/&gt;
The problem, as far as I can see, is caused by the default logging level of java.util.logging.ConsoleHandler, which is set to INFO. In order for any log messages to go through, the log hadler log level needs to be lower than logged messages log level. Adding the following line to all java.util.logging examples should fix the problem:&lt;br/&gt;
&lt;br/&gt;
java.util.logging.ConsoleHandler.level = ALL&lt;br/&gt;
&lt;br/&gt;
--- Get.java -----------------------------------------&lt;br/&gt;
&lt;br/&gt;
import java.io.IOException;&lt;br/&gt;
import java.io.InputStreamReader;&lt;br/&gt;
import java.io.Reader;&lt;br/&gt;
&lt;br/&gt;
import org.apache.commons.httpclient.HostConfiguration;&lt;br/&gt;
import org.apache.commons.httpclient.HttpClient;&lt;br/&gt;
import org.apache.commons.httpclient.HttpException;&lt;br/&gt;
import org.apache.commons.httpclient.HttpMethodBase;&lt;br/&gt;
import org.apache.commons.httpclient.methods.GetMethod;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
public class Get {&lt;br/&gt;
&lt;br/&gt;
	/**&lt;br/&gt;
	 * @param args&lt;br/&gt;
	 */&lt;br/&gt;
	public static void main(String[] args) {&lt;br/&gt;
		&lt;br/&gt;
&amp;nbsp;		HttpClient client = new HttpClient();&lt;br/&gt;
		HttpMethodBase get = new GetMethod(&amp;quot;&lt;a href=&quot;http://www.apache.org&quot;&gt;http://www.apache.org&lt;/a&gt;&amp;quot;);&lt;br/&gt;
		&lt;br/&gt;
		try {&lt;br/&gt;
			int code = client.executeMethod(get);&lt;br/&gt;
			System.out.println(&amp;quot;Status code: &amp;quot; + code);&lt;br/&gt;
			&lt;br/&gt;
			String csn = get.getResponseCharSet();&lt;br/&gt;
			System.out.println(&amp;quot;Charset is: &amp;quot; + csn);&lt;br/&gt;
			&lt;br/&gt;
			long len = get.getResponseContentLength();&lt;br/&gt;
			System.out.println(&amp;quot;Length is: &amp;quot; + len);&lt;br/&gt;
			len = len &amp;lt; 0 ? 200 : len;&lt;br/&gt;
			&lt;br/&gt;
			StringBuilder buf = new StringBuilder((int)len);&lt;br/&gt;
			Reader r = new InputStreamReader(get.getResponseBodyAsStream(), csn);&lt;br/&gt;
			for (int c = r.read(); c &amp;gt;= 0; c = r.read()) {&lt;br/&gt;
				buf.append((char)c);&lt;br/&gt;
			}&lt;br/&gt;
			&lt;br/&gt;
			System.out.println(&amp;quot;Body:&amp;quot;);&lt;br/&gt;
			System.out.println(buf.toString());			&lt;br/&gt;
			&lt;br/&gt;
		} catch (HttpException e) {&lt;br/&gt;
			e.printStackTrace();&lt;br/&gt;
		} catch (IOException e) {&lt;br/&gt;
			e.printStackTrace();&lt;br/&gt;
		} finally {&lt;br/&gt;
			get.releaseConnection();&lt;br/&gt;
		}				&lt;br/&gt;
	}&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
--- logging.properties ----- From examples ----------------------&lt;br/&gt;
&lt;br/&gt;
.level=INFO&lt;br/&gt;
&lt;br/&gt;
handlers=java.util.logging.ConsoleHandler&lt;br/&gt;
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter&lt;br/&gt;
&lt;br/&gt;
httpclient.wire.header.level=FINEST&lt;br/&gt;
org.apache.commons.httpclient.level=FINEST&lt;br/&gt;
&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
</description>
                <environment>JDK 1.6, Windows XP</environment>
            <key id="12380621">HTTPCLIENT-696</key>
            <summary>java.util.logging configuration examples does not work as intended</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="ezaretsky">Elias Zaretsky</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2007 18:46:32 +0100</created>
                <updated>Tue, 25 Jan 2011 10:58:41 +0000</updated>
                    <resolved>Sun, 1 Mar 2009 16:57:11 +0000</resolved>
                            <version>3.1 (end of life)</version>
                                <fixVersion>4.0 Final</fixVersion>
                                <component>Documentation</component>
                <component>Examples</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12654236" author="mclark" created="Sun, 7 Dec 2008 20:05:05 +0000"  >I believe Elias&amp;#39;s suggested fix is correct.  Unlike log4j&amp;#39;s appenders, java.util.logging&amp;#39;s handlers sometimes have higher-than-expected default level filters.  ConsoleHandler&amp;#39;s JavaDoc mentions this fact:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;* java.util.logging.ConsoleHandler.level &lt;br/&gt;
&amp;nbsp;* specifies the default level for the &amp;lt;tt&amp;gt;Handler&amp;lt;/tt&amp;gt;&lt;br/&gt;
&amp;nbsp;* (defaults to &amp;lt;tt&amp;gt;Level.INFO&amp;lt;/tt&amp;gt;)&lt;br/&gt;
&lt;br/&gt;
I wanted to create a patch to fix this example, but the example seems to be gone from the HC 4.0 site (it seems I can only find it for HC 3.x)&lt;br/&gt;
&lt;br/&gt;
Would the fix, then, be to not just fix the example, but also to reintroduce it to the HC 4.0 site?</comment>
                    <comment id="12654455" author="olegk" created="Mon, 8 Dec 2008 16:39:03 +0000"  >Hi Mike&lt;br/&gt;
&lt;br/&gt;
It has not been removed. It has not been written in the first place. All 3.x tutorials still need to be ported to the 4.0 API. The API has changed so much that most of the content will have to be completely rewritten. I just never got around to doing that. It is on my TODO list after HttpClient 4.0-beta2 and HttpCore 4.0 final.&lt;br/&gt;
&lt;br/&gt;
Cheers&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12677822" author="olegk" created="Sun, 1 Mar 2009 16:57:11 +0000"  >I migrated the HttpClient Logging guide to the HttpClient 4.0 site and also fixed the issue with JUL configuration.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://hc.apache.org/httpcomponents-client/logging.html&quot;&gt;http://hc.apache.org/httpcomponents-client/logging.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Please review.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 7 Dec 2008 20:05:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133734</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47463</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>