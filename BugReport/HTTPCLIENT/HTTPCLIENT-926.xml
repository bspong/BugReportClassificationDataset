<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:16 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-926/HTTPCLIENT-926.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-926] Add Amazon S3 authentication support</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-926</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Add support for the the Amazon S3 authentication scheme as defined by the online document: &lt;a href=&quot;http://docs.amazonwebservices.com/AmazonS3/latest/index.html?RESTAuthentication.html&quot;&gt;http://docs.amazonwebservices.com/AmazonS3/latest/index.html?RESTAuthentication.html&lt;/a&gt;</description>
                <environment></environment>
            <key id="12459054">HTTPCLIENT-926</key>
            <summary>Add Amazon S3 authentication support</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="caskater47">Jean-Philippe Steinmetz</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 Mar 2010 05:31:43 +0000</created>
                <updated>Tue, 25 Jan 2011 10:59:31 +0000</updated>
                    <resolved>Wed, 14 Apr 2010 21:00:38 +0100</resolved>
                                            <fixVersion>4.1 Alpha2</fixVersion>
                                <component>Contrib</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12845027" author="caskater47" created="Sun, 14 Mar 2010 05:35:51 +0000"  >Implementation of Amazon&amp;#39;s spec. Verified working against HttpClient 4.0 and 4.1.alpha1.</comment>
                    <comment id="12857058" author="olegk" created="Wed, 14 Apr 2010 21:00:38 +0100"  >Jean-Philippe&lt;br/&gt;
&lt;br/&gt;
I committed the code you contributed to the SVN repository. I made some minor changes to the exception handling code and also had to remove @author tags. Please review.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=934160&amp;view=rev&quot;&gt;http://svn.apache.org/viewvc?rev=934160&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Many thanks for this contribution&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12857200" author="asankha" created="Thu, 15 Apr 2010 07:36:17 +0100"  >Hi Jean-Philippe&lt;br/&gt;
&lt;br/&gt;
I was testing this and noticed that the Base64.encodeBase64String() inserts a CRLF even when the size is much less than 76 characters.. and thus causes problems (a connection reset from Amazon for a GET request in my test)&lt;br/&gt;
&lt;br/&gt;
// base64-encode the hmac&lt;br/&gt;
result = Base64.encodeBase64String(rawHmac);&lt;br/&gt;
&lt;br/&gt;
A simple replace as follows fixes this issue, but as I am not much familiar with the AWS/S3 API want to check this with you if this indeed is a simple oversight or if there could be other cases I am not aware of&lt;br/&gt;
&lt;br/&gt;
// base64-encode the hmac&lt;br/&gt;
return Base64.encodeBase64URLSafeString(rawHmac);&lt;br/&gt;
&lt;br/&gt;
cheers&lt;br/&gt;
asankha&lt;br/&gt;
</comment>
                    <comment id="12857204" author="asankha" created="Thu, 15 Apr 2010 07:40:59 +0100"  >Seems like my earlier comment was written in a hurry.. I still have issues and will get back with my findings :)</comment>
                    <comment id="12857207" author="asankha" created="Thu, 15 Apr 2010 07:59:44 +0100"  >My earlier suggestion has been reporting a successful response, but with an error that the signature did not match which I did not notice .. &lt;br/&gt;
&lt;br/&gt;
A working solution is to just remove the trailing \r\n which otherwise can be interpreted as part of another [malformed] request. Since this is only at the end, this should not cause an issue - but if a \r\n indeed does occur within the header value due to some long signature etc, that could still cause problems..&lt;br/&gt;
&lt;br/&gt;
For now, I&amp;#39;ve checked this into SVN&lt;br/&gt;
&lt;br/&gt;
String headerValue = NAME + &amp;quot; &amp;quot; + credentials.getUserPrincipal().getName() + &amp;quot;:&amp;quot; + signature.trim();&lt;br/&gt;
&lt;br/&gt;
cheers&lt;br/&gt;
asankha</comment>
                    <comment id="12857221" author="caskater47" created="Thu, 15 Apr 2010 08:49:33 +0100"  >Hi Asankha&lt;br/&gt;
&lt;br/&gt;
Thanks for the feedback. I&amp;#39;ve found a similar issues with the code that I had to use some workarounds for. I&amp;#39;m continuing to investigate this and will take your considerations into account. I also discovered an issue with some S3 based servers required the Content-MD5 header to be set. I will be submitting an update to the code that hopefully addresses your issue plus the Content-MD5 issue.&lt;br/&gt;
&lt;br/&gt;
Cheers,&lt;br/&gt;
Jean-Philippe</comment>
                </comments>
                    <attachments>
                    <attachment id="12438736" name="AWSSchemeFactory.java" size="411" author="caskater47" created="Sun, 14 Mar 2010 05:35:51 +0000" />
                    <attachment id="12438735" name="AWSScheme.java" size="6745" author="caskater47" created="Sun, 14 Mar 2010 05:35:51 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 14 Apr 2010 20:00:38 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133932</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47363</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>