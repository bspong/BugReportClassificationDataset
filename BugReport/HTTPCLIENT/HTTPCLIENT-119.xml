<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:13:39 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-119/HTTPCLIENT-119.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-119] [PATCH] FilePart fails to send data on second call to send</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-119</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>When using a FilePart with the MultipartPostMethod and a server that requires &lt;br/&gt;
authentication, the first call to FilePart.send() sends the data correctly and &lt;br/&gt;
HttpClient receives an unauthorized response from the server.  If HttpClient is &lt;br/&gt;
set to automatically handle authentication attempts it then attempts to send &lt;br/&gt;
the FilePart again at which time the InputStream FilePart reads from is empty &lt;br/&gt;
so it doesn&amp;#39;t send any data.&lt;br/&gt;
&lt;br/&gt;
Due to this, the data actually sent by HttpClient doesn&amp;#39;t match the content &lt;br/&gt;
length specified so the server continues to wait for the data and doesn&amp;#39;t &lt;br/&gt;
respond, leaving HttpClient to timeout while waiting for a response.&lt;br/&gt;
&lt;br/&gt;
This occurs with the latest source from CVS as of 16 October 2002.</description>
                <environment>Operating System: other&lt;br/&gt;
Platform: Other</environment>
            <key id="12333678">HTTPCLIENT-119</key>
            <summary>[PATCH] FilePart fails to send data on second call to send</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="adrian@ephox.com">Adrian Sutton</assignee>
                                <reporter username="adrian@ephox.com">Adrian Sutton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2002 14:01:59 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:09 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:09 +0100</resolved>
                            <version>Snapshot</version>
                                <fixVersion>2.0 Beta 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379689" author="adrian@ephox.com" created="Wed, 16 Oct 2002 14:17:11 +0100"  >Created an attachment (id=3482)&lt;br/&gt;
Patch to add buffering to FilePart.&lt;br/&gt;
</comment>
                    <comment id="12379690" author="adrian@ephox.com" created="Wed, 16 Oct 2002 14:20:37 +0100"  >The attached patch adds a buffer to FilePart which stores the file data so it &lt;br/&gt;
can be resent, allowing FilePart to work correctly with authenticated servers.</comment>
                    <comment id="12379691" author="martinc" created="Thu, 17 Oct 2002 01:20:44 +0100"  >I understand the issue the patch is trying to address, but this is not the &lt;br/&gt;
right way to do it. The problem is that the entire file is being buffered in &lt;br/&gt;
memory. That&amp;#39;s fine if the file is small, and there&amp;#39;s only one, but if you&amp;#39;re &lt;br/&gt;
trying to upload multiple large files, this will just run the system out of &lt;br/&gt;
memory.</comment>
                    <comment id="12379692" author="adrian@ephox.com" created="Thu, 17 Oct 2002 07:42:09 +0100"  >Agreed that buffering in memory isn&amp;#39;t desirable, however if only an InputStream &lt;br/&gt;
is given there isn&amp;#39;t a lot of choice.  This new patch provides the option to &lt;br/&gt;
turn buffering on and off and does not buffer in RAM if a java.io.File is &lt;br/&gt;
provided (it creates a new FileInputStream each time instead).&lt;br/&gt;
&lt;br/&gt;
While it is possible to take an InputStream and buffer the data to a file, this &lt;br/&gt;
seems somewhat redundant when a File can be taken as a parameter anyway and it &lt;br/&gt;
is a part designed for file uploading.&lt;br/&gt;
&lt;br/&gt;
I have enabled buffering by default as without it, HttpClient will hang if &lt;br/&gt;
authentication or a redirect is required and default settings should avoid that.</comment>
                    <comment id="12379693" author="adrian@ephox.com" created="Thu, 17 Oct 2002 07:42:40 +0100"  >Created an attachment (id=3494)&lt;br/&gt;
New patch, disregard the previous patch.&lt;br/&gt;
</comment>
                    <comment id="12379694" author="martinc" created="Thu, 17 Oct 2002 07:47:30 +0100"  >Another possibility would be to use mark()/reset() if it&amp;#39;s available on the &lt;br/&gt;
supplied InputStream. That would be kinda nice.</comment>
                    <comment id="12379695" author="adrian@ephox.com" created="Thu, 17 Oct 2002 08:08:41 +0100"  >Excellent idea.  I&amp;#39;ve implemented that so please ignore the current patch.  &lt;br/&gt;
It&amp;#39;s getting too complex for me to be confident without specific test cases &lt;br/&gt;
though.  I&amp;#39;ll look into those when I get a chance.</comment>
                    <comment id="12379696" author="adrian@ephox.com" created="Thu, 17 Oct 2002 09:07:54 +0100"  >Created an attachment (id=3495)&lt;br/&gt;
Latest patch, ignore previous ones.  No test cases yet.&lt;br/&gt;
</comment>
                    <comment id="12379697" author="adrian@ephox.com" created="Thu, 17 Oct 2002 09:08:57 +0100"  >HttpClient test cases won&amp;#39;t run for me at all and I don&amp;#39;t have time to struggle &lt;br/&gt;
with it just yet.  I&amp;#39;ve uploaded the patch in case anyone has the inspiration &lt;br/&gt;
to write tests before I get around to it, otherwise I&amp;#39;ll follow up during the &lt;br/&gt;
week sometime.</comment>
                    <comment id="12379698" author="adrian@ephox.com" created="Mon, 28 Oct 2002 17:28:59 +0000"  >Created an attachment (id=3624)&lt;br/&gt;
Patch to add tests for parts to TestNoHost.&lt;br/&gt;
</comment>
                    <comment id="12379699" author="adrian@ephox.com" created="Mon, 28 Oct 2002 17:29:36 +0000"  >Created an attachment (id=3625)&lt;br/&gt;
Tests for resending part data.&lt;br/&gt;
</comment>
                    <comment id="12379700" author="adrian@ephox.com" created="Mon, 28 Oct 2002 17:31:31 +0000"  >These two patches add test cases for this fix.  It would be good to get this &lt;br/&gt;
fix committed.  There&amp;#39;s still more test cases that need to be written for &lt;br/&gt;
MultipartPostMethod, but these are the only ones relevant to this bug.</comment>
                    <comment id="12379701" author="jsdever@sympatico.ca" created="Tue, 29 Oct 2002 14:43:42 +0000"  >Patches 3495, 3624, 3625 committed.</comment>
                    <comment id="12379702" author="jsdever@apache.org" created="Mon, 3 Feb 2003 23:08:06 +0000"  >Adrian, it appears that this bug is fixed.  Can it be closed?</comment>
                    <comment id="12379703" author="adrian@ephox.com" created="Tue, 4 Feb 2003 07:15:58 +0000"  >Yes, I believe this bug should have been closed quite some time ago.</comment>
                    <comment id="12379704" author="jsdever@apache.org" created="Tue, 4 Feb 2003 11:51:57 +0000"  >Currently in REMIND state, need to close.</comment>
                </comments>
                    <attachments>
                    <attachment id="12326699" name="ASF.LICENSE.NOT.GRANTED--addPartsTest.patch" size="602" author="adrian@ephox.com" created="Mon, 28 Oct 2002 17:28:59 +0000" />
                    <attachment id="12326697" name="ASF.LICENSE.NOT.GRANTED--filepart2.patch" size="4561" author="adrian@ephox.com" created="Thu, 17 Oct 2002 07:42:40 +0100" />
                    <attachment id="12326698" name="ASF.LICENSE.NOT.GRANTED--filepart3.patch" size="5358" author="adrian@ephox.com" created="Thu, 17 Oct 2002 09:07:54 +0100" />
                    <attachment id="12326696" name="ASF.LICENSE.NOT.GRANTED--filepart.patch" size="1512" author="adrian@ephox.com" created="Wed, 16 Oct 2002 14:17:11 +0100" />
                    <attachment id="12326700" name="ASF.LICENSE.NOT.GRANTED--TestPartsNoHost.java" size="7065" author="adrian@ephox.com" created="Mon, 28 Oct 2002 17:29:36 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>13676</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 17 Oct 2002 00:20:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133173</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188782</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>