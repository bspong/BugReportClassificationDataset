<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:21:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-889/HTTPCLIENT-889.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-889] Should USE_EXPECT_CONTINUE be false by default?</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-889</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>It seems the point of USE_EXPECT_CONTINUE is to improve performance when posting large data. &lt;br/&gt;
&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html&lt;/a&gt; says:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;&amp;lt; The purpose of the 100 (Continue) status (see section 10.1.1) is to allow a client that is sending a request message with a request body to determine if the origin server is willing to accept the request (based on the request headers) before the client sends the request body. In some cases, it might either be inappropriate or highly inefficient for the client to send the body if the server will reject the message without looking at the body. &amp;gt;&amp;gt;&lt;br/&gt;
&lt;br/&gt;
There&amp;#39;s nothing wrong with HttpClient performing well by default, however, every other HTTP client library I&amp;#39;ve used does not behave like this (PHP curl, Perl LWP). The default is always to do one request, including the body. Maybe dumb, but simple.&lt;br/&gt;
&lt;br/&gt;
It seems to me HttpClient&amp;#39;s default behavior should the simplest, most compatible with all HTTP-speaking services out there. &amp;quot;100 Continue&amp;quot; is somewhat advanced, and may not be correctly implemented by all services. (That&amp;#39;s of course how I found out about it -- my server doesn&amp;#39;t implement it.)&lt;br/&gt;
&lt;br/&gt;
If USE_EXPECT_CONTINUE is used only for performance reasons, it seems like it would be simpler (and therefore maybe more &amp;quot;correct&amp;quot;) to have it &amp;quot;off&amp;quot; by default. And only enable it when needed, when there is a good reason to.&lt;br/&gt;
&lt;br/&gt;
Just my thoughts. And a wish. Thanks! &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12440426">HTTPCLIENT-889</key>
            <summary>Should USE_EXPECT_CONTINUE be false by default?</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rwaldura">Ren Waldura</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Nov 2009 17:08:26 +0000</created>
                <updated>Tue, 25 Jan 2011 10:59:23 +0000</updated>
                    <resolved>Tue, 24 Nov 2009 20:52:50 +0000</resolved>
                            <version>4.0 Final</version>
                                <fixVersion>4.1 Alpha1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12776581" author="olegk" created="Wed, 11 Nov 2009 19:12:46 +0000"  >In hindsight the decision to turn &amp;#39;expect-continue&amp;#39; on per default was probably a mistake. There are several reports about various incompatibilities due to poor support of  &amp;#39;expect-continue&amp;#39; by some web servers / proxies. If I hear no objections, I will disable  &amp;#39;expect-continue&amp;#39; per default in 4.1&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12776636" author="oglueck" created="Wed, 11 Nov 2009 20:24:34 +0000"  >Yeah, for &amp;quot;small&amp;quot; request entities (such as form data) it doesn&amp;#39;t make much of a difference. It&amp;#39;s really only useful for&lt;br/&gt;
a) large request entities, such as image uploads over a low-bandwidth connection&lt;br/&gt;
b) request entities that are not cached/repeatable, i.e. only producible once (such as streamed data)&lt;br/&gt;
&lt;br/&gt;
Judge for yourself if those are &amp;quot;the common&amp;quot; use case for HttpClient.&lt;br/&gt;
&lt;br/&gt;
Mind you, reasons why a server would reject a request whose body it hasn&amp;#39;t even seen are mainly:&lt;br/&gt;
- not authenticated&lt;br/&gt;
- not authorized&lt;br/&gt;
- content too large&lt;br/&gt;
- missing content-length information (chunked TE not supported/allowed)&lt;br/&gt;
- content type not expected/supported</comment>
                    <comment id="12782158" author="olegk" created="Tue, 24 Nov 2009 20:52:50 +0000"  >Fixed in SVN trunk.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 11 Nov 2009 19:12:46 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133899</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47378</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>