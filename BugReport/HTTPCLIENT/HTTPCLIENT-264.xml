<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:15:23 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-264/HTTPCLIENT-264.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-264] Crashes when it gets a redirect</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-264</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>I get the following crash when VFS (not my code) calls HttpClient. This code &lt;br/&gt;
worked with some older version of HttpClient (is my belief) but doesn&amp;#39;t appear &lt;br/&gt;
to work with CVS HEAD, hence this posting.&lt;br/&gt;
&lt;br/&gt;
Note: I&amp;#39;m sorry, but I don&amp;#39;t know which Method it was calling, but hopefully a &lt;br/&gt;
redirect is a redirect and the bug stands irrespective of that.&lt;br/&gt;
&lt;br/&gt;
This is major to me (and Ruper) &amp;#39;cos it is the first thing it does before &lt;br/&gt;
attempting to read the contents of that location.&lt;br/&gt;
&lt;br/&gt;
regards,&lt;br/&gt;
&lt;br/&gt;
Adam&lt;br/&gt;
&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at &lt;br/&gt;
org.apache.commons.httpclient.HttpMethodDirector.processRedirectResponse&lt;br/&gt;
(HttpMethodDirector.java:454)&lt;br/&gt;
	at org.apache.commons.httpclient.HttpMethodDirector.isRetryNeeded&lt;br/&gt;
(HttpMethodDirector.java:639)&lt;br/&gt;
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod&lt;br/&gt;
(HttpMethodDirector.java:145)&lt;br/&gt;
	at org.apache.commons.httpclient.HttpClient.executeMethod&lt;br/&gt;
(HttpClient.java:378)&lt;br/&gt;
	at org.apache.commons.httpclient.HttpClient.executeMethod&lt;br/&gt;
(HttpClient.java:268</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: PC</environment>
            <key id="12333823">HTTPCLIENT-264</key>
            <summary>Crashes when it gets a redirect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="becke@u.washington.edu">Michael Becke</assignee>
                                <reporter username="ajack@trysybase.com">Adam Jack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Aug 2003 03:17:41 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:31 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:31 +0100</resolved>
                            <version>Snapshot</version>
                                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12380920" author="becke@u.washington.edu" created="Fri, 29 Aug 2003 09:34:05 +0100"  >Hi Adam,&lt;br/&gt;
&lt;br/&gt;
Thank you for posting this bug.  I tried this out and was unfortunately unable to reproduce the &lt;br/&gt;
problem.  Here&amp;#39;s what I tried:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.setProperty(&amp;quot;org.apache.commons.logging.Log&amp;quot;, &lt;br/&gt;
&amp;quot;org.apache.commons.logging.impl.SimpleLog&amp;quot;); &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.setProperty(&amp;quot;org.apache.commons.logging.simplelog.showdatetime&amp;quot;, &amp;quot;true&amp;quot;); &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.setProperty(&amp;quot;org.apache.commons.logging.simplelog.log.httpclient.wire&amp;quot;, &amp;quot;debug&amp;quot;); &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
System.setProperty(&amp;quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&amp;quot;, &lt;br/&gt;
&amp;quot;debug&amp;quot;); &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String url = &amp;quot;&lt;a href=&quot;http://www.ibiblio.org/maven&quot;&gt;http://www.ibiblio.org/maven&lt;/a&gt;&amp;quot;;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HttpClient client = new HttpClient();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;GetMethod get = new GetMethod(url);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;client.executeMethod(get);        &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;get.getResponseBody();&lt;br/&gt;
&lt;br/&gt;
The request was redirected successfully.  There are also a number of test cases for redirects that &lt;br/&gt;
work with HEAD.  Is must be something about how HttpClient is configured or being called.  Can &lt;br/&gt;
you provide a test case and/or a wire log &amp;lt;&lt;a href=&quot;http://jakarta.apache.org/commons/httpclient/&quot;&gt;http://jakarta.apache.org/commons/httpclient/&lt;/a&gt;&lt;br/&gt;
logging.html&amp;gt;?&lt;br/&gt;
&lt;br/&gt;
Thanks,&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380921" author="ajack@trysybase.com" created="Fri, 5 Sep 2003 22:20:45 +0100"  >I found the settings that VFS was using, and tried to emulate. It seems to need &lt;br/&gt;
the MultiThreadedHttpConnectionManager plus HEAD to crash.&lt;br/&gt;
&lt;br/&gt;
		HttpClient client = new HttpClient(new &lt;br/&gt;
MultiThreadedHttpConnectionManager());&lt;br/&gt;
		HeadMethod head = new HeadMethod(url);&lt;br/&gt;
		client.executeMethod(head);</comment>
                    <comment id="12380922" author="becke@u.washington.edu" created="Fri, 5 Sep 2003 22:32:12 +0100"  >Hi Adam,&lt;br/&gt;
&lt;br/&gt;
I have just done the same thing.  As you point out the problem is in using the&lt;br/&gt;
MultiThreadedHttpConnectionManager, and in particular the HttpConnectionAdapter.&lt;br/&gt;
&amp;nbsp;The connection is being released by HeadMethod because the&lt;br/&gt;
HttpConnectionAdapter is not aware of the new &amp;#39;locked&amp;#39; option.  This is clearly&lt;br/&gt;
a bug.  I will work on a solution.&lt;br/&gt;
&lt;br/&gt;
Thanks,&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380923" author="becke@u.washington.edu" created="Fri, 5 Sep 2003 22:39:53 +0100"  >Created an attachment (id=8078)&lt;br/&gt;
Quick fix.&lt;br/&gt;
</comment>
                    <comment id="12380924" author="becke@u.washington.edu" created="Fri, 5 Sep 2003 22:40:49 +0100"  >Here&amp;#39;s a quick fix for this.  While I feel this is not the ideal solution, it&lt;br/&gt;
should get things working for now.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380925" author="becke@u.washington.edu" created="Mon, 8 Sep 2003 09:42:22 +0100"  >Any objections if I apply this to HEAD?&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12380926" author="becke@u.washington.edu" created="Fri, 26 Sep 2003 10:47:09 +0100"  >Patch applied.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                </comments>
                    <attachments>
                    <attachment id="12326956" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="833" author="becke@u.washington.edu" created="Fri, 5 Sep 2003 22:39:53 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>22800</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 29 Aug 2003 08:34:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133315</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188889</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>