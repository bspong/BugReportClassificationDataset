<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:22:30 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-95/HTTPCLIENT-95.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-95] Proxy authentication does not handle multiple multiple authentication schemes</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-95</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>My proxy server returns the following header lines in the response:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Proxy-Authenticate: NTLM&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Proxy-Authenticate: Basic realm=&amp;quot;10.105.20.201&amp;quot;&lt;br/&gt;
&lt;br/&gt;
i.e., it returns two Proxy-Authenticate header lines. Unfortunately this does &lt;br/&gt;
not work. In line 253 of class Authenticator (method: authenticate(HttpMethod, &lt;br/&gt;
HttpState, Header, String)) I see this comment:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// FIXME: Note that this won&amp;#39;t work if there is more than one realm within &lt;br/&gt;
the challenge&lt;br/&gt;
&lt;br/&gt;
so it looks like this is something that isn&amp;#39;t yet implemented. In the log, I &lt;br/&gt;
can see that the Authenticator attempts to parse the realm, but it looks like&lt;br/&gt;
this is not being done correctly:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;411 DEBUG Attempting to authenticate challenge: Proxy-Authenticate: NTLM, &lt;br/&gt;
Basic realm=&amp;quot;10.105.20.201&amp;quot;&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;411 DEBUG Parsed realm &amp;quot;ealm=&amp;quot;10.105.20.201&amp;quot; from challenge &amp;quot;NTLM, Basic &lt;br/&gt;
realm=&amp;quot;10.105.20.201&amp;quot;&amp;quot;.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;421 WARN  Exception thrown authenticating&lt;br/&gt;
java.lang.UnsupportedOperationException: Authentication type &amp;quot;NTLM,&amp;quot; is not &lt;br/&gt;
recognized.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.commons.httpclient.Authenticator.authenticate&lt;br/&gt;
(Authenticator.java:274)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.commons.httpclient.Authenticator.authenticateProxy&lt;br/&gt;
(Authenticator.java:178)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at &lt;br/&gt;
org.apache.commons.httpclient.HttpMethodBase.processAuthenticationResponse&lt;br/&gt;
(HttpMethodBase.java:580)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.commons.httpclient.HttpMethodBase.execute&lt;br/&gt;
(HttpMethodBase.java:668)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.commons.httpclient.HttpClient.executeMethod&lt;br/&gt;
(HttpClient.java:355)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at com.cmg.httptest.Main.main(Main.java:34)&lt;br/&gt;
&lt;br/&gt;
It looks wrong to me that the realm name seems to be parsed as: &lt;br/&gt;
ealm=&amp;quot;10.105.20.201&lt;br/&gt;
&lt;br/&gt;
I understand that Authenticator does not know what NTLM is but I would like it &lt;br/&gt;
to use Basic authentication in this case.&lt;br/&gt;
&lt;br/&gt;
If there are more authentication methods possible, how can I specify which one &lt;br/&gt;
I want to use?&lt;br/&gt;
&lt;br/&gt;
Jesper de Jong</description>
                <environment>Operating System: All&lt;br/&gt;
Platform: All</environment>
            <key id="12333654">HTTPCLIENT-95</key>
            <summary>Proxy authentication does not handle multiple multiple authentication schemes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jespdj@hotmail.com">Jesper de Jong</assignee>
                                <reporter username="jespdj@hotmail.com">Jesper de Jong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Aug 2002 21:24:47 +0100</created>
                <updated>Sun, 22 Apr 2007 08:10:06 +0100</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:06 +0100</resolved>
                            <version>Snapshot</version>
                                <fixVersion>2.0 Milestone 1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12379585" author="jsdever@sympatico.ca" created="Tue, 6 Aug 2002 22:13:51 +0100"  >This is definately a problem.  Not just an issue with the authenticate headers, &lt;br/&gt;
but for many multivalued headerst.  There is talk of moving to regular &lt;br/&gt;
expression pattern matching for parsing, but that will not be a 2.0 feature.  &lt;br/&gt;
However, we will correct this issue for the soonest possible timeframe, 2.0 &lt;br/&gt;
Milestone 1.&lt;br/&gt;
&lt;br/&gt;
As for which authentication scheme to use when there are multiple &lt;br/&gt;
authentication schemes:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;cite href=&amp;quot;&lt;a href=&quot;http://www.ietf.org/rfc/rfc2617.txt&quot;&gt;http://www.ietf.org/rfc/rfc2617.txt&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
4.6 Weakness Created by Multiple Authentication Schemes&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;An HTTP/1.1 server may return multiple challenges with a 401&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;(Authenticate) response, and each challenge may use a different&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;auth-scheme. A user agent MUST choose to use the strongest auth-&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;scheme it understands and request credentials from the user based&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;upon that challenge.&lt;br/&gt;
&amp;lt;/cite&amp;gt;&lt;br/&gt;
&lt;br/&gt;
The behaviour in the citation is *not* the current behaviour of HttpClient.</comment>
                    <comment id="12379586" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 00:23:38 +0100"  >Created an attachment (id=2627)&lt;br/&gt;
Patch for parsing multiple authenticate headers correctly&lt;br/&gt;
</comment>
                    <comment id="12379587" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 03:09:29 +0100"  >Created an attachment (id=2628)&lt;br/&gt;
Improved test cases, fixes another bug with multiple proxy authentication headers&lt;br/&gt;
</comment>
                    <comment id="12379588" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 03:26:37 +0100"  >Applied patch &lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/bugzilla/showattachment.cgi?attach_id=2628&quot;&gt;http://nagoya.apache.org/bugzilla/showattachment.cgi?attach_id=2628&lt;/a&gt; &lt;br/&gt;
Added test cases in the test-nohost suite for both WWW-Auth and Proxy-Auth.&lt;br/&gt;
&lt;br/&gt;
Please re-test in your environment and change bug status to FIXED if you are &lt;br/&gt;
satisfied.  Otherwise add a comment and reassign to component owner.</comment>
                    <comment id="12379589" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 03:43:07 +0100"  >*** &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-84&quot; title=&quot;handle multiple authentication protocol correctly&quot;&gt;&lt;strike&gt;HTTPCLIENT-84&lt;/strike&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***</comment>
                    <comment id="12379590" author="jespdj@hotmail.com" created="Thu, 8 Aug 2002 21:54:18 +0100"  >Works with the nightly build of 08/08/2002.&lt;br/&gt;
Jesper&lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="12326674" name="ASF.LICENSE.NOT.GRANTED--multiauthenticate2.diff" size="17028" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 00:23:38 +0100" />
                    <attachment id="12326675" name="ASF.LICENSE.NOT.GRANTED--multiauthenticate3.diff" size="23051" author="jsdever@sympatico.ca" created="Thu, 8 Aug 2002 03:09:29 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>11498</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 6 Aug 2002 21:13:51 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133150</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>188932</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>