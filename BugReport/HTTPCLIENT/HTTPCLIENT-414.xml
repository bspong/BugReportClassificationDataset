<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:17:14 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-414/HTTPCLIENT-414.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-414] cookies &gt; 20 years invalidated</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-414</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>&amp;nbsp;</description>
                <environment>Operating System: Windows XP&lt;br/&gt;
Platform: All</environment>
            <key id="12333973">HTTPCLIENT-414</key>
            <summary>cookies &gt; 20 years invalidated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="colin.taylor@gmail.com">colin.taylor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Dec 2004 04:38:30 +0000</created>
                <updated>Wed, 16 Feb 2011 20:45:07 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:55 +0100</resolved>
                            <version>3.0 Beta 1</version>
                                <fixVersion>3.0 RC1</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12382080" author="colin.taylor@gmail.com" created="Fri, 24 Dec 2004 04:44:29 +0000"  >Amazon sets its user cookie to year &amp;#39;38&amp;#39; which is  a problem&lt;br/&gt;
because httpclient thinks 1938 and ignores the cookie. The reason why&lt;br/&gt;
it does this lies in SimpleDateFormat&lt;br/&gt;
From the JDK:&lt;br/&gt;
&lt;br/&gt;
&amp;quot;For parsing with the abbreviated year pattern (&amp;quot;y&amp;quot; or &amp;quot;yy&amp;quot;),&lt;br/&gt;
SimpleDateFormat must interpret the abbreviated year relative to some&lt;br/&gt;
century. It does this by adjusting dates to be within 80 years before&lt;br/&gt;
and 20 years after the time the SimpleDateFormat instance is created.&lt;br/&gt;
For example, using a pattern of &amp;quot;MM/dd/yy&amp;quot; and a SimpleDateFormat&lt;br/&gt;
instance created on Jan 1, 1997, the string &amp;quot;01/11/12&amp;quot; would be&lt;br/&gt;
interpreted as Jan 11, 2012 while the string &amp;quot;05/04/64&amp;quot; would be&lt;br/&gt;
interpreted as May 4, 1964.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
So in effect any cookie set more than 20 years in the future and using&lt;br/&gt;
a 2 digit format is gonna be screwed. The assumption being made that all two&lt;br/&gt;
digit years &amp;gt; current (YY+20) are last century.&lt;br/&gt;
&lt;br/&gt;
To change the assumption all thats needed is to pass in a&lt;br/&gt;
two_year_start to DateUtil.parseDate()   which should be &amp;quot;20&amp;quot; in the&lt;br/&gt;
expires field check IMHO. This wouldnt affect any fully specified&lt;br/&gt;
years and any other users of the field can use  &amp;quot;19&amp;quot; if so desired.&lt;br/&gt;
Tangentially,  the making of the simple date format in the local loop aint ideal...&lt;br/&gt;
&lt;br/&gt;
from&lt;br/&gt;
&lt;br/&gt;
if (dateParser == null) {&lt;br/&gt;
&amp;nbsp;dateParser = new SimpleDateFormat(format, Locale.US);&lt;br/&gt;
&amp;nbsp;dateParser.setTimeZone(TimeZone.getTimeZone(&amp;quot;GMT&amp;quot;));&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
to&lt;br/&gt;
&lt;br/&gt;
if (dateParser == null) {&lt;br/&gt;
&amp;nbsp;dateParser = new SimpleDateFormat(format, Locale.US);&lt;br/&gt;
&amp;nbsp;dateParser.setTimeZone(TimeZone.getTimeZone(&amp;quot;GMT&amp;quot;));&lt;br/&gt;
&amp;nbsp;dateParser.setTwoDigitYearStart(two_year_start));   // new</comment>
                    <comment id="12382081" author="olegk" created="Fri, 24 Dec 2004 07:15:59 +0000"  >Created an attachment (id=13839)&lt;br/&gt;
Patch (take 1)&lt;br/&gt;
&lt;br/&gt;
Please let me know what you think.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382082" author="becke@u.washington.edu" created="Sat, 25 Dec 2004 04:02:05 +0000"  >Looks good to me.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12382083" author="olegk" created="Sat, 25 Dec 2004 05:36:37 +0000"  >Patch committed.&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12327180" name="ASF.LICENSE.NOT.GRANTED--cookiedate.patch" size="6971" author="olegk" created="Fri, 24 Dec 2004 07:15:59 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>32835</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 24 Dec 2004 07:15:59 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133462</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47071</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>