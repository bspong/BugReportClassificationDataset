<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Mon Jul 08 06:17:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HTTPCLIENT-437/HTTPCLIENT-437.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[HTTPCLIENT-437] method.getURI()  returns escaped URIs but it shouldn&apos;t</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-437</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                        <description>Hi guys,&lt;br/&gt;
&lt;br/&gt;
Please, consider the following imaginary and simplified code:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
URI u = new URI(&amp;quot;&lt;a href=&quot;http://some.host.com/%41.html&quot;&gt;http://some.host.com/%41.html&lt;/a&gt;&amp;quot;, true);&lt;br/&gt;
HttpClient httpClient = new HttpClient();&lt;br/&gt;
GetMethod method = new GetMethod();&lt;br/&gt;
method.setURI(u);&lt;br/&gt;
URI u2 = method.getURI();&lt;br/&gt;
&lt;br/&gt;
System.out.println(&amp;quot;1. &amp;quot; + u);&lt;br/&gt;
System.out.println(&amp;quot;2. &amp;quot; + new String(u.getRawURI()));&lt;br/&gt;
System.out.println(&amp;quot;3. &amp;quot; + u.getURI());&lt;br/&gt;
System.out.println(&amp;quot;4. &amp;quot; + u2);&lt;br/&gt;
System.out.println(&amp;quot;5. &amp;quot; + new String(u2.getRawURI()));&lt;br/&gt;
System.out.println(&amp;quot;6. &amp;quot; + u2.getURI());&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The result that you&amp;#39;ll get is:&lt;br/&gt;
&lt;br/&gt;
1. &lt;a href=&quot;http://some.host.com/%41.html&quot;&gt;http://some.host.com/%41.html&lt;/a&gt;&lt;br/&gt;
2. &lt;a href=&quot;http://some.host.com/%41.html&quot;&gt;http://some.host.com/%41.html&lt;/a&gt;&lt;br/&gt;
3. &lt;a href=&quot;http://some.host.com/A.html&quot;&gt;http://some.host.com/A.html&lt;/a&gt;&lt;br/&gt;
4. &lt;a href=&quot;http://some.host.com/%2541.html&quot;&gt;http://some.host.com/%2541.html&lt;/a&gt;&lt;br/&gt;
5. &lt;a href=&quot;http://some.host.com/%2541.html&quot;&gt;http://some.host.com/%2541.html&lt;/a&gt;&lt;br/&gt;
6. &lt;a href=&quot;http://some.host.com/%41.html&quot;&gt;http://some.host.com/%41.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
You can see that for lines 4, 5, and 6, the URI suddenly gets escaped (the &lt;br/&gt;
percent sign gets converted to %25).&lt;br/&gt;
&lt;br/&gt;
Why is that? Am I doing something wrong? Is this the desired behaviour? I would &lt;br/&gt;
have expected to get the SAME URI back, without any escaping.&lt;br/&gt;
&lt;br/&gt;
Besides, I have another question:&lt;br/&gt;
&lt;br/&gt;
After executing a method -- httpClient.executeMethod(method) -- what will &lt;br/&gt;
method.getURI() return? The URI *after* all redirections or the original URI? &lt;br/&gt;
It seems I get the URI *after* the redirections, which is fine, but the &lt;br/&gt;
documentation doesn&amp;#39;t say that. It only explicitly says that the getPath() &lt;br/&gt;
method has that behaviour.&lt;br/&gt;
&lt;br/&gt;
Best regards and thanks,&lt;br/&gt;
Bisser</description>
                <environment>Operating System: Windows 2000&lt;br/&gt;
Platform: PC</environment>
            <key id="12333996">HTTPCLIENT-437</key>
            <summary>method.getURI()  returns escaped URIs but it shouldn&apos;t</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="vesuvius_prime@hotmail.com">Bisser Peshev</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Feb 2005 07:53:07 +0000</created>
                <updated>Wed, 16 Feb 2011 20:43:41 +0000</updated>
                    <resolved>Sun, 22 Apr 2007 08:10:58 +0100</resolved>
                            <version>3.0 Final</version>
                                <fixVersion>3.0 Final</fixVersion>
                                <component>HttpClient</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12382174" author="olegk" created="Sat, 26 Feb 2005 22:14:29 +0000"  >Created an attachment (id=14368)&lt;br/&gt;
Patch (take 1)&lt;br/&gt;
&lt;br/&gt;
This should take care of the problem. Please review&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382175" author="vesuvius_prime@hotmail.com" created="Mon, 28 Feb 2005 22:39:53 +0000"  >Hi Oleg,&lt;br/&gt;
&lt;br/&gt;
Thank you for the patch. Did you write to me to review the changes? Or was it &lt;br/&gt;
intended for the other developers? I could try to test it myself but I&amp;#39;m in the &lt;br/&gt;
process of changing jobs right now and I cannot say how soon I will be able to &lt;br/&gt;
do that. I will try to find the time, though.&lt;br/&gt;
&lt;br/&gt;
Best regards,&lt;br/&gt;
Bisser</comment>
                    <comment id="12382176" author="olegk" created="Thu, 3 Mar 2005 05:39:42 +0000"  >Bisser,&lt;br/&gt;
I was primarily referring to my fellow HttpClient committers. If you happen to&lt;br/&gt;
have time on your hands to do some testing, it&amp;#39;ll certainly be welcome.&lt;br/&gt;
Otherwise, the patch will get reviewed by some one else&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382177" author="olegk" created="Wed, 30 Mar 2005 08:38:20 +0100"  >Folks, any objections to committing this one?&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382178" author="oglueck" created="Wed, 30 Mar 2005 19:03:26 +0100"  >Look good. Any test cases?</comment>
                    <comment id="12382179" author="olegk" created="Mon, 4 Apr 2005 18:27:18 +0100"  >Created an attachment (id=14612)&lt;br/&gt;
Patch + test case&lt;br/&gt;
&lt;br/&gt;
All right. The same patch + a test case. If I hear no complaints, I&amp;#39;ll commit&lt;br/&gt;
the patch in a couple of days&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                    <comment id="12382180" author="oglueck" created="Mon, 4 Apr 2005 18:32:00 +0100"  >Excellent.</comment>
                    <comment id="12382181" author="becke@u.washington.edu" created="Wed, 6 Apr 2005 13:10:48 +0100"  >Looks good.&lt;br/&gt;
&lt;br/&gt;
Mike</comment>
                    <comment id="12382182" author="olegk" created="Thu, 7 Apr 2005 07:51:18 +0100"  >Patch committed&lt;br/&gt;
&lt;br/&gt;
Oleg</comment>
                </comments>
                    <attachments>
                    <attachment id="12327204" name="ASF.LICENSE.NOT.GRANTED--uri.patch" size="3084" author="olegk" created="Mon, 4 Apr 2005 18:27:18 +0100" />
                    <attachment id="12327203" name="ASF.LICENSE.NOT.GRANTED--uri.patch" size="2129" author="olegk" created="Sat, 26 Feb 2005 22:14:29 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>33720</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 26 Feb 2005 22:14:29 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>133484</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>47253</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>