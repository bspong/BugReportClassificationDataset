<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:32:21 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-66/JCR-66.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-66] refactoring of DavSession acquisition in jcr-server</title>
                <link>https://issues.apache.org/jira/browse/JCR-66</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>i&amp;#39;m subclassing WebdavServer, and i want to use my own logic for finding credentials in the request, logging into the repository and instantiating a DavSession.&lt;br/&gt;
&lt;br/&gt;
unfortunately, WebdavServlet.getSession and its friend the inner class DavSessionImpl are declared private. i changed WebdavServlet.getSession to be protected so that i could override it, but even so, i have no access to DavSessionImpl, so for now, i&amp;#39;ve copied and pasted it as an inner class in my subclass. yuck.&lt;br/&gt;
&lt;br/&gt;
here&amp;#39;s a proposal for making this more extensible:&lt;br/&gt;
&lt;br/&gt;
1) create the interface DavSessionProvider in org.apache.jackrabbit.server with these methods:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void acquireSession(WebdavRequest request) throws DavException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void releaseSession(WebdavRequest request);&lt;br/&gt;
&lt;br/&gt;
2) make JCRWebdavServer implement DavSessionProvider (it already includes the above methods)&lt;br/&gt;
&lt;br/&gt;
3) move WebdavServlet$DavSessionImpl to DavSessionImpl in org.apache.jackrabbit.server.simple&lt;br/&gt;
&lt;br/&gt;
4) create a DavSessionProviderImpl in org.apache.jackrabbit.server.simple implementing DavSessionProvider which returns instances of DavSessionImpl&lt;br/&gt;
&lt;br/&gt;
5) change WebdavServlet to use a DavSessionProvider rather than its own getSession method, and use a DavSessionProviderImpl by default. subclasses can override with setDavSessionProvider().&lt;br/&gt;
</description>
                <environment>all</environment>
            <key id="30928">JCR-66</key>
            <summary>refactoring of DavSession acquisition in jcr-server</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="bcm">Brian Moseley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2005 09:28:29 +0000</created>
                <updated>Wed, 16 Mar 2005 22:37:56 +0000</updated>
                    <resolved>Wed, 16 Mar 2005 22:37:56 +0000</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="60924" author="bcm" created="Wed, 16 Mar 2005 09:30:30 +0000"  >added classes</comment>
                    <comment id="60925" author="bcm" created="Wed, 16 Mar 2005 09:31:19 +0000"  >patch to existing classes</comment>
                    <comment id="60926" author="bcm" created="Wed, 16 Mar 2005 09:34:18 +0000"  >patch to existing classes not including my other local changes ;)</comment>
                    <comment id="60961" author="anchela" created="Wed, 16 Mar 2005 20:59:38 +0000"  >i included the changes with minor modifications:&lt;br/&gt;
&lt;br/&gt;
- DavSessionProvider interface to webdav package&lt;br/&gt;
- accordingly: DavSessionImpl, DavSessionProviderImpl to the simple/dav package&lt;br/&gt;
- using getDavSessionProvider() in service method in order to avoid npe.&lt;br/&gt;
- javadoc etc.&lt;br/&gt;
&lt;br/&gt;
hope, i didn&amp;#39;t miss anything.&lt;br/&gt;
i will ask tobi, to commit the changes.&lt;br/&gt;
&lt;br/&gt;
regards&lt;br/&gt;
angela&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="60975" author="tripod" created="Wed, 16 Mar 2005 22:37:56 +0000"  >added changes provided by angela.&lt;br/&gt;
&lt;br/&gt;
Completed: At revision: 157746  &lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="19284" name="DavSessionImpl.java" size="2286" author="bcm" created="Wed, 16 Mar 2005 09:30:30 +0000" />
                    <attachment id="19283" name="DavSessionProviderImpl.java" size="2670" author="bcm" created="Wed, 16 Mar 2005 09:30:30 +0000" />
                    <attachment id="19282" name="DavSessionProvider.java" size="1728" author="bcm" created="Wed, 16 Mar 2005 09:30:30 +0000" />
                    <attachment id="19286" name="davsessionprovider.patch" size="6480" author="bcm" created="Wed, 16 Mar 2005 09:34:18 +0000" />
                    <attachment id="19285" name="davsessionprovider.patch" size="8201" author="bcm" created="Wed, 16 Mar 2005 09:31:19 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 16 Mar 2005 20:59:38 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>141887</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279300</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>