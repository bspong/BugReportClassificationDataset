<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:39:21 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2224/JCR-2224.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2224] Change access levels in SearchIndex and NodeIndexer for better inherance</title>
                <link>https://issues.apache.org/jira/browse/JCR-2224</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>I want to change NodeIndexer#addBinaryValue logic in JR 1.5.6, therefore i needed to:&lt;br/&gt;
* create a custom class extending NodeIndexer for changing binary field indexation&lt;br/&gt;
* create a custom class extending SearchIndex for using this custom NodeIndexer&lt;br/&gt;
&lt;br/&gt;
I was obliged to:&lt;br/&gt;
* override SearchIndex#createTextExtractor in order to store created TextExtractor because of private attribute&lt;br/&gt;
* put both classes into package org.apache.jackrabbit.core.query.lucene because NodeIndexer#createDoc(...) is protected&lt;br/&gt;
&lt;br/&gt;
In trunk TextExtractor has now a getter but there are still some private attributes.&lt;br/&gt;
And NodeIndexer#createDoc(...) is still protected and there are some private methods.</description>
                <environment></environment>
            <key id="12431229">JCR-2224</key>
            <summary>Change access levels in SearchIndex and NodeIndexer for better inherance</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="yabon">S&#233;bastien Launay</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jul 2009 10:24:02 +0100</created>
                <updated>Thu, 13 Aug 2009 16:01:33 +0100</updated>
                    <resolved>Fri, 31 Jul 2009 14:14:34 +0100</resolved>
                            <version>1.5.6</version>
                <version>2.0-alpha4</version>
                                <fixVersion>2.0-alpha7</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12734529" author="yabon" created="Thu, 23 Jul 2009 10:26:20 +0100"  >Patch for changing access levels.</comment>
                    <comment id="12734530" author="yabon" created="Thu, 23 Jul 2009 10:27:00 +0100"  >Patch has been created against trunk.</comment>
                    <comment id="12734566" author="mreutegg" created="Thu, 23 Jul 2009 12:48:50 +0100"  >Why is it needed to change the visibility of NodeIndexer.createDoc() to public? A subclass is able to see that method even if it is in another package and IIUC that&amp;#39;s what you are doing. </comment>
                    <comment id="12734577" author="yabon" created="Thu, 23 Jul 2009 13:31:00 +0100"  >This is ok for a subclass but my CustomSearchIndex is unable to invoke CustomNodeIndexer#createDoc(...).&lt;br/&gt;
Another solution is to change the access level to public while overriding this method:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Override&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public Document createDoc() throws RepositoryException&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return super.createDoc();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
otherwise i have the error &amp;quot;The method createDoc() from the type NodeIndexer is not visible&amp;quot; for this kind of code:&lt;br/&gt;
public class CustomSearchIndex extends SearchIndex&lt;br/&gt;
{&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected Document createDocument(NodeState node, NamespaceMappings nsMappings, IndexFormatVersion indexFormatVersion) throws RepositoryException&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CustomNodeIndexer indexer = ...&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Document doc = indexer.createDoc();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&lt;br/&gt;
}</comment>
                    <comment id="12737520" author="mreutegg" created="Fri, 31 Jul 2009 14:14:34 +0100"  >Applied patch in revision: 799599&lt;br/&gt;
&lt;br/&gt;
Thank you for your work.</comment>
                </comments>
                    <attachments>
                    <attachment id="12414325" name="JCR-2224-2009-07-23.patch" size="3688" author="yabon" created="Thu, 23 Jul 2009 10:26:20 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 23 Jul 2009 11:48:50 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>143069</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>280085</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>