<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:47:00 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2488/JCR-2488.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2488] Add the ability to disable inheriting ancestor ACLs</title>
                <link>https://issues.apache.org/jira/browse/JCR-2488</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The current ACL implementation will walk the tree from the item being accessed, up to the root, collecting ACL entries for all the ancestors. With this system, there is no easy way to restrict access to subnodes except by adding DENY entries to negate the entries inherited from the parent nodes.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;d like to request a way to turn this behavior off either at a node level or global level.&lt;br/&gt;
&lt;br/&gt;
The place where recursion is happening is in org.apache.jackrabbit.core.security.authorization.acl.ACLProvider$Entries.collectEntries(NodeImpl node). Inside this method, it could perhaps check a global parameter or the existence of property of the ACL policy node to determine whether to recurse up the tree.</description>
                <environment></environment>
            <key id="12455668">JCR-2488</key>
            <summary>Add the ability to disable inheriting ancestor ACLs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="wbustraan">Weston Bustraan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Feb 2010 18:51:03 +0000</created>
                <updated>Tue, 8 Nov 2011 15:52:08 +0000</updated>
                    <resolved>Tue, 10 Aug 2010 11:22:17 +0100</resolved>
                            <version>2.0</version>
                                <fixVersion>2.2</fixVersion>
                                <component>security</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12831338" author="anchela" created="Tue, 9 Feb 2010 07:46:58 +0000"  >not sure if i like this idea. it&amp;#39;s the behavior of this ACLProvider that the entries inherited from the parent nodes&lt;br/&gt;
are respected.&lt;br/&gt;
however, i&amp;#39;m currently working on the performance of ac evaluation and i planned to moved the collection of effective ACEs to a top level class. i could easily add means so you can provide your own collector that doesn&amp;#39;t walk up the hierarchy.</comment>
                    <comment id="12831471" author="wbustraan" created="Tue, 9 Feb 2010 14:31:53 +0000"  >Here&amp;#39;s my use case for this behavior:&lt;br/&gt;
&lt;br/&gt;
I have a structure that looks something like this:&lt;br/&gt;
&lt;br/&gt;
/SomeFolder/AnotherFolder/DocTemplate/PrivateItem&lt;br/&gt;
&lt;br/&gt;
Users need to have jcr:read access to navigate down to the DocTemplate node. Using the template, they then create instance nodes underneath it. However, these nodes (PrivateItem) can potentially contain confidential information, such as sensitive medical information governed by HIPAA laws, so the nodes need to be able to be locked down to only the person who created it and any people they&amp;#39;ve granted permission to.&lt;br/&gt;
&lt;br/&gt;
In the current ACL system, PrivateItem will inherit the jcr:read permissions of all the nodes above it, making it virtually impossible to secure the item. Potentially, I *could* add individual DENY ACEs to the PrivateItem that negate all the permissions inherited from the ancestors, but if someone added a new ACE to an ancestor after the fact, then suddenly an unauthorized person could have access. (Other suggestions of how to solve this issue using the current system are welcome.)&lt;br/&gt;
&lt;br/&gt;
My suggestion would be to add a flag like &amp;quot;rep:noInherit&amp;quot; (or something) to rep:ACL that would prevent inheritance only when the property is present. This would allow the default behavior and only prevent inheritance when explicitly set. Doing it like this would not require existing installations to change or do anything different.&lt;br/&gt;
&lt;br/&gt;
There is a concept almost identical to this in the Windows NTFS filesystem. I&amp;#39;ll attach a screenshot of the flag I&amp;#39;m referring to.&lt;br/&gt;
&lt;br/&gt;
However, if you decide that this isn&amp;#39;t something that would be beneficial to the Jackrabbit user base as a whole, I&amp;#39;m OK with the ability to subclass the ACE collector and alter the behavior. As it stands now, that&amp;#39;s how I&amp;#39;m accomplishing this; but it&amp;#39;s an ugly hack requiring me to locate my subclass in the {{org.apache.jackrabbit.core.security.authorization.acl}} package in order to make use of the {{ACLTemplate}} class.&lt;br/&gt;
&lt;br/&gt;
Do you know how soon custom collectors functionality might be available?&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12842969" author="anchela" created="Tue, 9 Mar 2010 08:52:23 +0000"  >&amp;gt; Do you know how soon custom collectors functionality might be available? &lt;br/&gt;
&lt;br/&gt;
i&amp;#39;ll try to get it into jackrabbit 2.2.&lt;br/&gt;
&lt;br/&gt;
regarding your proposal: i&amp;#39;m currently evaluating whether we could add restrictions to the resource-based acl similar to the&lt;br/&gt;
restrictions present in the principal-based in order to limit the scope of items in the subtree that are affected. if this turns out to &lt;br/&gt;
be feasible, we may also allow to limit the scope of the acl to the resource it is applied to, which i guess would match your requirement. i have no concrete ideas yet, but just wanted to let you know.</comment>
                    <comment id="12896835" author="anchela" created="Tue, 10 Aug 2010 11:22:17 +0100"  >this should now be possible using the restriction added by &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2700&quot; title=&quot;Allow for wildcard restriction in resource-based ACEs&quot;&gt;&lt;strike&gt;JCR-2700&lt;/strike&gt;&lt;/a&gt;. </comment>
                </comments>
                    <attachments>
                    <attachment id="12435298" name="windows-xp-permission-inheritance.jpg" size="62442" author="wbustraan" created="Tue, 9 Feb 2010 14:33:25 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 9 Feb 2010 07:46:58 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>97875</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>280251</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>