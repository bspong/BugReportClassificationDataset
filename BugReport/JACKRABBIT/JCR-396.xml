<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:33:37 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-396/JCR-396.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-396] RMI published Repository using the jcr-rmi library gets lost over time</title>
                <link>https://issues.apache.org/jira/browse/JCR-396</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The jcr-server/webapp project contains a servlet - RepositoryStartupServlet - which may be used in a web app to start a repository and optionally register the repository with JNDI and RMI. To register the repository with JNDI, the jcr-rmi library is used to create a Remote repository instance, which is registered with the RMI registry. Inside the RMI implementation mechanisms based on stub classes created by the RMI compiler are created to make the remote repository available remotely. This includes creating a object table to map remote references to local objects. This table stores references to the local object as weak references to support distributed garbage collection.&lt;br/&gt;
&lt;br/&gt;
Over time, it may now be that this remote repository instance is actually collected and the object table cannot access it anymore thus preventing the repository from being accessed remotely. To prevent this from happening, the RepositoryStartupServlet must keep a strong reference to the remote repository and drop this reference when the servlet is destroyed and the repository unregistered.&lt;br/&gt;
&lt;br/&gt;
*NOTE:* This is an issue to all long running applications which publish repository instances over RMI using the jcr-rmi library.</description>
                <environment>Jackrabbit Rev. 393410 WebApp</environment>
            <key id="12331989">JCR-396</key>
            <summary>RMI published Repository using the jcr-rmi library gets lost over time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="fmeschbe">Felix Meschberger</assignee>
                                <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Apr 2006 22:09:38 +0100</created>
                <updated>Fri, 26 May 2006 10:38:14 +0100</updated>
                    <resolved>Wed, 12 Apr 2006 22:30:55 +0100</resolved>
                            <version>1.0</version>
                                <fixVersion>1.0.1</fixVersion>
                                <component>jackrabbit-jcr-rmi</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12374180" author="fmeschbe" created="Wed, 12 Apr 2006 22:25:36 +0100"  >There are basically two ways to keep the strong reference: (1) keep it transparently by forcing the RMI internals to also keep a strong reference by &amp;quot;pinning&amp;quot; the internally used WeakRef or (2) make it explicit in the RepositoryStartupServlet. The first solution has the advantage to apply for all users but has the big disadvantage that the remote repository may only go away by explicitly unexporting it. The second solution on the other hand places additional burdons on the user of the remote repository.&lt;br/&gt;
&lt;br/&gt;
Therefore the attached patch &amp;quot;fixes&amp;quot; the RepositoryStartupServlet by keeping a strong reference to the remote repository and releases that reference when unregistering the repository from RMI.</comment>
                    <comment id="12374183" author="fmeschbe" created="Wed, 12 Apr 2006 22:30:54 +0100"  >Fixed applying the patch in Rev. 393456</comment>
                    <comment id="12413341" author="jukkaz" created="Fri, 26 May 2006 10:38:14 +0100"  >Merged for 1.0.1 in revision 409543.</comment>
                </comments>
                    <attachments>
                    <attachment id="12325236" name="RepositoryStartupServlet_patch_fm_20060412.diff" size="1970" author="fmeschbe" created="Wed, 12 Apr 2006 22:25:34 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 26 May 2006 09:38:14 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80445</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191204</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>