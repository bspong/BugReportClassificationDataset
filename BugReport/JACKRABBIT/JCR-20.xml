<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:46:57 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-20/JCR-20.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-20] Logging into a repository with a big version history takes a long time</title>
                <link>https://issues.apache.org/jira/browse/JCR-20</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Wenn a SessionImpl instance is created, the VersionManager.getVirtualItemStateProvider method is called. This method - amongst other things - loads the complete (!) version history into memory and walks through it to do some mapping.&lt;br/&gt;
&lt;br/&gt;
Besides taking a long time (near 1 minute just to get the version history through PersistentVersionManager.getVersionHistories()) mapping the version histories ultimately results in an &amp;quot;OutOfMemoryError&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
Currently there are 768 version histories and this is only a very small fraction of the expected final number of version histories in my application</description>
                <environment>Jackrabbit SVN 76106</environment>
            <key id="28453">JCR-20</key>
            <summary>Logging into a repository with a big version history takes a long time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tripod">Tobias Bocanegra</assignee>
                                <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2004 14:56:12 +0000</created>
                <updated>Fri, 11 Nov 2005 01:40:52 +0000</updated>
                    <resolved>Fri, 10 Dec 2004 16:27:33 +0000</resolved>
                                                                    <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="55618" author="fmeschbe" created="Thu, 18 Nov 2004 16:27:53 +0000"  >Raising the Java VM max heap helps in this case. But given that jackrabbit uses around 60MB (or more) when logging in, this kind of worries me...</comment>
                    <comment id="55637" author="tripod" created="Thu, 18 Nov 2004 20:28:13 +0000"  >this is in fact not a desirable behaviour. will rearrange caching.</comment>
                    <comment id="55664" author="tripod" created="Fri, 19 Nov 2004 09:24:48 +0000"  >currently, the virtual item state provider of the version store acts like a persistent state provider and does not create items for every session. &lt;br/&gt;
&lt;br/&gt;
it is true, that all versions are loaded (twice) in memory. once in the internal representation, and once in the virtual state. both can be done more dynamically.</comment>
                    <comment id="56520" author="tripod" created="Fri, 10 Dec 2004 16:27:33 +0000"  >fixed by revision 11518&lt;br/&gt;
&lt;br/&gt;
fixed issues 22 and 23. login should be faster now.</comment>
                    <comment id="12357239" author="stefan@jira" created="Fri, 11 Nov 2005 01:40:52 +0000"  >closing resolved issue</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 18 Nov 2004 20:28:13 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>141844</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189873</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>