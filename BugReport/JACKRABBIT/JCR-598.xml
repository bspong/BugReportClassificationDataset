<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-598/JCR-598.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-598] DateValue.equals() relies on Calendar.equals()</title>
                <link>https://issues.apache.org/jira/browse/JCR-598</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>JSR170 states regarding Date values:&lt;br/&gt;
&amp;quot;The text format of dates must follow the following ISO 8601:2000-compliant format&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
While DateValue.valueOf(String) and DateValue.getString() both rely on the functionality provided by the org.apache.jackrabbit.util.ISO8601, DateValue.equals() compares the equality of the internal Calendar object (DateValue line 89). This may return false even if the Iso-format of both values are equal.&lt;br/&gt;
&lt;br/&gt;
In other words: Creating a new DateValue using the ValueFactory from the String representation of an existing DateValue will return an object, that is not equal to the original DateValue. The reason for this is, that the String does not contain all infomation, that is used during Calendar.equals.&lt;br/&gt;
&lt;br/&gt;
regards&lt;br/&gt;
angela&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12353760">JCR-598</key>
            <summary>DateValue.equals() relies on Calendar.equals()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Oct 2006 18:41:39 +0100</created>
                <updated>Tue, 12 Dec 2006 13:03:46 +0000</updated>
                    <resolved>Wed, 25 Oct 2006 16:01:17 +0100</resolved>
                            <version>0.9</version>
                <version>1.0</version>
                <version>1.0.1</version>
                <version>1.1</version>
                                <fixVersion>1.1.1</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12444225" author="anchela" created="Tue, 24 Oct 2006 07:51:22 +0100"  >i just happen to find the section in the JSR170 specification dealing with equality conditions of Value objects:&lt;br/&gt;
&lt;br/&gt;
6.2.7.2 Equality Conditions&lt;br/&gt;
Two Value instances, v1 and v2, are considered equal if and only if&lt;br/&gt;
v1.getType() == v2.getType() and&lt;br/&gt;
v1.getString().equals(v2.getString()).&lt;br/&gt;
[...]&lt;br/&gt;
&lt;br/&gt;
in [...] the specification states, that &amp;#39;getString()&amp;#39;  is intended to be a normative definition only. Still i&amp;#39;d argue, that evaluating equality of the Calendar objects, which also takes that lenient flag and local specific settings such as first day of the week, is not correct.&lt;br/&gt;
</comment>
                    <comment id="12444238" author="jukkaz" created="Tue, 24 Oct 2006 08:46:29 +0100"  >You&amp;#39;re right, the comparison is incorrect.&lt;br/&gt;
&lt;br/&gt;
The attached patch should fix the issue. We might also want to add a test case for this.</comment>
                    <comment id="12444675" author="stefan@jira" created="Wed, 25 Oct 2006 16:01:17 +0100"  >applied the provided patch (thanks!:) &lt;br/&gt;
&lt;br/&gt;
fixed in svn rev. 467674&lt;br/&gt;
&lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="12343514" name="DateValue.patch" size="1460" author="jukkaz" created="Tue, 24 Oct 2006 08:46:29 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 24 Oct 2006 07:46:29 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80351</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191460</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>