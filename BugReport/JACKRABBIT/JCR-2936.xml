<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:42:24 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2936/JCR-2936.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2936] JMX Bindings for Jackrabbit</title>
                <link>https://issues.apache.org/jira/browse/JCR-2936</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>There has been a slight interest in the past for adding JMX support.&lt;br/&gt;
This would be the first stab at it. It is a Top 15 slow query log. (the 15 part is configurable)&lt;br/&gt;
&lt;br/&gt;
It is not enabled by default, so just being there should not affect the overall performance too much. You can enable it and play a little, tell me what you think.&lt;br/&gt;
I&amp;#39;ve also added a test case that does a duration comparison with and without the logger.&lt;br/&gt;
&lt;br/&gt;
The most important part of this issue is that it should open the way for some proper monitoring tools support around queries, caches, anything/everything Jackrabbit.&lt;br/&gt;
&lt;br/&gt;
As usual, please let me know what you guys think</description>
                <environment></environment>
            <key id="12503117">JCR-2936</key>
            <summary>JMX Bindings for Jackrabbit</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="alex.parvulescu">Alex Parvulescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Apr 2011 12:06:34 +0100</created>
                <updated>Tue, 6 Dec 2011 14:47:14 +0000</updated>
                    <resolved>Tue, 22 Nov 2011 22:36:50 +0000</resolved>
                                            <fixVersion>2.3.4</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>4</watches>
                                                                                  <comments>
                    <comment id="13014516" author="alex.parvulescu" created="Fri, 1 Apr 2011 12:11:54 +0100"  >Attached initial jmx support patch.</comment>
                    <comment id="13015934" author="jukkaz" created="Tue, 5 Apr 2011 15:40:38 +0100"  >I committed the patch in revision 1089061. Good work!&lt;br/&gt;
&lt;br/&gt;
As you mention, the solution still need some work, so I&amp;#39;m leaving this issue open.&lt;br/&gt;
&lt;br/&gt;
The most notable design issue I have with the current solution is that the JMX code now spills over to other parts of the codebase. A cleaner approach would be to statistics collectors right there with the query manager and other similar places with no JMX dependencies, and have the JMX code simply access that information through the RepositoryContext. Such an approach makes the collected statistics and other runtime information easier to use also for non-JMX purposes.</comment>
                    <comment id="13019792" author="alex.parvulescu" created="Thu, 14 Apr 2011 12:57:28 +0100"  >apparently when running multiple tests on the repository, the jmx bean registration fails in the initialization part.&lt;br/&gt;
&lt;br/&gt;
it may have something to do with the way the test repo is setup, but either way, it fails constantly&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m attaching a patch that fixes this problem.&lt;br/&gt;
&lt;br/&gt;
For the design improvements, I&amp;#39;m still planning it out :)</comment>
                    <comment id="13079391" author="stefan@jira" created="Thu, 4 Aug 2011 15:27:33 +0100"  >&amp;gt; It is not enabled by default, so just being there should not affect the overall performance too much.&lt;br/&gt;
&lt;br/&gt;
what do you mean by &amp;quot;not too much&amp;quot;? can you provide performance figures?</comment>
                    <comment id="13088585" author="jukkaz" created="Mon, 22 Aug 2011 10:35:37 +0100"  >In revision 1160161 I created a branch (jackrabbit/branches/&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2936&quot; title=&quot;JMX Bindings for Jackrabbit&quot;&gt;&lt;strike&gt;JCR-2936&lt;/strike&gt;&lt;/a&gt;) for this and the related &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3040&quot; title=&quot;JMX Stats for the Session&quot;&gt;&lt;strike&gt;JCR-3040&lt;/strike&gt;&lt;/a&gt; work.</comment>
                    <comment id="13128941" author="alex.parvulescu" created="Mon, 17 Oct 2011 16:24:09 +0100"  >I&amp;#39;ve created &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3117&quot; title=&quot;Stats for the PersistenceManager&quot;&gt;&lt;strike&gt;JCR-3117&lt;/strike&gt;&lt;/a&gt; to track the work on PM stats. The patch is for trunk.&lt;br/&gt;
&lt;br/&gt;
FYI work on the dedicated branch (jackrabbit/branches/&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2936&quot; title=&quot;JMX Bindings for Jackrabbit&quot;&gt;&lt;strike&gt;JCR-2936&lt;/strike&gt;&lt;/a&gt;) has been merged back to trunk due to having to sync all the time, which was rather time consuming.</comment>
                    <comment id="13155513" author="alex.parvulescu" created="Tue, 22 Nov 2011 22:36:50 +0000"  >Marking as resolved. Further dev should follow on its own issue. This one is kinda fat already.</comment>
                </comments>
                    <attachments>
                    <attachment id="12476323" name="JCR-2936-part2.patch" size="1053" author="alex.parvulescu" created="Thu, 14 Apr 2011 12:57:28 +0100" />
                    <attachment id="12475214" name="JCR-2936.patch" size="33123" author="alex.parvulescu" created="Fri, 1 Apr 2011 12:11:54 +0100" />
                </attachments>
            <subtasks>
            <subtask id="12517921">JCR-3040</subtask>
            <subtask id="12527460">JCR-3117</subtask>
            <subtask id="12527892">JCR-3124</subtask>
            <subtask id="12529470">JCR-3133</subtask>
            <subtask id="12532399">JCR-3154</subtask>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 5 Apr 2011 14:40:38 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>36281</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>247827</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>