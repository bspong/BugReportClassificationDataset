<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:43:34 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1011/JCR-1011.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1011] JCR2SPI: add configurable cache for Item instances (ItemManager)</title>
                <link>https://issues.apache.org/jira/browse/JCR-1011</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Currently the ItemManager implementation uses a simple map with weak keys (ItemState) and weak values (Item) as cache.&lt;br/&gt;
Marcel recently suggested to replace this with a more sophisticated cache mechanism that can be configured.</description>
                <environment></environment>
            <key id="12373085">JCR-1011</key>
            <summary>JCR2SPI: add configurable cache for Item instances (ItemManager)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jul 2007 17:45:33 +0100</created>
                <updated>Mon, 8 Dec 2008 11:07:59 +0000</updated>
                    <resolved>Thu, 7 Feb 2008 14:01:43 +0000</resolved>
                                            <fixVersion>1.5</fixVersion>
                                <component>jackrabbit-jcr2spi</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12548199" author="anchela" created="Tue, 4 Dec 2007 10:03:13 +0000"  >initial draft for an ItemCache interface and an example implementation that uses an LRUMap.&lt;br/&gt;
In addition the patch moves the ItemLifeCycleListening from the ItemManager to the ItemCache and enables the ItemManager to listen to creation of ItemStates. The latter would be required to take advantage of the Batch-Read mechanism, that not only creates ItemStates for the &amp;#39;requested&amp;#39; Item. Up to now those states were created and attached to their hierarchy-entry (both only being addressed by weak references).&lt;br/&gt;
&lt;br/&gt;
Apart from the tests present with the build, i didn&amp;#39;t yet perform any sophisticated tests, that measure the effect of the ItemCache.&lt;br/&gt;
&lt;br/&gt;
comments?</comment>
                    <comment id="12548200" author="anchela" created="Tue, 4 Dec 2007 10:03:45 +0000"  >scheduled for 1.4</comment>
                    <comment id="12553799" author="jukkaz" created="Thu, 20 Dec 2007 22:23:57 +0000"  >Dropping from 1.4, looks nice but probably not essential for this release.</comment>
                    <comment id="12553977" author="mreutegg" created="Fri, 21 Dec 2007 17:30:48 +0000"  >I consider this a very important improvement to jcr2spi. Without this patch the cache is basically useless because it only uses weak references to Item instances.&lt;br/&gt;
&lt;br/&gt;
I suggest we include this in the 1.4 release.</comment>
                    <comment id="12554017" author="jukkaz" created="Fri, 21 Dec 2007 19:59:33 +0000"  >I&amp;#39;ll include this if it&amp;#39;s in svn trunk before the end of next week. :-)&lt;br/&gt;
&lt;br/&gt;
I think the main focus for SPI in the 1.4 release is to introduce the jackrabbit-spi interfaces and to showcase the jcr2spi/spi2jcr stack. Optimum performance is IMHO a secondary concern for now, we can always improve on that in subsequent releases.</comment>
                    <comment id="12556847" author="mreutegg" created="Tue, 8 Jan 2008 09:12:03 +0000"  >too bad, my previous comment to this issue was the last thing I did before I went on a two week vacation :-/&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&lt;br/&gt;
But you are right, this can also be added in the next release.</comment>
                    <comment id="12566588" author="reschke" created="Thu, 7 Feb 2008 13:36:35 +0000"  >I have tested the patch with my SPI implementation and see no regressions. As it doesn&amp;#39;t currently make any use of BatchRead, I&amp;#39;m not seeing performance changes either.&lt;br/&gt;
&lt;br/&gt;
+1 for including it so more tests can be done.&lt;br/&gt;
</comment>
                    <comment id="12566602" author="anchela" created="Thu, 7 Feb 2008 14:01:43 +0000"  >ok. committed (hopefully same as patch...)</comment>
                </comments>
                    <attachments>
                    <attachment id="12370931" name="JCR-1011.patch" size="19444" author="anchela" created="Tue, 4 Dec 2007 10:03:12 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 20 Dec 2007 22:23:57 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142483</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190072</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>