<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:36:07 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1718/JCR-1718.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1718] repository-1.5.dtd: change order of main elements</title>
                <link>https://issues.apache.org/jira/browse/JCR-1718</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Currently the order of elements in repository.xml is:&lt;br/&gt;
&amp;lt;!ELEMENT Repository (FileSystem,Security,Workspaces,Workspace,Versioning,SearchIndex?,Cluster?,DataStore?)&amp;gt;&lt;br/&gt;
&lt;br/&gt;
I would like to change it to&lt;br/&gt;
&amp;lt;!ELEMENT Repository (Cluster?,FileSystem,DataStore?,Security,Workspaces,Workspace,Versioning,SearchIndex?)&amp;gt;&lt;br/&gt;
because I think that makes more sense.&lt;br/&gt;
&lt;br/&gt;
Currently XML validation is disabled, and therefore the order of elements in the DTD does not need to match the repository.xml file. However as soon as XML validation is enabled, repository.xml files that use the wrong order will no longer work (the repository can not be started).&lt;br/&gt;
&lt;br/&gt;
There is a request to enable XML validation at &lt;a href=&quot;http://issues.apache.org/jira/browse/JCR-1462&quot;&gt;http://issues.apache.org/jira/browse/JCR-1462&lt;/a&gt;&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12402339">JCR-1718</key>
            <summary>repository-1.5.dtd: change order of main elements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tmueller">Thomas Mueller</assignee>
                                <reporter username="tmueller">Thomas Mueller</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Aug 2008 21:25:55 +0100</created>
                <updated>Mon, 8 Dec 2008 11:09:41 +0000</updated>
                    <resolved>Mon, 22 Sep 2008 09:45:26 +0100</resolved>
                                            <fixVersion>1.5</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                    <timeestimate seconds="0">0h</timeestimate>
                                  <comments>
                    <comment id="12622453" author="jukkaz" created="Thu, 14 Aug 2008 07:53:50 +0100"  >I&amp;#39;d rather not break things for people who may be validating the repository.xml. At least a change like this requires an update to the DTD version.&lt;br/&gt;
&lt;br/&gt;
Also, for better backwards compatibility I&amp;#39;d make it (with an informal rule that you can have only a single Cluster configuration element):&lt;br/&gt;
&lt;br/&gt;
&amp;lt;!ELEMENT Repository (Cluster?,FileSystem,DataStore?,Security,Workspaces,Workspace,Versioning,Cluster?,SearchIndex?)&amp;gt; &lt;br/&gt;
&lt;br/&gt;
Or even (allowing more flexibility at the cost of some extra code and potential confusion):&lt;br/&gt;
&lt;br/&gt;
&amp;lt;!ELEMENT Repository (Cluster|FileSystem|DataStore|Security|Workspaces|Workspace|Versioning|SearchIndex)*&amp;gt; </comment>
                    <comment id="12622485" author="alexander.klimetschek" created="Thu, 14 Aug 2008 10:09:18 +0100"  >+1 for allowing an arbitrary order of elements - there is just no semantics for the order. Unfortunately you can no longer specify required and optional elements with the DTD mechanism. But switching to xsd or another schema is probably overkill here. We can still spit out warnings/errors in Jackrabbits configuration parser if required elements are missing - or is that already the case?</comment>
                    <comment id="12623466" author="tmueller" created="Mon, 18 Aug 2008 22:25:06 +0100"  >&amp;gt; &amp;lt;!ELEMENT Repository (Cluster|FileSystem|DataStore|Security|Workspaces|Workspace|Versioning|SearchIndex)*&amp;gt; &lt;br/&gt;
&lt;br/&gt;
This would allow same name siblings, for example multiple Cluster elements in the same repository.xml. &lt;br/&gt;
&lt;br/&gt;
&amp;gt; I&amp;#39;d rather not break things for people who may be validating the repository.xml. &lt;br/&gt;
&lt;br/&gt;
While I don&amp;#39;t have any numbers, I don&amp;#39;t think many people do validate the repository.xml. Remember also we already broke all existing (old) repository.xml configurations by adding &amp;quot;SecurityManager&amp;quot; in &amp;quot;Security&amp;quot;. I agree, the order of elements does not seem to be important, but I would rather have a strict order than not detecting typos (as we do now).&lt;br/&gt;
&lt;br/&gt;
&amp;gt; We can still spit out warnings/errors in Jackrabbits configuration parser if required elements are missing - or is that already the case?&lt;br/&gt;
&lt;br/&gt;
Yes, that already works: I have removed the top FileSystem element, and got the exception&lt;br/&gt;
javax.jcr.RepositoryException: Invalid repository configuration: &lt;br/&gt;
repository.xml: Configuration element FileSystem not found in Repository.: &lt;br/&gt;
Configuration element FileSystem not found in Repository.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; At least a change like this requires an update to the DTD version. &lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t think we did that in the past. Jackrabbit 1.4 uses repository-1.4.dtd. repository-1.5.dtd is only used in the Jackrabbt trunk. I don&amp;#39;t think changes in the unreleased Jackrabbit 1.5 requires an update in the DTD version. Using repository-1.6.dtd for Jackrabbit 1.5 would be confusing.&lt;br/&gt;
&lt;br/&gt;
So, I still like to change it to:&lt;br/&gt;
&amp;lt;!ELEMENT Repository (Cluster?,FileSystem,DataStore?,Security,Workspaces,Workspace,Versioning,SearchIndex?)&amp;gt; &lt;br/&gt;
&lt;br/&gt;
What do you think?&lt;br/&gt;
</comment>
                    <comment id="12627760" author="jukkaz" created="Tue, 2 Sep 2008 18:32:07 +0100"  >Yep, it&amp;#39;s fine if the modified DTD is named jackrabbit-1.5.dtd.&lt;br/&gt;
&lt;br/&gt;
But I don&amp;#39;t want to introduce (before going to 2.x) a change that breaks existing configuration files, even if the breakage affects just validation and won&amp;#39;t break a functional repository. Keeping the extra Cluster? around there (or allowing arbitrary order of elements) is a minor inconvenience.&lt;br/&gt;
&lt;br/&gt;
More notably, your argument is essentially that it would be better to reorder the Cluster element. What&amp;#39;s to say that someone else doesn&amp;#39;t like some other element (say the search configuration) being more prominent? If we oblige your wish in this case (and I don&amp;#39;t see why we shouldn&amp;#39;t), then IMHO the logical solution would be to allow arbitrary ordering of elements in general instead of fixing just this one special case.&lt;br/&gt;
</comment>
                    <comment id="12629466" author="tmueller" created="Tue, 9 Sep 2008 13:09:29 +0100"  >I understand the concern. In this case the best solution is probably:&lt;br/&gt;
&amp;lt;!ELEMENT Repository (Cluster|FileSystem|DataStore|Security|Workspaces|Workspace|Versioning|SearchIndex)*&amp;gt; </comment>
                    <comment id="12633176" author="tmueller" created="Mon, 22 Sep 2008 09:45:26 +0100"  >Committed in revision 697708 </comment>
                    <comment id="12651554" author="jukkaz" created="Fri, 28 Nov 2008 12:57:29 +0000"  >The latest version of the 1.5 DTD is now (revision 721465) also on the web site.</comment>
                </comments>
                    <attachments>
                    <attachment id="12389743" name="dtdPatch.txt" size="1943" author="tmueller" created="Tue, 9 Sep 2008 13:10:03 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 14 Aug 2008 06:53:50 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142818</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279885</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>