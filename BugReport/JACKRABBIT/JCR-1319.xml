<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:44:20 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1319/JCR-1319.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1319] NullPointerException when accessing the SimpleWebdavServlet at the prefix path</title>
                <link>https://issues.apache.org/jira/browse/JCR-1319</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>When accessing the SimpleWebdavServlet with the &amp;quot;root&amp;quot; path, that is the same path as set with the resource-path-prefix, a NullPointerException is thrown:&lt;br/&gt;
&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.jackrabbit.name.ParsingPathResolver.getQPath(ParsingPathResolver.java:91)&lt;br/&gt;
	at org.apache.jackrabbit.name.CachingPathResolver.getQPath(CachingPathResolver.java:74)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.getQPath(SessionImpl.java:601)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.getItem(SessionImpl.java:804)&lt;br/&gt;
	at org.apache.sling.jcr.api.internal.PooledSession.getItem(PooledSession.java:157)&lt;br/&gt;
	at org.apache.jackrabbit.webdav.simple.ResourceFactoryImpl.getNode(ResourceFactoryImpl.java:140)&lt;br/&gt;
	at org.apache.jackrabbit.webdav.simple.ResourceFactoryImpl.createResource(ResourceFactoryImpl.java:89)&lt;br/&gt;
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(AbstractWebdavServlet.java:187)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:51)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.HttpServiceContext.handle(HttpServiceContext.java:87)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:63)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:324)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)&lt;br/&gt;
	at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)&lt;br/&gt;
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The problem seems to be that the ResourceFactoryImpl.createResource method (or rather the getNode method) is not prepared to a DavResourceLocator instance whose resourcePath is null.&lt;br/&gt;
&lt;br/&gt;
I could imagine, that the ResourceFactoryImpl.getNode() method might want to return the root node in this case ?</description>
                <environment></environment>
            <key id="12386474">JCR-1319</key>
            <summary>NullPointerException when accessing the SimpleWebdavServlet at the prefix path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Jan 2008 09:42:38 +0000</created>
                <updated>Wed, 24 Sep 2008 14:51:33 +0100</updated>
                    <resolved>Fri, 18 Jul 2008 16:24:53 +0100</resolved>
                            <version>1.4</version>
                <version>1.5</version>
                                <fixVersion>jcr-server 1.4.1</fixVersion>
                                <component>jackrabbit-jcr-server</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12559876" author="fmeschbe" created="Thu, 17 Jan 2008 09:47:26 +0000"  >Proposed patch. When actually appliying this patch, I get back a 404 instead of the NullPointerException. I think, this is ok.</comment>
                    <comment id="12614755" author="anchela" created="Fri, 18 Jul 2008 16:23:26 +0100"  >somehow this issue missed my attention.&lt;br/&gt;
&lt;br/&gt;
anyway: i&amp;#39;m not sure if return the root-node is correct, when the repositoryPath is missing. i think, return null (creating null-resource) would be more appropriate. the 404 result remains the same.</comment>
                    <comment id="12614756" author="anchela" created="Fri, 18 Jul 2008 16:24:53 +0100"  >sorry for the delay</comment>
                    <comment id="12615563" author="fmeschbe" created="Tue, 22 Jul 2008 10:26:32 +0100"  >Your fix sounds reasonable.&lt;br/&gt;
&lt;br/&gt;
Thanks for fixing</comment>
                </comments>
                    <attachments>
                    <attachment id="12373375" name="JCR-1319.patch" size="1280" author="fmeschbe" created="Thu, 17 Jan 2008 09:47:26 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 18 Jul 2008 15:23:26 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78603</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190746</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>