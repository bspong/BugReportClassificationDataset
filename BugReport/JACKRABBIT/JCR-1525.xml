<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:51:24 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1525/JCR-1525.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1525] Jackrabbit depends on Oracle driver for BLOB support in Oracle versions previous than 10.2</title>
                <link>https://issues.apache.org/jira/browse/JCR-1525</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>In Oracle versions previous to 10.2, Jackrabbit explicitly uses a class from the Oracle driver to provide BLOB support (see OracleFileSystem.init()). This special handling is no longer necesary for Oracle 10.2+, so we should provide a new implementation. As discussed on the list, we can create a new class for Oracle 10.2+, make it inherit from DbFileSystem, and override the createSchema(), and table space related methods, which are the ones that need special handling. Furthermore, we could refactor the current OracleFileSystem and break it into two clases, one of them to keep the current behavior and a new one to keep the common code (which we could rename to OracleBaseFileSystem or similar, to maintain compatiblity with code that uses OracleFileSystem for versions previous to 10.2). Then we make the Oracle10FileSystem inherit from the latter.</description>
                <environment></environment>
            <key id="12393331">JCR-1525</key>
            <summary>Jackrabbit depends on Oracle driver for BLOB support in Oracle versions previous than 10.2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="efranqueiro">Esteban Franqueiro</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Apr 2008 19:43:41 +0100</created>
                <updated>Wed, 20 Jan 2010 17:49:57 +0000</updated>
                    <resolved>Mon, 7 Dec 2009 10:59:35 +0000</resolved>
                            <version>2.0-beta5</version>
                                <fixVersion>2.0-beta6</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12590197" author="efranqueiro" created="Thu, 17 Apr 2008 21:31:31 +0100"  >I&amp;#39;m working on this refactoring and I ended up with an empty Oracle10R2FileSystem. From a code point of view this class should be removed, but from a user&amp;#39;s perspective, I think its more clear to have a class with a more accurate name.&lt;br/&gt;
The other possibility is to rename the already mentioned OracleBaseFaileSystem as Oracle10R2FileSystem, and make OracleFileSystem inheriit from it. I don&amp;#39;t like this either.&lt;br/&gt;
WDYYT?&lt;br/&gt;
Regards,&lt;br/&gt;
</comment>
                    <comment id="12590494" author="efranqueiro" created="Fri, 18 Apr 2008 16:55:45 +0100"  >Is it worth doing this work for the Oracle DB Persistence Managers (not the bundle PMs) too?&lt;br/&gt;
The bundle PMs for Oracle already support 10.2+, but there&amp;#39;s a name mismatch because there&amp;#39;s an Oracle9PM, and OraclePM is for 10+.</comment>
                    <comment id="12590506" author="tmueller" created="Fri, 18 Apr 2008 17:32:19 +0100"  >Hi,&lt;br/&gt;
I don&amp;#39;t know how much it is used. I would deprecate those persistence managers soon, as they are much slower then the bundle persistence managers. So in my view it doesn&amp;#39;t make sense to work on non-bundle persistence managers any more.&lt;br/&gt;
Regards,&lt;br/&gt;
Thomas</comment>
                    <comment id="12590546" author="efranqueiro" created="Fri, 18 Apr 2008 19:16:39 +0100"  >This patch applies the suggested fix. We should decide what to do regarding what I mentioned in my previous comments.&lt;br/&gt;
As suggested by Thomas, this doesn&amp;#39;t include changes for the older PMs.&lt;br/&gt;
I tested it on Oracle 10.2.0.3.0 and all tests passed.</comment>
                    <comment id="12621820" author="efranqueiro" created="Tue, 12 Aug 2008 14:49:52 +0100"  >Hi all.&lt;br/&gt;
What should we do regarding this issue? I&amp;#39;ve been running this code for some time now and haven&amp;#39;t had any issues. Should we apply it to trunk? Or should we wait?&lt;br/&gt;
Regards,</comment>
                    <comment id="12708791" author="martijnh" created="Wed, 13 May 2009 07:42:08 +0100"  >We&amp;#39;ve been running your patch also and encountered no problems. It looks fine. +1 for committing the patch.&lt;br/&gt;
&lt;br/&gt;
Can we solve the naming inconsistency now that the trunk is on 2.0-SNAPSHOT?&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12710294" author="tmueller" created="Mon, 18 May 2009 08:22:00 +0100"  >+1 for the patch except:&lt;br/&gt;
&lt;br/&gt;
The class names should match the names used in the bundle PMs. Currently the patch uses:&lt;br/&gt;
Oracle10R2FileSystem (for Oracle 10 and newer)&lt;br/&gt;
OracleFileSystem (for Oracle 9)&lt;br/&gt;
&lt;br/&gt;
The class names should be:&lt;br/&gt;
OracleFileSystem (for Oracle 10 and newer)&lt;br/&gt;
Oracle9FileSystem (for Oracle 9)&lt;br/&gt;
</comment>
                    <comment id="12729851" author="jlr787s" created="Fri, 10 Jul 2009 22:48:54 +0100"  >I took the liberty of updating the patch with a couple of modifications. The first is to rename the classes to align with the conventions that Thomas mentioned. Instead of Oracle9FileSystem, I chose Oracle10R1FileSystem, though. It seemed to make more sense, because that&amp;#39;s technically the last version it supports. The second change I made was to remove the user/password initialization in the OracleBaseFileSystem constructor. Initializing them to empty strings causes problems when a JNDI data source is being used. They should be left null unless explicitly configured.</comment>
                    <comment id="12786620" author="martijnh" created="Sun, 6 Dec 2009 14:37:37 +0000"  >Attached a new version of the proposed patch because the previous ones do not match anymore after the &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1456&quot; title=&quot;Database connection pooling&quot;&gt;&lt;strike&gt;JCR-1456&lt;/strike&gt;&lt;/a&gt; merge.</comment>
                    <comment id="12786861" author="martijnh" created="Mon, 7 Dec 2009 10:59:34 +0000"  >Fixed in revision: 887881.&lt;br/&gt;
&lt;br/&gt;
Please note that this change is not backwards compatible: the OracleFileSystem class now does not use special blob handling required for 10R1 and earlier. If you need that, use the Oracle9FileSystem. We migh want to add this in the RELEASE-NOTES.txt.&lt;br/&gt;
</comment>
                    <comment id="12787370" author="yabon" created="Tue, 8 Dec 2009 08:50:23 +0000"  >&amp;gt; Please note that this change is not backwards compatible: the OracleFileSystem class now does not use special blob handling required for 10R1 and earlier. If you need that, use the Oracle9FileSystem. We migh want to add this in the RELEASE-NOTES.txt.&lt;br/&gt;
&lt;br/&gt;
Done in revision 888290.</comment>
                </comments>
                    <attachments>
                    <attachment id="12427096" name="JCR-1525.patch" size="3073" author="martijnh" created="Sun, 6 Dec 2009 14:37:37 +0000" />
                    <attachment id="12413160" name="JCR-1525.patch" size="52044" author="jlr787s" created="Fri, 10 Jul 2009 22:48:54 +0100" />
                    <attachment id="12380528" name="JCR-1525.patch" size="27266" author="efranqueiro" created="Fri, 18 Apr 2008 19:16:38 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 18 Apr 2008 16:32:19 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142728</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191535</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>