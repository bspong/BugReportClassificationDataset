<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:42:29 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2257/JCR-2257.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2257] Removal of a node with shared subnodes fails</title>
                <link>https://issues.apache.org/jira/browse/JCR-2257</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>A simple testcase:&lt;br/&gt;
&lt;br/&gt;
Set up (first transaction):&lt;br/&gt;
Node a1 = testRootNode.addNode(&amp;quot;a1&amp;quot;);&lt;br/&gt;
Node a2 = testRootNode.addNode(&amp;quot;a2&amp;quot;);&lt;br/&gt;
a2.addMixin(&amp;quot;mix:shareable&amp;quot;);&lt;br/&gt;
session.save();&lt;br/&gt;
// now we have a shareable node N with path a2&lt;br/&gt;
&lt;br/&gt;
Workspace workspace = session.getWorkspace();&lt;br/&gt;
String path = a1.getPath() + &amp;quot;/b1&amp;quot;;&lt;br/&gt;
workspace.clone(workspace.getName(), a2.getPath(), path, false);&lt;br/&gt;
session.save();&lt;br/&gt;
// now we have another shareable node N&amp;#39; in the same shared set as N with path a1/b1&lt;br/&gt;
&lt;br/&gt;
Test(second transaction):&lt;br/&gt;
testRootNode.remove(&amp;quot;a1&amp;quot;);&lt;br/&gt;
session.save();&lt;br/&gt;
&lt;br/&gt;
At least in a transactional repository the node will not be removed, an error will be thrown instead.</description>
                <environment></environment>
            <key id="12432829">JCR-2257</key>
            <summary>Removal of a node with shared subnodes fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="lmichele">Lars Michele</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Aug 2009 00:58:14 +0100</created>
                <updated>Fri, 4 Sep 2009 14:02:59 +0100</updated>
                    <resolved>Wed, 19 Aug 2009 09:40:37 +0100</resolved>
                            <version>2.0-alpha7</version>
                                <fixVersion>2.0-alpha9</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12742130" author="lmichele" created="Wed, 12 Aug 2009 01:09:43 +0100"  >The first patch prevents, that an event is fired on the remove of a share, when the parent node of the share was also deleted.&lt;br/&gt;
The second patch allows the correct calculation of the depth of a transient node, even if the parent node is removed and in the attic.</comment>
                    <comment id="12742384" author="lmichele" created="Wed, 12 Aug 2009 15:32:41 +0100"  >A small update for better performance.</comment>
                    <comment id="12744004" author="lmichele" created="Mon, 17 Aug 2009 10:23:05 +0100"  >Here comes the complete TestCase :-)</comment>
                    <comment id="12744958" author="mreutegg" created="Wed, 19 Aug 2009 09:38:42 +0100"  >Removal of a share must not be ignored, otherwise the index will get inconsistent.&lt;br/&gt;
&lt;br/&gt;
See attached patch.</comment>
                    <comment id="12744959" author="mreutegg" created="Wed, 19 Aug 2009 09:40:37 +0100"  >Applied latest patch in revision: 805702&lt;br/&gt;
&lt;br/&gt;
Thanks a lot for reporting this issue.</comment>
                </comments>
                    <attachments>
                    <attachment id="12416265" name="EventStateCollection.java.patch" size="2547" author="lmichele" created="Wed, 12 Aug 2009 01:09:43 +0100" />
                    <attachment id="12416998" name="JCR-2257.patch" size="4112" author="mreutegg" created="Wed, 19 Aug 2009 09:38:42 +0100" />
                    <attachment id="12416324" name="SessionItemStateManager.java.patch" size="1197" author="lmichele" created="Wed, 12 Aug 2009 15:32:41 +0100" />
                    <attachment id="12416266" name="SessionItemStateManager.java.patch" size="882" author="lmichele" created="Wed, 12 Aug 2009 01:09:43 +0100" />
                    <attachment id="12416759" name="ShareableNodeTest.java.patch" size="1306" author="lmichele" created="Mon, 17 Aug 2009 10:23:05 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>5.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 19 Aug 2009 08:38:42 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78285</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191759</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>