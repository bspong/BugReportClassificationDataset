<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:37:32 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-743/JCR-743.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-743] XA Transaction Recovery</title>
                <link>https://issues.apache.org/jira/browse/JCR-743</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>If i add a node to the repository i get a XAException because i run into a Timeout ... &lt;br/&gt;
I see the Warn Message: Transaction rolled back because timeout expired.&lt;br/&gt;
The default Timeout is set to 5 sec and i dont know how to set it to a higher value&lt;br/&gt;
The Problem is if i restart my server websphere has a RecoveryManager and he try to recover this Transaction&lt;br/&gt;
and then i get a NullpointerException in JCAManagedConnectionFactory. createManagedConnection beacuse the given &lt;br/&gt;
ConnectionRequestInfo is null.&lt;br/&gt;
So i dont know why the RecoveryManager tries to recover the Transaction ? The only solution for me is to delete the Tran-Log Files wich keep Websphere to recvoer&lt;br/&gt;
XA Trasnactions.&lt;br/&gt;
</description>
                <environment>J2C Resource Adapter on Websphere</environment>
            <key id="12362920">JCR-743</key>
            <summary>XA Transaction Recovery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="dpfister">Dominique Pfister</assignee>
                                <reporter username="c_koell">Claus K&#246;ll</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Feb 2007 13:33:35 +0000</created>
                <updated>Wed, 25 Apr 2007 09:45:26 +0100</updated>
                    <resolved>Thu, 22 Feb 2007 11:29:30 +0000</resolved>
                            <version>1.2.1</version>
                <version>1.2.2</version>
                <version>1.2.3</version>
                                <fixVersion>1.3</fixVersion>
                                <component>jackrabbit-jca</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12473406" author="c_koell" created="Thu, 15 Feb 2007 15:53:24 +0000"  >I have tested more with this behaviour.&lt;br/&gt;
For more information my environment in detail:&lt;br/&gt;
Websphere 5.1.1 and Jackrabbit as J2C Resource Adapter&lt;br/&gt;
My Workspace configuration:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;PersistenceManager class=&amp;quot;org.apache.jackrabbit.core.state.db.JNDIDatabasePersistenceManager&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;param name=&amp;quot;dataSourceLocation&amp;quot; value=&amp;quot;jdbc/JCR&amp;quot;/&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;param name=&amp;quot;schema&amp;quot; value=&amp;quot;oracle&amp;quot;/&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;param name=&amp;quot;schemaObjectPrefix&amp;quot; value=&amp;quot;${wsp.name}_&amp;quot;/&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;param name=&amp;quot;externalBLOBs&amp;quot; value=&amp;quot;false&amp;quot;/&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/PersistenceManager&amp;gt;&lt;br/&gt;
The DataSource jdbc/JCR is a oracle.jdbc.pool.OracleConnectionPoolDataSource. I have also tested a oracle.jdbc.xa.client.OracleXADataSource&lt;br/&gt;
but then i get a Exception on commit @see &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-744&quot; title=&quot;DatabasePersistenceManager&quot;&gt;&lt;strike&gt;JCR-744&lt;/strike&gt;&lt;/a&gt;&lt;br/&gt;
I have a SessionBean where i make some calls to to Jackrabbit within a Transaction.&lt;br/&gt;
&lt;br/&gt;
I made a clean start. (starting my Server and Jackrabbit to a a empty repository). &lt;br/&gt;
If i add a node to the repository within transaction there are no problems. &lt;br/&gt;
Now i stop the server and restart it and i get  always the Nullpointer Exception. First i thought that is only if a make a Rollback but that is not so.&lt;br/&gt;
I try to find out why Websphere try to recover the transaction ...&lt;br/&gt;
</comment>
                    <comment id="12474982" author="dpfister" created="Thu, 22 Feb 2007 11:29:30 +0000"  >WebSphere 5.1.1 tries to recover the connection&amp;#39;s associated XAResource on startup, regardless whether it was committed or rolled back. In order to be interoperable, an anonymous, recoverable-only connection is returned, when this situation is detected.&lt;br/&gt;
&lt;br/&gt;
Fixed in revision 510465.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 22 Feb 2007 11:29:30 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80499</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190627</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>