<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 06:02:46 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2919/JCR-2919.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2919] Security of token base authentication</title>
                <link>https://issues.apache.org/jira/browse/JCR-2919</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Token based authentication as implemented with &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2851&quot; title=&quot;Authentication Mechanism Based on Login Token&quot;&gt;&lt;strike&gt;JCR-2851&lt;/strike&gt;&lt;/a&gt; seems to exhibit a security issue: the token returned by the server consists of the identifier of a (newly created) node in the repository. An attacker who is able to guess (or acquire by other means i.e. via log files) that identifier will be granted access to the repository. Worse yet, &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2857&quot; title=&quot;Support sequential (non-random) node ids&quot;&gt;JCR-2857&lt;/a&gt; introduces sequential node ids. Guessing is a piece of cake in such a setup.&lt;br/&gt;
&lt;br/&gt;
I think we should decouple authentication secrets from node ids. A simple solution would be to store the secret in a token attribute and delegate generation of the secret to a dedicated handler. Such a handler can then use a secure random generator, private/public key encryption or whatever other method that is deemed appropriate to generate the authentication secret. &lt;br/&gt;
&lt;br/&gt;
Initial discussion see: &lt;a href=&quot;http://markmail.org/thread/aspetgvmj2qud25a&quot;&gt;http://markmail.org/thread/aspetgvmj2qud25a&lt;/a&gt;</description>
                <environment></environment>
            <key id="12501594">JCR-2919</key>
            <summary>Security of token base authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2011 15:26:50 +0000</created>
                <updated>Tue, 8 Nov 2011 15:56:04 +0000</updated>
                    <resolved>Tue, 31 May 2011 10:15:29 +0100</resolved>
                            <version>2.3</version>
                                <fixVersion>2.3</fixVersion>
                                <component>jackrabbit-core</component>
                <component>security</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13007589" author="anchela" created="Wed, 16 Mar 2011 17:43:19 +0000"  >&amp;gt; Worse yet, &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2857&quot; title=&quot;Support sequential (non-random) node ids&quot;&gt;JCR-2857&lt;/a&gt; introduces sequential node ids. Guessing is a piece of cake in such a setup. &lt;br/&gt;
&lt;br/&gt;
the token nodes never use sequention node ids.</comment>
                    <comment id="13007601" author="mduerig" created="Wed, 16 Mar 2011 18:10:44 +0000"  >&amp;gt; the token nodes never use sequention node ids. &lt;br/&gt;
&lt;br/&gt;
Since &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2857&quot; title=&quot;Support sequential (non-random) node ids&quot;&gt;JCR-2857&lt;/a&gt; this is a configuration option. So yes this setup is possible. </comment>
                    <comment id="13008388" author="mduerig" created="Fri, 18 Mar 2011 10:11:35 +0000"  >Apparently sequential node ids are not used anymore for token nodes since rev. 1076597. See &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;revision=1076597&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1076597&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
My general concern remains however. </comment>
                    <comment id="13008391" author="tmueller" created="Fri, 18 Mar 2011 10:29:26 +0000"  >revision 1076597 uses:&lt;br/&gt;
if (System.getProperty(NodeIdFactory.SEQUENTIAL_NODE_ID) == null) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;...&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
I think security shouldn&amp;#39;t check this setting, and shouldn&amp;#39;t rely on (the &amp;#39;security of&amp;#39;) node ids in general. Not sure if that&amp;#39;s related, but it&amp;#39;s possible to import nodes with fixed node ids. The fact that node ids are randomly generated is just an implementation detail of the current Jackrabbit.&lt;br/&gt;
&lt;br/&gt;
Wouldn&amp;#39;t it be simpler to store the token as a property _value_? Or instead of storing the token itself, store the (secure) hash code of the token as a value?&lt;br/&gt;
</comment>
                    <comment id="13113396" author="fmeschbe" created="Fri, 23 Sep 2011 13:58:19 +0100"  >&amp;gt; System.getProperty(NodeIdFactory.SEQUENTIAL_NODE_ID)&lt;br/&gt;
&lt;br/&gt;
Are you kidding ? Are we really configuring this through system properties ?</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 16 Mar 2011 17:43:19 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>36830</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190909</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>