<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:44:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2881/JCR-2881.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2881] Deadlock on version operations in a clustered environment</title>
                <link>https://issues.apache.org/jira/browse/JCR-2881</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Version operations in a cluster may end up in a deadlock: a write operation in the version store will acquire the version manager&amp;#39;s write lock (N1.VW) and subsequently the cluster journal&amp;#39;s write lock (N1.JW). Another cluster node&amp;#39;s write operation in some workspace will acquire the journal&amp;#39;s write lock (N2.JW) and first process the journal record log: if some of these changes concern the version store, the version manager&amp;#39;s read lock (N2.VR) has to be acquired in order to deliver them. If the first cluster node reaches N1.VW, and the second reaches N2.JW, we have a deadlock. The same scenario takes place when the second cluster node synchronizes to the latest journal changes and reaches N2.JR, when the first cluster node is in N1.VW.</description>
                <environment></environment>
            <key id="12497827">JCR-2881</key>
            <summary>Deadlock on version operations in a clustered environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="dpfister">Dominique Pfister</assignee>
                                <reporter username="dpfister">Dominique Pfister</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Feb 2011 10:11:21 +0000</created>
                <updated>Thu, 17 Feb 2011 15:49:54 +0000</updated>
                    <resolved>Mon, 7 Feb 2011 10:55:28 +0000</resolved>
                            <version>2.2.2</version>
                                <fixVersion>2.1.5</fixVersion>
                <fixVersion>2.2.4</fixVersion>
                                <component>clustering</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12991323" author="dpfister" created="Mon, 7 Feb 2011 10:21:53 +0000"  >Patch</comment>
                    <comment id="12991324" author="dpfister" created="Mon, 7 Feb 2011 10:22:28 +0000"  >Patch submitted.</comment>
                    <comment id="12991326" author="dpfister" created="Mon, 7 Feb 2011 10:24:50 +0000"  >Solution looks as follows: when doing a cluster sync, whether it is for reading or writing, always acquire the version manager&amp;#39;s read lock first.</comment>
                    <comment id="12991327" author="dpfister" created="Mon, 7 Feb 2011 10:42:48 +0000"  >Fixed in revision 1067901 in trunk.</comment>
                    <comment id="12991334" author="dpfister" created="Mon, 7 Feb 2011 10:55:28 +0000"  >Fixed in 2.2 branch in revision 1067910.</comment>
                    <comment id="12991964" author="langleywork" created="Tue, 8 Feb 2011 13:21:45 +0000"  >I am seeing this same behavior in 2.1.3... What&amp;#39;s the likelihood of porting this back to the 2.1 branch? </comment>
                    <comment id="12993514" author="jukkaz" created="Fri, 11 Feb 2011 14:31:43 +0000"  >Merged to the 2.1 branch in revision 1069811.</comment>
                </comments>
                    <attachments>
                    <attachment id="12470431" name="jackrabbit-core-2.2.3.patch" size="6209" author="dpfister" created="Mon, 7 Feb 2011 10:21:53 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 8 Feb 2011 13:21:45 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78140</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190374</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>