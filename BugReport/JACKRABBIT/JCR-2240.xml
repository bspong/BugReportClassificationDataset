<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2240/JCR-2240.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2240] Binary value may leave temp file behind</title>
                <link>https://issues.apache.org/jira/browse/JCR-2240</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The following call leaves a temp file behind that is never deleted:&lt;br/&gt;
&lt;br/&gt;
InputStream in = ...&lt;br/&gt;
ValueFactory vf = ....&lt;br/&gt;
vf.createBinary(in).dispose();&lt;br/&gt;
&lt;br/&gt;
Only happens when the datastore is disabled.</description>
                <environment></environment>
            <key id="12432041">JCR-2240</key>
            <summary>Binary value may leave temp file behind</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2009 13:16:13 +0100</created>
                <updated>Tue, 18 Aug 2009 16:02:17 +0100</updated>
                    <resolved>Mon, 10 Aug 2009 08:36:45 +0100</resolved>
                                            <fixVersion>2.0-alpha8</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12739573" author="stefan@jira" created="Wed, 5 Aug 2009 16:51:55 +0100"  >does it depend on a specific ValueFactory implementation?&lt;br/&gt;
&lt;br/&gt;
where is the tmp file created? in the system tmp dir?</comment>
                    <comment id="12739970" author="mreutegg" created="Thu, 6 Aug 2009 10:51:59 +0100"  >&amp;gt; does it depend on a specific ValueFactory implementation? &lt;br/&gt;
&lt;br/&gt;
don&amp;#39;t know. I don&amp;#39;t think it&amp;#39;s possible to configure a different implementation, right?&lt;br/&gt;
&lt;br/&gt;
&amp;gt; where is the tmp file created? in the system tmp dir?&lt;br/&gt;
&lt;br/&gt;
yes, it&amp;#39;s the system temp dir.&lt;br/&gt;
&lt;br/&gt;
I guess &amp;#39;never deleted&amp;#39; is not correct. The files are actually deleted, but only at the discretion of the garbage collection and the finalizer.</comment>
                    <comment id="12740021" author="stefan@jira" created="Thu, 6 Aug 2009 13:22:22 +0100"  >&amp;gt; I guess &amp;#39;never deleted&amp;#39; is not correct. The files are actually deleted, but only at the discretion of the garbage collection and the finalizer.&lt;br/&gt;
&lt;br/&gt;
in which case i wouldn&amp;#39;t qualify this issue as &amp;#39;major bug&amp;#39; but rather as an improvement. &lt;br/&gt;
&lt;br/&gt;
i assume the tmp files are created by o.a.j.util.TransientFileFactory.  &lt;br/&gt;
tmp files will be deleted when their associated marker objects are &lt;br/&gt;
reclaimed by the garbage collector.</comment>
                    <comment id="12740037" author="mreutegg" created="Thu, 6 Aug 2009 13:54:32 +0100"  >&amp;gt; in which case i wouldn&amp;#39;t qualify this issue as &amp;#39;major bug&amp;#39; but rather as an improvement. &lt;br/&gt;
&lt;br/&gt;
agreed on the priority, but I still think this is a bug, because dispose is explicitly and I would expect that it frees resources that the Binary instance holds.&lt;br/&gt;
&lt;br/&gt;
Anyway, the required changes to fix this bug are already present in the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2238&quot; title=&quot;Binary throws NullPointerException &quot;&gt;&lt;strike&gt;JCR-2238&lt;/strike&gt;&lt;/a&gt;. I suggest we keep this issue open until &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2238&quot; title=&quot;Binary throws NullPointerException &quot;&gt;&lt;strike&gt;JCR-2238&lt;/strike&gt;&lt;/a&gt; is fixed and then set it to fixed as well.</comment>
                    <comment id="12741217" author="mreutegg" created="Mon, 10 Aug 2009 08:36:45 +0100"  >This issue has been fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2238&quot; title=&quot;Binary throws NullPointerException &quot;&gt;&lt;strike&gt;JCR-2238&lt;/strike&gt;&lt;/a&gt;.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 5 Aug 2009 15:51:55 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78293</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>252572</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>