<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:53:01 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2651/JCR-2651.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2651] Add a OnWorkspaceInconsistency with logging only</title>
                <link>https://issues.apache.org/jira/browse/JCR-2651</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>If a Workspace performs a re-index on startup with  a inconsistency in it the process will fail now.&lt;br/&gt;
The new OnWorkspaceInconsistency &amp;quot;log&amp;quot; will only log the inconsistency but the reindex-process will not fail</description>
                <environment></environment>
            <key id="12466550">JCR-2651</key>
            <summary>Add a OnWorkspaceInconsistency with logging only</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="c_koell">Claus K&#246;ll</assignee>
                                <reporter username="c_koell">Claus K&#246;ll</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jun 2010 11:12:42 +0100</created>
                <updated>Tue, 19 Oct 2010 09:32:58 +0100</updated>
                    <resolved>Fri, 11 Jun 2010 08:09:33 +0100</resolved>
                            <version>1.6.2</version>
                <version>2.1</version>
                                <fixVersion>1.6.4</fixVersion>
                <fixVersion>2.2</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12877065" author="c_koell" created="Wed, 9 Jun 2010 13:57:03 +0100"  >with this patch  you can set on the SearchIndex in the workspace.xml file&lt;br/&gt;
&amp;lt;param name=&amp;quot;onWorkspaceInconsistency&amp;quot; value=&amp;quot;log&amp;quot;/&amp;gt;&lt;br/&gt;
</comment>
                    <comment id="12877739" author="c_koell" created="Fri, 11 Jun 2010 08:09:33 +0100"  >Committed revision 953585.</comment>
                    <comment id="12890276" author="shyrkov" created="Tue, 20 Jul 2010 16:09:40 +0100"  >Hello Claus,&lt;br/&gt;
&lt;br/&gt;
there is a small issue with the committed patch (I used in on my Jackrabbit 1.x deployment).&lt;br/&gt;
The output is as follows:&lt;br/&gt;
&lt;br/&gt;
2010-07-20 16:39:08,367: ERROR [OnWorkspaceInconsistency] - Node [Ljava.lang.Object;@18f238fc. Please run a consistency check on this workspace! ({}) has missing child &amp;#39;{}&amp;#39; ({})&lt;br/&gt;
&lt;br/&gt;
In the code you are concatenating the arguments object array with a string:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;log.error(&amp;quot;Node {} ({}) has missing child &amp;#39;{}&amp;#39; ({})&amp;quot;, new Object[]{...} + &amp;quot;. Please run a consistency check on this workspace!&amp;quot;);&lt;br/&gt;
&lt;br/&gt;
so it results in replacing only the first argument.&lt;br/&gt;
&lt;br/&gt;
I guess, you intention was to do:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;log.error(&amp;quot;Node {} ({}) has missing child &amp;#39;{}&amp;#39; ({}). Please run a consistency check on this workspace!&amp;quot;, new Object[]{...});&lt;br/&gt;
&lt;br/&gt;
instead.&lt;br/&gt;
&lt;br/&gt;
Kind regards&lt;br/&gt;
Sergiy</comment>
                    <comment id="12890557" author="c_koell" created="Wed, 21 Jul 2010 06:17:54 +0100"  >Hi Sergiy,&lt;br/&gt;
&lt;br/&gt;
Yes you are right. I have seen it and commited the modified code into the trunk some times ago.&lt;br/&gt;
So in the upcoming release it will work :-)&lt;br/&gt;
&lt;br/&gt;
greets&lt;br/&gt;
claus</comment>
                    <comment id="12890623" author="shyrkov" created="Wed, 21 Jul 2010 10:18:30 +0100"  >Thank you, Claus!&lt;br/&gt;
I am looking forward getting 1.6.3 :-)&lt;br/&gt;
&lt;br/&gt;
Kind regards&lt;br/&gt;
Sergiy</comment>
                    <comment id="12895269" author="jukkaz" created="Wed, 4 Aug 2010 15:21:10 +0100"  >We normally avoid backporting new features to patch releases, so targeting 2.2.0 for this unless there&amp;#39;s a good rationale for doing otherwise.</comment>
                    <comment id="12895270" author="c_koell" created="Wed, 4 Aug 2010 15:25:21 +0100"  >Hi Jukka,&lt;br/&gt;
&lt;br/&gt;
I know that we should not backport new features but we need it in our environment and we are not planing to upgrade jackrabbit.&lt;br/&gt;
So it would be fine to have it in the 1.6 branch.&lt;br/&gt;
greets</comment>
                    <comment id="12895294" author="jukkaz" created="Wed, 4 Aug 2010 16:26:50 +0100"  >OK, I guess we can do this in 1.6.3 as it&amp;#39;s the tail end of the 1.x release cycle. However, unless we want to do a 1.7 release, I wouldn&amp;#39;t count on too many changes other than bugfixes being backported to 1.x anymore.</comment>
                    <comment id="12895614" author="jukkaz" created="Thu, 5 Aug 2010 09:31:04 +0100"  >Merged to the 1.6 branch in revision 982501.</comment>
                </comments>
                    <attachments>
                    <attachment id="12446686" name="JCR-2651.patch" size="2568" author="c_koell" created="Wed, 9 Jun 2010 13:54:37 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 20 Jul 2010 15:09:40 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>143196</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190347</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>