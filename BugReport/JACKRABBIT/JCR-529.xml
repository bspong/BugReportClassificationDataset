<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 06:01:09 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-529/JCR-529.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-529] New versions added after a restore have bad version name</title>
                <link>https://issues.apache.org/jira/browse/JCR-529</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>I add several versions to a node (1.0, 1.1, 1.2, 1.3, 1.4). Perform a restore to version 1.2 and add more versions. After that VersionHistory is like this:&lt;br/&gt;
&lt;br/&gt;
- 1.0&lt;br/&gt;
- 1.1&lt;br/&gt;
- 1.2&lt;br/&gt;
- 1.3&lt;br/&gt;
- 1.4&lt;br/&gt;
- 1.3.1&lt;br/&gt;
- 1.3.2&lt;br/&gt;
- 1.3.3&lt;br/&gt;
- 1.3.4&lt;br/&gt;
- 1.3.5&lt;br/&gt;
&lt;br/&gt;
New versions should be 1.2.x no 1.3.x, isn&amp;#39;t it?</description>
                <environment>Ubuntu Dapper</environment>
            <key id="12347149">JCR-529</key>
            <summary>New versions added after a restore have bad version name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tripod">Tobias Bocanegra</assignee>
                                <reporter username="monkiki">Paco Avila</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Aug 2006 10:53:41 +0100</created>
                <updated>Tue, 30 Jan 2007 21:13:18 +0000</updated>
                    <resolved>Tue, 19 Dec 2006 11:29:55 +0000</resolved>
                            <version>0.9</version>
                <version>1.0</version>
                <version>1.0.1</version>
                <version>1.1</version>
                <version>1.1.1</version>
                                <fixVersion>1.2.1</fixVersion>
                                <component>versioning</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12425188" author="monkiki" created="Wed, 2 Aug 2006 10:55:39 +0100"  >This is a test case.</comment>
                    <comment id="12425232" author="tripod" created="Wed, 2 Aug 2006 14:39:36 +0100"  >i vaguely remeber a similar bug....what version of jackrabbit are you using? the recent checkout?</comment>
                    <comment id="12425266" author="monkiki" created="Wed, 2 Aug 2006 16:37:42 +0100"  >Yes, I updated Jackarbbit source code yesterday. There is a test case attached if you wan&amp;#39;t to test it.</comment>
                    <comment id="12451123" author="monkiki" created="Sun, 19 Nov 2006 08:23:06 +0000"  >I am the only affected by this issue? :(</comment>
                    <comment id="12451180" author="monkiki" created="Sun, 19 Nov 2006 20:58:55 +0000"  >This is my patch for this issue. With this modification, the versions are correctly named.</comment>
                    <comment id="12458166" author="tripod" created="Wed, 13 Dec 2006 15:48:52 +0000"  >fixed as suggested.&lt;br/&gt;
&lt;br/&gt;
Committed revision 486694.</comment>
                    <comment id="12458415" author="ppakulski" created="Thu, 14 Dec 2006 10:23:23 +0000"  >It seems that after applying patch test org.apache.jackrabbit.core.XATest.#testXAVersionsThoroughly fails.&lt;br/&gt;
&lt;br/&gt;
junit.framework.ComparisonFailure: checkin N1 uncommitted. Version Name expected:&amp;lt;1.1.1&amp;gt; but was:&amp;lt;1.0.1&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:81)&lt;br/&gt;
	at org.apache.jackrabbit.core.XATest.check(XATest.java:1140)&lt;br/&gt;
	at org.apache.jackrabbit.core.XATest.testXAVersionsThoroughly(XATest.java:1080)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at org.apache.jackrabbit.core.XATest.runTest(XATest.java:96)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at org.apache.jackrabbit.test.AbstractJCRTest.run(AbstractJCRTest.java:393)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:474)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:342)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:194)&lt;br/&gt;
</comment>
                    <comment id="12458531" author="tripod" created="Thu, 14 Dec 2006 16:03:24 +0000"  >need to validate tests</comment>
                    <comment id="12458580" author="monkiki" created="Thu, 14 Dec 2006 19:08:34 +0000"  >From my point of view the test should check:&lt;br/&gt;
&lt;br/&gt;
check(v1_3, phase, &amp;quot;1.0.1&amp;quot;, 0);&lt;br/&gt;
&lt;br/&gt;
And not:&lt;br/&gt;
&lt;br/&gt;
check(v1_3, phase, &amp;quot;1.1.1&amp;quot;, 0);</comment>
                    <comment id="12458913" author="tripod" created="Fri, 15 Dec 2006 20:22:35 +0000"  >imo, this should be the indented behaviour:&lt;br/&gt;
&lt;br/&gt;
1.0&lt;br/&gt;
&amp;nbsp;|&lt;br/&gt;
1.1&lt;br/&gt;
&amp;nbsp;|&lt;br/&gt;
1.2&lt;br/&gt;
&amp;nbsp;|       \       \&lt;br/&gt;
1.3  1.2.0  1.2.0.0&lt;br/&gt;
&amp;nbsp;|       |&lt;br/&gt;
1.4   1.2.1&lt;br/&gt;
&amp;nbsp;|       |       \&lt;br/&gt;
1.5   1.2.2  1.2.1.0&lt;br/&gt;
&amp;nbsp;|                |&lt;br/&gt;
1.6           1.2.1.1&lt;br/&gt;
&lt;br/&gt;
so if you restored to 1.2 and 1.3 already exists, make a 1.2.0 on checkin since it&amp;#39;s the &amp;quot;root version&amp;quot; of the new branch of the 1.2 version.&lt;br/&gt;
&lt;br/&gt;
opinions?&lt;br/&gt;
</comment>
                    <comment id="12458917" author="tripod" created="Fri, 15 Dec 2006 20:29:28 +0000"  >well, the above ascii art did not really work in jira :-( will attach a file.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12458918" author="tripod" created="Fri, 15 Dec 2006 20:29:53 +0000"  >Version Graph</comment>
                    <comment id="12458927" author="monkiki" created="Fri, 15 Dec 2006 20:52:20 +0000"  >Yes, I think you are rigth.</comment>
                    <comment id="12459163" author="jukkaz" created="Sun, 17 Dec 2006 23:25:36 +0000"  >Marking this for 1.2. Either the unit test or the code needs to be fixed before the release.</comment>
                    <comment id="12459601" author="tripod" created="Tue, 19 Dec 2006 11:29:55 +0000"  >Committed revision 488639.</comment>
                    <comment id="12459648" author="tripod" created="Tue, 19 Dec 2006 14:32:36 +0000"  >fixed tests.</comment>
                </comments>
                    <attachments>
                    <attachment id="12345317" name="AbstractVersionManager.diff" size="987" author="monkiki" created="Sun, 19 Nov 2006 20:58:55 +0000" />
                    <attachment id="12337986" name="DummyVersion.java" size="9798" author="monkiki" created="Wed, 2 Aug 2006 10:55:39 +0100" />
                    <attachment id="12347318" name="graph.txt" size="191" author="tripod" created="Fri, 15 Dec 2006 20:29:53 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 2 Aug 2006 13:39:36 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80360</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191926</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>