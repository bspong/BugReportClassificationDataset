<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 06:00:56 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-274/JCR-274.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-274] NodeTypeRegistry.registerNodetypes(Collection) should not register a partial set</title>
                <link>https://issues.apache.org/jira/browse/JCR-274</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>the javadoc says:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Note that in the case an exception is thrown, some node types might have&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* been nevertheless successfully registered.&lt;br/&gt;
&lt;br/&gt;
the problem hereby is, that it cannot be determined easily, what nodetypes could be registered, and which couldnt. i would rather prefer a all-or-nothing behaviour.</description>
                <environment>r345037</environment>
            <key id="12325856">JCR-274</key>
            <summary>NodeTypeRegistry.registerNodetypes(Collection) should not register a partial set</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Nov 2005 03:49:00 +0000</created>
                <updated>Mon, 30 Jan 2006 23:15:49 +0000</updated>
                    <resolved>Mon, 30 Jan 2006 23:15:49 +0000</resolved>
                                            <fixVersion>1.0</fixVersion>
                                <component>nodetype</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12362425" author="jukkaz" created="Wed, 11 Jan 2006 18:12:01 +0000"  >Tagged for 1.0&lt;br/&gt;
</comment>
                    <comment id="12363469" author="sandro" created="Sat, 21 Jan 2006 07:37:16 +0000"  >o The registration of the internal node types at start up of the repository is left as it is, as good as possible.&lt;br/&gt;
o The creation of the effective node types is left as it is, as good as possible.&lt;br/&gt;
o The patch adds a cloned EffectiveNodeTypeCache object and a cloned map of registered NodeTypeDefs to the context of the node type registration.&lt;br/&gt;
All node type definitions specified in the registerNodeTypes(Collection) method call are temporarily added to this map of registered NodeTypeDefs.&lt;br/&gt;
The validation of the node types uses the registration context and therefore also considers all new node types no matter if they are&lt;br/&gt;
cyclic dependend like the one this issue is about. Stefans nice checks for circular node auto creation and circular inheritance should still work.&lt;br/&gt;
Only if all node types definitions are valid and all node types could be created they are finally added to the repository. &lt;br/&gt;
A failed validation or registration does not effect the repository.&lt;br/&gt;
That also fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-274&quot; title=&quot;NodeTypeRegistry.registerNodetypes(Collection) should not register a partial set&quot;&gt;&lt;strike&gt;JCR-274&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
Thank you Stefan, for the support behind the scenes.&lt;br/&gt;
</comment>
                    <comment id="12363470" author="sandro" created="Sat, 21 Jan 2006 07:40:55 +0000"  >As it is not yet possible to unregister node types this test is just for a one time use. </comment>
                    <comment id="12363472" author="sandro" created="Sat, 21 Jan 2006 07:43:44 +0000"  >My first comment assumes to be posted in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-273&quot; title=&quot;Registering cyclic dependent nodetypes does not work&quot;&gt;&lt;strike&gt;JCR-273&lt;/strike&gt;&lt;/a&gt; not in this issue :-/ </comment>
                    <comment id="12364461" author="stefan@jira" created="Mon, 30 Jan 2006 23:15:49 +0000"  >committed sandro&amp;#39;s patch with some modifications (mainly formatting related)&lt;br/&gt;
thanks sandro!&lt;br/&gt;
&lt;br/&gt;
fixed in svn r. 373516&lt;br/&gt;
&lt;br/&gt;
</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12325855">JCR-273</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12322201" name="CyclicNodeTypeRegistrationTest.java" size="8588" author="sandro" created="Sat, 21 Jan 2006 07:40:55 +0000" />
                    <attachment id="12322200" name="EffectiveNodeTypeCache.java" size="4270" author="sandro" created="Sat, 21 Jan 2006 07:37:16 +0000" />
                    <attachment id="12322198" name="EffectiveNodeType.patch" size="2108" author="sandro" created="Sat, 21 Jan 2006 07:37:16 +0000" />
                    <attachment id="12322199" name="NodeTypeRegistry.patch" size="28880" author="sandro" created="Sat, 21 Jan 2006 07:37:16 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 11 Jan 2006 18:12:01 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142072</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279341</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>