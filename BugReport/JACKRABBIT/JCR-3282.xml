<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:58 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-3282/JCR-3282.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-3282] Optimize usage of norms</title>
                <link>https://issues.apache.org/jira/browse/JCR-3282</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>There is a very significant potential for optimizing the size of the search index.&lt;br/&gt;
&lt;br/&gt;
We have seen a case where there were multiple segments with about the same number of nodes (roughly 10 million), but the size on disk was very different.&lt;br/&gt;
One segment was 19 GB while all others where around 3 GB. The major difference was the number of fields indexed. The large segment had significantly more fields, which resulted in a large norms file.&lt;br/&gt;
&lt;br/&gt;
We should go through our implementation and see where norms are really necessary and disable tracking of norms wherever possible.</description>
                <environment></environment>
            <key id="12548500">JCR-3282</key>
            <summary>Optimize usage of norms</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="alex.parvulescu">Alex Parvulescu</assignee>
                                <reporter username="alex.parvulescu">Alex Parvulescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Mar 2012 15:37:34 +0100</created>
                <updated>Fri, 3 Aug 2012 09:31:21 +0100</updated>
                    <resolved>Fri, 13 Apr 2012 16:59:57 +0100</resolved>
                                            <fixVersion>2.5</fixVersion>
                                <component>indexing</component>
                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="13240452" author="alex.parvulescu" created="Wed, 28 Mar 2012 15:41:22 +0100"  >attaching proposed patch.&lt;br/&gt;
&lt;br/&gt;
Based on the indexing config we know if a field has its boost changed or not, so if a field has no boost setting we can safely disable norms.</comment>
                    <comment id="13245247" author="alex.parvulescu" created="Tue, 3 Apr 2012 13:09:48 +0100"  >I&amp;#39;ve had some issues with a test (IndexingRuleTest#testBoost), it failed a few times.&lt;br/&gt;
The sort seemed to not be stable, the field that had no initial boost (so no norms) kept moving from the first position to the last, messing with the test result.&lt;br/&gt;
Now it seems ok.&lt;br/&gt;
&lt;br/&gt;
Fixed in revision 1308833.</comment>
                    <comment id="13253491" author="alex.parvulescu" created="Fri, 13 Apr 2012 16:54:51 +0100"  >the patch was insufficient, I missed some norm creation code</comment>
                    <comment id="13253495" author="alex.parvulescu" created="Fri, 13 Apr 2012 17:01:07 +0100"  >tweaked LazyTextExtractorField so it doesn&amp;#39;t add norms unless it&amp;#39;s needed.&lt;br/&gt;
&lt;br/&gt;
fixed in revision 1308833 and 1325820.</comment>
                </comments>
                    <attachments>
                    <attachment id="12520271" name="JCR-3282.patch" size="4302" author="alex.parvulescu" created="Wed, 28 Mar 2012 15:41:21 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>233598</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>280364</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>