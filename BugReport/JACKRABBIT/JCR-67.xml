<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:41:08 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-67/JCR-67.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-67] Node.canAddMixin(String)</title>
                <link>https://issues.apache.org/jira/browse/JCR-67</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>after the spec this method must return false if the node is locked.</description>
                <environment></environment>
            <key id="30940">JCR-67</key>
            <summary>Node.canAddMixin(String)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="vwyser">Vinzenz Wyser</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2005 17:51:42 +0000</created>
                <updated>Mon, 13 Nov 2006 15:40:50 +0000</updated>
                    <resolved>Mon, 13 Nov 2006 15:40:50 +0000</resolved>
                                            <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="60958" author="stefan@jira" created="Wed, 16 Mar 2005 19:23:18 +0000"  >fixed in rev. 157730 </comment>
                    <comment id="12448503" author="dmitrys" created="Thu, 9 Nov 2006 15:41:25 +0000"  >&amp;quot;after the spec this method must return false if the node is locked.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
This is not exactly true, by specification JSR170 at least:&lt;br/&gt;
&lt;br/&gt;
1. In those repositories that support it, locking allows a user to temporarily lock nodes in order to prevent OTHER users from changing them (8.4)&lt;br/&gt;
2. &amp;quot;A lock would prevent the addition of the mixin&amp;quot; () - definetely is not the same as &amp;quot;node is locked&amp;quot;. Just because of (1) - lock may prevent and may allow. (7.4.3)&lt;br/&gt;
3. Effect of a lock - node cannot be changed by anyone except the user who is the token holder for that lock.(8.4.8)&lt;br/&gt;
and 4. More precisely, a lock applying to a node prevents all non-token holders from doing any of the following: [...]&lt;br/&gt;
Adding or removing its mixin node types.&lt;br/&gt;
(same 8.4.8)&lt;br/&gt;
&lt;br/&gt;
So, IMO, the Node.canAddMixin() must return false for non-tocken holders, and work as usual for tocken holders.&lt;br/&gt;
</comment>
                    <comment id="12449190" author="dmitrys" created="Sun, 12 Nov 2006 23:13:38 +0000"  >Hi. &lt;br/&gt;
&lt;br/&gt;
I have comment for the following issue: &lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/jackrabbit-dev@incubator.apache.org/msg00183.html&quot;&gt;http://www.mail-archive.com/jackrabbit-dev@incubator.apache.org/msg00183.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The comment starts here:&lt;br/&gt;
&lt;br/&gt;
&amp;quot;after the spec this method must return false if the node is locked.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
This is not exactly true, by specification JSR170 at least: &lt;br/&gt;
&lt;br/&gt;
1. In those repositories that support it, locking allows a user to&lt;br/&gt;
temporarily lock nodes in order to prevent OTHER users from changing&lt;br/&gt;
them (8.4) &lt;br/&gt;
2. &amp;quot;A lock would prevent the addition of the mixin&amp;quot; () - definetely&lt;br/&gt;
is not the same as &amp;quot;node is locked&amp;quot;. Just because of (1) - lock may&lt;br/&gt;
prevent and may allow. (7.4.3) &lt;br/&gt;
3. Effect of a lock - node cannot be changed by anyone except the&lt;br/&gt;
user who is the token holder for that lock.(8.4.8) &lt;br/&gt;
and 4. More precisely, a lock applying to a node prevents all&lt;br/&gt;
non-token holders from doing any of the following: Adding or removing&lt;br/&gt;
its mixin node types. (same 8.4.8) &lt;br/&gt;
&lt;br/&gt;
So, IMO, the Node.canAddMixin() must return false for non-tocken&lt;br/&gt;
holders, and work as usual for tocken holders. &lt;br/&gt;
&lt;br/&gt;
wbr, dMitry&lt;br/&gt;
</comment>
                    <comment id="12449401" author="stefan@jira" created="Mon, 13 Nov 2006 15:35:38 +0000"  >i agree with dimitry, reopening issue...</comment>
                    <comment id="12449402" author="stefan@jira" created="Mon, 13 Nov 2006 15:40:50 +0000"  >fixed in svn r474372&lt;br/&gt;
&lt;br/&gt;
thanks dmitry for reporting this issue!</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 16 Mar 2005 19:23:18 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>141888</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>192100</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>