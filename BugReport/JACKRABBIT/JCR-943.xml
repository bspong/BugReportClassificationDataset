<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:33 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-943/JCR-943.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-943] SQL Server support in clustering module</title>
                <link>https://issues.apache.org/jira/browse/JCR-943</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>I realize the clustering module doesn&amp;#39;t specifically support SQL Server yet (there&amp;#39;s no mssql.ddl), but I still tried to run the repository against SQL Server with clustering enabled in the hope that the default schema (default.ddl) would suffice. Apparently, it doesn&amp;#39;t (unless I&amp;#39;m doing something very wrong), since I kept getting the following error whenever a write operation was attempted:&lt;br/&gt;
&lt;br/&gt;
2007-05-25 14:48:06,757 WARN  [org.apache.jackrabbit.core.journal.DatabaseJournal] Error while rolling back connection: You cannot rollback with autocommit set!&lt;br/&gt;
2007-05-25 14:48:06,757 ERROR [org.apache.jackrabbit.core.cluster.ClusterNode] Unable to commit log entry.&lt;br/&gt;
org.apache.jackrabbit.core.journal.JournalException: Unable to append revision 1090.&lt;br/&gt;
	at org.apache.jackrabbit.core.journal.DatabaseJournal.append&lt;br/&gt;
	at org.apache.jackrabbit.core.journal.AppendRecord.update(AppendRecord.java:242)&lt;br/&gt;
	at org.apache.jackrabbit.core.cluster.ClusterNode$WorkspaceUpdateChannel.updateCommitted(ClusterNode.java:530)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.SharedItemStateManager$Update.end(SharedItemStateManager.java:725)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.SharedItemStateManager.update(SharedItemStateManager.java:855)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.LocalItemStateManager.update(LocalItemStateManager.java:326)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.XAItemStateManager.update(XAItemStateManager.java:313)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.LocalItemStateManager.update(LocalItemStateManager.java:302)&lt;br/&gt;
	at org.apache.jackrabbit.core.state.SessionItemStateManager.update(SessionItemStateManager.java:306)&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.save(ItemImpl.java:1214)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.save(SessionImpl.java:849)&lt;br/&gt;
Caused by: java.sql.DataTruncation: Data truncation&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:379)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2781)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2224)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:628)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.JtdsStatement.processResults(JtdsStatement.java:525)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:487)&lt;br/&gt;
	at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.execute(JtdsPreparedStatement.java:475)&lt;br/&gt;
	at org.jboss.resource.adapter.jdbc.WrappedPreparedStatement.execute(WrappedPreparedStatement.java:183)&lt;br/&gt;
	at org.apache.jackrabbit.core.journal.DatabaseJournal.append&lt;br/&gt;
	... 58 more&lt;br/&gt;
&lt;br/&gt;
However, I think I got things working by using a modified version of default.ddl, with the only change being the type of the REVISION_DATA field (varbinary -&amp;gt; IMAGE).</description>
                <environment>SQL Server 2000 SP3, JTDS 1.2 driver</environment>
            <key id="12370251">JCR-943</key>
            <summary>SQL Server support in clustering module</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jukkaz">Jukka Zitting</assignee>
                                <reporter username="hemanta.gupta">Hemanta Gupta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 May 2007 10:53:40 +0100</created>
                <updated>Tue, 15 Jan 2008 23:26:42 +0000</updated>
                    <resolved>Fri, 25 May 2007 12:00:11 +0100</resolved>
                                            <fixVersion>1.4</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12499013" author="hemanta.gupta" created="Fri, 25 May 2007 10:54:57 +0100"  >Attaching modified version of default.ddl which seems to work on SQL Server.</comment>
                    <comment id="12499036" author="jukkaz" created="Fri, 25 May 2007 12:00:06 +0100"  >Committed the schema file in revision 541614. Thanks for the contribution!&lt;br/&gt;
&lt;br/&gt;
The commit failure was caused by another issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-913&quot; title=&quot;DatabaseJournal.checkSchema generates &amp;quot;Cannot call commit when autocommit=true&amp;quot; Exception&quot;&gt;&lt;strike&gt;JCR-913&lt;/strike&gt;&lt;/a&gt;) that was fixed in trunk just yesterday. The failure can also be worked around by manually creating the journal schema.</comment>
                </comments>
                    <attachments>
                    <attachment id="12358213" name="mssql.ddl" size="593" author="hemanta.gupta" created="Fri, 25 May 2007 10:54:57 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 25 May 2007 11:00:06 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142439</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279667</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>