<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:45:06 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-391/JCR-391.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-391] WebDAV method invocation trying to create a new resource should fail with 409 (Conflict) if parent resource does not exist</title>
                <link>https://issues.apache.org/jira/browse/JCR-391</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>This is Litmus test case copy_nodestcoll. An attempt is made to COPY an existing resource to a new location, where the parent collection of the resource-to-be-created does not exist. RFC2518 asks for status code 409 (Conflict) instead of 403 (Forbidden) in this case.&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12331855">JCR-391</key>
            <summary>WebDAV method invocation trying to create a new resource should fail with 409 (Conflict) if parent resource does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Apr 2006 18:56:56 +0100</created>
                <updated>Fri, 26 May 2006 10:14:37 +0100</updated>
                    <resolved>Thu, 13 Apr 2006 15:31:17 +0100</resolved>
                            <version>1.0</version>
                                <fixVersion>1.0.1</fixVersion>
                                <component>jackrabbit-webdav</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12373837" author="anchela" created="Mon, 10 Apr 2006 19:19:51 +0100"  >hi julian&lt;br/&gt;
&lt;br/&gt;
if i remember correctly, the reason for this is that JSR170 does not allow to perform a &amp;#39;shallow&amp;#39; copy.&lt;br/&gt;
the conflict would be detected by the javax.jcr.Workspace#copy therefore no additional check for existing parent is performed.&lt;br/&gt;
&lt;br/&gt;
If you think this is worth an extra check, i would add it to the AbstractWebdavServlet, where some basic validation of the destination is done.&lt;br/&gt;
&lt;br/&gt;
regards&lt;br/&gt;
angela</comment>
                    <comment id="12373842" author="reschke" created="Mon, 10 Apr 2006 20:43:29 +0100"  >Angela,&lt;br/&gt;
&lt;br/&gt;
confirmed: modifying the Litmus test case to use Depth: Infinity shows that in this case the correct response code is returned. Will investigate further.&lt;br/&gt;
&lt;br/&gt;
Best regards, &lt;br/&gt;
&lt;br/&gt;
Julian </comment>
                    <comment id="12374214" author="reschke" created="Thu, 13 Apr 2006 01:42:22 +0100"  >OK, as Angela pointed out, this is because Litmus is trying a shallow copy, which currently isn&amp;#39;t implemented. Returning 403 in this case is correct.&lt;br/&gt;
&lt;br/&gt;
However, there seems to be a very simple workaround which does not only make Litmus happy, but may also help in some real-world cases: only reject the request here if the source resource indeed is a collection (otherwise WebDAV semantics for Depth: 0 and Depth: Infinity are identical).&lt;br/&gt;
&lt;br/&gt;
(attached)</comment>
                    <comment id="12374305" author="anchela" created="Thu, 13 Apr 2006 15:31:17 +0100"  >applied patch as is (rev. 393731)&lt;br/&gt;
&lt;br/&gt;
thanks for your effort&lt;br/&gt;
</comment>
                    <comment id="12413337" author="jukkaz" created="Fri, 26 May 2006 10:14:37 +0100"  >Merged for 1.0.1 in revision 409539.</comment>
                </comments>
                    <attachments>
                    <attachment id="12325252" name="diff.txt" size="957" author="reschke" created="Thu, 13 Apr 2006 01:42:22 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 10 Apr 2006 18:19:51 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80447</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>253493</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>