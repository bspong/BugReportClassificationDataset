<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:44:47 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-3014/JCR-3014.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-3014] Identifier paths for inexistent items throw exception</title>
                <link>https://issues.apache.org/jira/browse/JCR-3014</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The following fails with a RepositoryException but it should rather return false:&lt;br/&gt;
&lt;br/&gt;
session.itemExists(&amp;quot;[&amp;quot; + UUID.randomUUID() + &amp;quot;]&amp;quot;)</description>
                <environment></environment>
            <key id="12513109">JCR-3014</key>
            <summary>Identifier paths for inexistent items throw exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 09:43:47 +0100</created>
                <updated>Tue, 8 Nov 2011 15:56:08 +0000</updated>
                    <resolved>Fri, 15 Jul 2011 22:20:04 +0100</resolved>
                                            <fixVersion>2.3</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13063964" author="alex.parvulescu" created="Tue, 12 Jul 2011 16:55:25 +0100"  >the fix isn&amp;#39;t good enough. &lt;br/&gt;
this should fix *only* identifier paths, not all non-existant paths which have to throw an exception.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll rollback the changes</comment>
                    <comment id="13063986" author="alex.parvulescu" created="Tue, 12 Jul 2011 17:44:33 +0100"  >ok, I didn&amp;#39;t do a full rollback after all. I just removed the part that checks properties.&lt;br/&gt;
&lt;br/&gt;
I got confused by the failing test [0]. But the problem is that I&amp;#39;m not sure if that the test is actually ok: NamespaceRemappingTest.testExceptionOnUnknownPrefix(NamespaceRemappingTest.java:174) [1].&lt;br/&gt;
It relies on session.propertyExists to throw an exception if a property does not exist, but the api [2] states that is will throw an exception only if the path is &amp;quot;not a well-formed absolute path&amp;quot;&lt;br/&gt;
&lt;br/&gt;
So in the case where you have a well-formed absolute path that does not exist, you&amp;#39;ll still get an error, which does not feel right. We can fix that too, but then the test [1] will break.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
[0] &lt;a href=&quot;https://builds.apache.org/job/Jackrabbit-trunk/org.apache.jackrabbit$jackrabbit-core/1580/testReport/junit/org.apache.jackrabbit.test.api/NamespaceRemappingTest/testExceptionOnUnknownPrefix/&quot;&gt;https://builds.apache.org/job/Jackrabbit-trunk/org.apache.jackrabbit$jackrabbit-core/1580/testReport/junit/org.apache.jackrabbit.test.api/NamespaceRemappingTest/testExceptionOnUnknownPrefix/&lt;/a&gt;&lt;br/&gt;
[1] &lt;a href=&quot;http://svn.apache.org/viewvc/jackrabbit/trunk/jackrabbit-jcr-tests/src/main/java/org/apache/jackrabbit/test/api/NamespaceRemappingTest.java?view=markup&quot;&gt;http://svn.apache.org/viewvc/jackrabbit/trunk/jackrabbit-jcr-tests/src/main/java/org/apache/jackrabbit/test/api/NamespaceRemappingTest.java?view=markup&lt;/a&gt;&lt;br/&gt;
[2] &lt;a href=&quot;http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html#propertyExists(java.lang.String)&quot;&gt;http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html#propertyExists(java.lang.String)&lt;/a&gt;&lt;br/&gt;
</comment>
                    <comment id="13064650" author="stefan@jira" created="Wed, 13 Jul 2011 17:07:33 +0100"  >i don&amp;#39;t agree with the current changes. &lt;br/&gt;
&lt;br/&gt;
IMO we should fix the IdentifierResolver interface and its implementations instead.&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public Path getPath(String identifier) throws MalformedPathException;&lt;br/&gt;
&lt;br/&gt;
should be changed to &lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public Path getPath(String identifier) throws ItemNotFoundException, MalformedIdentifierException;&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="13064695" author="alex.parvulescu" created="Wed, 13 Jul 2011 17:54:37 +0100"  >ok, I did a full rollback. this needs more thought.&lt;br/&gt;
&lt;br/&gt;
I didn&amp;#39;t really like the fact that in a lot of places the actual error is wrapped into a repository exception and then thrown again.&lt;br/&gt;
so this seemed the easiest way to handle the problem.&lt;br/&gt;
&lt;br/&gt;
your solution is more involved, there will be a lot of changes, but I guess in the in the end a cleaner api is more beneficial.&lt;br/&gt;
&lt;br/&gt;
also, by &amp;#39;MalformedIdentifierException&amp;#39; do you mean creating a new exception class?</comment>
                    <comment id="13066212" author="stefan@jira" created="Fri, 15 Jul 2011 22:14:47 +0100"  >&amp;gt; your solution is more involved, there will be a lot of changes&lt;br/&gt;
&lt;br/&gt;
you&amp;#39;re right. i&amp;#39;ve chosen a simpler approach now. it&amp;#39;s not very elegant&lt;br/&gt;
but it solves the problem with minimal risk of regressions and all&lt;br/&gt;
existing tests passing.</comment>
                    <comment id="13066217" author="stefan@jira" created="Fri, 15 Jul 2011 22:20:04 +0100"  >fixed in revision 1147320.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 12 Jul 2011 15:55:25 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>67927</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190856</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>