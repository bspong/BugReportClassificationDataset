<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:34:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2832/JCR-2832.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2832] Crash when adding node to cluster with big journal on PSQL DB</title>
                <link>https://issues.apache.org/jira/browse/JCR-2832</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>When adding a new node to a cluster with big journal on PSQL database application runs out of memory on the new node and crashes (no exception, application exits with code 137).&lt;br/&gt;
It&amp;#39;s because with PSQL, when no fetchSize is specified, all the results of query are loaded into memory before being passed to application. Furthermore, specification of fetchSize only works in transactional mode and have no effect if autoCommit is true. (these are configured in ConnectionHelper)</description>
                <environment>Clustering with database journal using PSQL</environment>
            <key id="12492613">JCR-2832</key>
            <summary>Crash when adding node to cluster with big journal on PSQL DB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jukkaz">Jukka Zitting</assignee>
                                <reporter username="omilani">Omid Milani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Dec 2010 12:29:33 +0000</created>
                <updated>Tue, 4 Oct 2011 09:39:11 +0100</updated>
                    <resolved>Tue, 18 Jan 2011 16:17:57 +0000</resolved>
                            <version>2.1.2</version>
                                <fixVersion>2.2.2</fixVersion>
                                <component>clustering</component>
                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                    <timeestimate seconds="3600">1h</timeestimate>
                                  <comments>
                    <comment id="12968704" author="omilani" created="Tue, 7 Dec 2010 12:43:17 +0000"  >The way I solved this, but it&amp;#39;s not very clean and possibly can cause side effects. batchMode on connHelper is required to connect to PSQL in transactional mode, this can cause problem if DatabaseJournal.conHelper is used meanwhile for writing to DB.&lt;br/&gt;
Then, there&amp;#39;s explicit specification of fetchMode in ConnectionHelper.reallyExec, which would be called for all database interactions, I couldn&amp;#39;t find a better way to just call it for connection used for doSync. It seems harmless, but I&amp;#39;m not sure, also the size I have used (10000) may not be the best.</comment>
                    <comment id="12983245" author="jukkaz" created="Tue, 18 Jan 2011 16:17:57 +0000"  >Nice, thanks! Patch committed in revision 1060431. See also revision 1060434 for minor improvements.&lt;br/&gt;
&lt;br/&gt;
Merged to the 2.2 branch in revision 1060445.</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12525496">JCR-3090</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12465688" name="jackrabbit-cluster-outofmem.patch" size="2038" author="omilani" created="Tue, 7 Dec 2010 12:43:17 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 18 Jan 2011 16:17:57 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>44228</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>250316</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>