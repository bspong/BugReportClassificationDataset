<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:37:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-179/JCR-179.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-179] PROPPATCH in simple webdav server failing with 403 Forbidden error</title>
                <link>https://issues.apache.org/jira/browse/JCR-179</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>&lt;br/&gt;
i&amp;#39;ve configured the import-collection chain (called via MKCOL) to add nodes with the node type &amp;quot;dav:collection&amp;quot;, which is defined as such:&lt;br/&gt;
&lt;br/&gt;
NodeTypeName&lt;br/&gt;
&amp;nbsp;&amp;nbsp;dav:collection&lt;br/&gt;
SuperTypes&lt;br/&gt;
&amp;nbsp;&amp;nbsp;nt:folder&lt;br/&gt;
IsMixin&lt;br/&gt;
&amp;nbsp;&amp;nbsp;false&lt;br/&gt;
HasOrderableChildNodes&lt;br/&gt;
&amp;nbsp;&amp;nbsp;false&lt;br/&gt;
PrimaryItemName&lt;br/&gt;
&amp;nbsp;&amp;nbsp;null&lt;br/&gt;
PropertyDef&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Name *&lt;br/&gt;
&amp;nbsp;&amp;nbsp;RequiredType UNDEFINED&lt;br/&gt;
&amp;nbsp;&amp;nbsp;DefaultValues null&lt;br/&gt;
&amp;nbsp;&amp;nbsp;AutoCreate false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Mandatory false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;OnParentVersion COPY&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Protected false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Multiple false&lt;br/&gt;
PropertyDef&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Name *&lt;br/&gt;
&amp;nbsp;&amp;nbsp;RequiredType UNDEFINED&lt;br/&gt;
&amp;nbsp;&amp;nbsp;DefaultValues null&lt;br/&gt;
&amp;nbsp;&amp;nbsp;AutoCreate false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Mandatory false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;OnParentVersion COPY&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Protected false&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Multiple true&lt;br/&gt;
&lt;br/&gt;
the idea is that i should be able to set arbitrary webdav properties (single- or multi-value) on a webdav collection.&lt;br/&gt;
&lt;br/&gt;
when i use cadaver to mkcol a collection (creating a jcr node of type dav:collection) and then try to propset an arbitrary property on that collection (which as i understand it would set a jcr property of the same name on the dav:collection node), i get a 403 Forbidden error:&lt;br/&gt;
&lt;br/&gt;
dav:/home/&amp;gt; mkcol hi&lt;br/&gt;
Creating `hi&amp;#39;: succeeded.&lt;br/&gt;
&lt;br/&gt;
dav:/home/&amp;gt; propset hi hi hi&lt;br/&gt;
Setting property on `hi&amp;#39;: failed:&lt;br/&gt;
403 Forbidden&lt;br/&gt;
&lt;br/&gt;
it&amp;#39;s not clear to me if i&amp;#39;m using cadaver incorrectly, misunderstanding the PROPPATCH implementation, or both :) </description>
                <environment></environment>
            <key id="12313241">JCR-179</key>
            <summary>PROPPATCH in simple webdav server failing with 403 Forbidden error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="bcm">Brian Moseley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Aug 2005 17:17:53 +0100</created>
                <updated>Mon, 3 Oct 2005 23:44:21 +0100</updated>
                    <resolved>Thu, 11 Aug 2005 00:31:26 +0100</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12318283" author="bcm" created="Wed, 10 Aug 2005 17:58:31 +0100"  >it turns out that i was in fact using cadaver correctly. cadaver&amp;#39;s default namespace is &amp;quot;DAV:&amp;quot;, which of course is not registered in the repository. so the webdav server was throwing a NamespaceException when trying to formulate the jcr name for &amp;quot;DAV:hi&amp;quot;. cadaver didn&amp;#39;t report the response description to me until i figured out how to turn on http-level debugging.&lt;br/&gt;
&lt;br/&gt;
the correct way to set the property is to set the cadaver namespace to be one that is registered in the repository, then create the property in that namespace:&lt;br/&gt;
&lt;br/&gt;
dav:/home/&amp;gt; set namespace &lt;a href=&quot;http://osafoundation.org/jcr/dav/1.0&quot;&gt;http://osafoundation.org/jcr/dav/1.0&lt;/a&gt;&lt;br/&gt;
dav:/home/&amp;gt; propset hi myprop abc123&lt;br/&gt;
dav:/home/&amp;gt; propget hi myprop&lt;br/&gt;
Value of myprop is: abc123&lt;br/&gt;
&lt;br/&gt;
this begs the question: since webdav servers are required by rfc 2518 to store the values of dead properties, shouldn&amp;#39;t jcr-server attempt to register unknown namespaces rather than returning 403 Forbidden?</comment>
                    <comment id="12318284" author="bcm" created="Wed, 10 Aug 2005 18:00:08 +0100"  >er, the first sentence of the previous comment should read &amp;quot;it turns out that i was in fact *not* using cadaver correctly&amp;quot;.</comment>
                    <comment id="12318317" author="anchela" created="Wed, 10 Aug 2005 21:51:57 +0100"  >&amp;gt; shouldn&amp;#39;t jcr-server attempt to register unknown namespaces rather than returning 403 Forbidden&lt;br/&gt;
&lt;br/&gt;
it probably should.</comment>
                    <comment id="12318339" author="anchela" created="Thu, 11 Aug 2005 00:31:26 +0100"  >fixed.&lt;br/&gt;
&lt;br/&gt;
if the namespace of a dav-property has not been registered before, an attempt is made to register it.&lt;br/&gt;
please note, that this still may fail due to a non-unique prefix or due to another error (e.g. missing access rights); i that situation PROPPATCH will fail.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 10 Aug 2005 20:51:57 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>141992</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190570</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>