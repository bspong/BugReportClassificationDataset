<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:41:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-84/JCR-84.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-84] WebDAV LocatorFactoryImpl$Locator.getHref() constructs root resource URLs incorrectly</title>
                <link>https://issues.apache.org/jira/browse/JCR-84</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>cadaver was reporting an error when i tried to open / in my repository&amp;#39;s default workspace at &amp;lt;&lt;a href=&quot;https://localhost:8443/webdav/)&quot;&gt;https://localhost:8443/webdav/)&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
in tracking down the problem, i saw something strange - the multistatus response&amp;#39;s href had an extra &amp;quot;/&amp;quot; tacked onto the end:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;D:multistatus xmlns:D=&amp;quot;DAV:&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;D:response&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;D:href&amp;gt;&lt;a href=&quot;https://localhost:8443/webdav//&amp;lt;/D:href&quot;&gt;https://localhost:8443/webdav//&amp;amp;lt;/D:href&lt;/a&gt;&amp;gt;&lt;br/&gt;
&lt;br/&gt;
WebdavServlet (rather, my subclass of it) is mapped as the default servlet of a webapp mounted at /webdav. i&amp;#39;ve configured the WebdavServlet with a resource path prefix of &amp;quot;&amp;quot; (incidentally, i&amp;#39;m not sure what that&amp;#39;s meant to be used for - i see that when the value is not empty, it&amp;#39;s appended to the response&amp;#39;s href, but i don&amp;#39;t know in what circumstance that would be useful).&lt;br/&gt;
&lt;br/&gt;
when i requested a child node such as &amp;lt;&lt;a href=&quot;https://localhost:8443/webdav/bcm&amp;gt;,&quot;&gt;https://localhost:8443/webdav/bcm&amp;amp;gt;,&lt;/a&gt; the response&amp;#39;s href was formed as expected:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;D:multistatus xmlns:D=&amp;quot;DAV:&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;D:response&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;D:href&amp;gt;&lt;a href=&quot;https://localhost:8443/webdav/bcm/&amp;lt;/D:href&quot;&gt;https://localhost:8443/webdav/bcm/&amp;amp;lt;/D:href&lt;/a&gt;&amp;gt;&lt;br/&gt;
&lt;br/&gt;
i found that LocatorFactoryImpl$Locator.getHref() was adding the extra &amp;quot;/&amp;quot; since the requested resource was a collection. i patched the method to not add the character when itemPath == &amp;quot;/&amp;quot;, and cadaver stopped complaining. all is well.&lt;br/&gt;
&lt;br/&gt;
i also patched WebdavServlet to default to an empty resource path prefix if one is not specified as a servlet init parameter.&lt;br/&gt;
</description>
                <environment>OS X 10.3.8 - cadaver 0.20.5 (client), Tomcat 5.0.28 (server)&lt;br/&gt;
</environment>
            <key id="31228">JCR-84</key>
            <summary>WebDAV LocatorFactoryImpl$Locator.getHref() constructs root resource URLs incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="bcm">Brian Moseley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Mar 2005 09:12:27 +0100</created>
                <updated>Fri, 1 Apr 2005 03:25:31 +0100</updated>
                    <resolved>Fri, 1 Apr 2005 03:23:30 +0100</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="61678" author="bcm" created="Tue, 29 Mar 2005 09:13:35 +0100"  >enclosed patch referenced in issue description.</comment>
                    <comment id="61706" author="anchela" created="Tue, 29 Mar 2005 18:23:54 +0100"  >thanks for reporting. i will look at it.&lt;br/&gt;
&lt;br/&gt;
tobi, could you accept that bug, so its marked as being worked on? merci.</comment>
                    <comment id="61708" author="fielding" created="Tue, 29 Mar 2005 18:34:57 +0100"  >Angela volunteered</comment>
                    <comment id="61750" author="anchela" created="Wed, 30 Mar 2005 02:55:53 +0100"  >fixed with minor modification as suggested. i added a comment, that&lt;br/&gt;
in general the handling of the root item needs some improvement... i will think about that more carefully.&lt;br/&gt;
&lt;br/&gt;
tobi? min-fadlika ya sadiiqii...., would you do me a favour and commit the changes (day-rev: 13805)?&lt;br/&gt;
&lt;br/&gt;
anchela&lt;br/&gt;
</comment>
                    <comment id="61898" author="anchela" created="Fri, 1 Apr 2005 03:23:30 +0100"  >rev: 159607</comment>
                </comments>
                    <attachments>
                    <attachment id="19400" name="location.patch" size="1282" author="bcm" created="Tue, 29 Mar 2005 09:13:28 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 29 Mar 2005 17:23:54 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>141903</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189736</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>