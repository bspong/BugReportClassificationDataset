<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:59:36 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1693/JCR-1693.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1693] JNDIDatabaseJournal doesn&apos;t work with &quot;oracle&quot; schema (or: unable to use OracleDatabaseJournal with a jndi datasource)</title>
                <link>https://issues.apache.org/jira/browse/JCR-1693</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Database journal works fine on oracle when using the OracleDatabaseJournal implementation; but when you need to use a jndi datasource you actually need to use org.apache.jackrabbit.core.journal.JNDIDatabaseJournal which doesn&amp;#39;t work fine with the &amp;quot;oracle&amp;quot; schema.&lt;br/&gt;
&lt;br/&gt;
With the following configuration:&lt;br/&gt;
&amp;lt;Cluster id=&amp;quot;node1&amp;quot; syncDelay=&amp;quot;10&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;Journal class=&amp;quot;org.apache.jackrabbit.core.journal.JNDIDatabaseJournal&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;param name=&amp;quot;schema&amp;quot; value=&amp;quot;oracle&amp;quot; /&amp;gt;&lt;br/&gt;
&lt;br/&gt;
jackrabbit crashes at startup with a not well defined sql error. Investigating on the problem I see that the &amp;quot;oracle.ddl&amp;quot; file contains a &amp;quot;tablespace&amp;quot; variable that is replaced only by the OracleDatabaseJournal implementation.&lt;br/&gt;
&lt;br/&gt;
As a workaround users can create a different ddl without a tablespace variable, but this should probably work better out of the box.&lt;br/&gt;
&lt;br/&gt;
WDYT about one of the following solutions?&lt;br/&gt;
- make the base DatabaseJournal implementation support jndi datasource just like PersistenceManagers do (without a specific configuration property but specifying a jndi location in the url property)&lt;br/&gt;
- move the replacement of the tablespace variable (and maybe: add a generic replacement of *any* parameter found in the databaseJournal configuration) to the main DatabaseJournal implementation. This could be handy and it will make the OracleDatabaseJournal extension useless, but I see that at the moment there can be a problem with the MsSql implementation, since it adds &amp;quot;on &amp;quot; to the tablespace name only when it&amp;#39;s not set to an empty string.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12401098">JCR-1693</key>
            <summary>JNDIDatabaseJournal doesn&apos;t work with &quot;oracle&quot; schema (or: unable to use OracleDatabaseJournal with a jndi datasource)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="fgiust">fabrizio giustina</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jul 2008 08:42:14 +0100</created>
                <updated>Thu, 2 May 2013 03:29:21 +0100</updated>
                    <resolved>Mon, 9 Mar 2009 12:21:04 +0000</resolved>
                            <version>core 1.4.5</version>
                                <fixVersion>1.5</fixVersion>
                                <component>clustering</component>
                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12680134" author="martijnh" created="Mon, 9 Mar 2009 12:21:04 +0000"  >This issue has the same cause as &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1309&quot; title=&quot;Refactor DBMS support for JNDI datasources&quot;&gt;&lt;strike&gt;JCR-1309&lt;/strike&gt;&lt;/a&gt;, which has been fixed in 1.5.0. As of that version you can configure the OracleDatabaseJournal using a JNDI resource (see details at &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1309&quot; title=&quot;Refactor DBMS support for JNDI datasources&quot;&gt;&lt;strike&gt;JCR-1309&lt;/strike&gt;&lt;/a&gt;).</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                <outwardlinks description="depends upon">
                            <issuelink>
            <issuekey id="12386191">JCR-1309</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 9 Mar 2009 12:21:04 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78455</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190227</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>