<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:34:03 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2138/JCR-2138.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2138] Prevent persistence of faulty back-references</title>
                <link>https://issues.apache.org/jira/browse/JCR-2138</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The SharedItemStateManager updates reference data. Sometimes the back-references to reference properties are not updated correctly with the result that nodes cannot removed anymore. The attached patch contains JUnit test cases and a possible solution.</description>
                <environment></environment>
            <key id="12427622">JCR-2138</key>
            <summary>Prevent persistence of faulty back-references</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="martijnh">Martijn Hendriks</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jun 2009 09:40:08 +0100</created>
                <updated>Wed, 5 Aug 2009 16:05:57 +0100</updated>
                    <resolved>Mon, 29 Jun 2009 08:47:33 +0100</resolved>
                            <version>core 1.4.5</version>
                                <fixVersion>1.5.7</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12718354" author="martijnh" created="Thu, 11 Jun 2009 09:48:42 +0100"  >The patch works in such a way that reference properties with the same id which are added in two sessions at the same time do not collide (i.e., the last save wins and no exception is thrown). This is the same behavior as before, except for that the externally added references are now first removed which keeps the back-reference data in good shape. The alternative is to throw an ItemStateException. I also tried that but then a versioning related test failed (the RestoreAndCheckoutTest).</comment>
                    <comment id="12723986" author="mreutegg" created="Thu, 25 Jun 2009 10:54:30 +0100"  >+1 looks good&lt;br/&gt;
&lt;br/&gt;
just one minor issue with the patch. it introduces a svn:keyword property on the test class. please remove it before committing the patch.</comment>
                    <comment id="12724092" author="martijnh" created="Thu, 25 Jun 2009 15:00:41 +0100"  >Marcel, thanks for your comment. I&amp;#39;ll commit the patch shortly without the svn props.</comment>
                    <comment id="12725071" author="martijnh" created="Mon, 29 Jun 2009 08:47:33 +0100"  >Committed patch in revision: 789245.&lt;br/&gt;
</comment>
                    <comment id="12728089" author="jukkaz" created="Tue, 7 Jul 2009 14:25:10 +0100"  >Merged to the 1.x branch in revision 791827.</comment>
                    <comment id="12731475" author="jukkaz" created="Wed, 15 Jul 2009 15:40:13 +0100"  >Merged to the 1.5 branch in revision 794288.</comment>
                </comments>
                    <attachments>
                    <attachment id="12410369" name="JCR-2138.patch" size="11779" author="martijnh" created="Thu, 11 Jun 2009 09:41:36 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 25 Jun 2009 09:54:30 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78325</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>252582</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>