<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:29:44 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-405/JCR-405.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-405] PROPPATCH doesn&apos;t respect document order</title>
                <link>https://issues.apache.org/jira/browse/JCR-405</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>PROPPATCH is currently implemented in terms of DavResource.alterProperties(...), which takes a set of properties to be set and a set of properties to be removed. This is not sufficient to model WebDAV&amp;#39;s method semantics, as the order in which set/remove instructions appear is supposed to be relevant.&lt;br/&gt;
&lt;br/&gt;
I have submitted a patch to the Litmus mailing list checking this (see &amp;lt;&lt;a href=&quot;http://mailman.webdav.org/pipermail/litmus/2006-April/000196.html&amp;gt;)&quot;&gt;http://mailman.webdav.org/pipermail/litmus/2006-April/000196.html&amp;amp;gt;)&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
In jcr-server, alterProperties probably should be changed to take an (ordered) list of set/remove instructions instead. The simplest approach for that would probably be to use a List containing either DavProperty (set) or DavPropertyName (remove) objects.&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12332358">JCR-405</key>
            <summary>PROPPATCH doesn&apos;t respect document order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Apr 2006 19:50:05 +0100</created>
                <updated>Fri, 13 Oct 2006 17:08:51 +0100</updated>
                    <resolved>Fri, 28 Apr 2006 18:07:36 +0100</resolved>
                            <version>1.0</version>
                                <fixVersion>1.0.1</fixVersion>
                                <component>jackrabbit-webdav</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12375133" author="anchela" created="Wed, 19 Apr 2006 22:10:45 +0100"  >(second try, sorry if the first comment made it anyway to jira)&lt;br/&gt;
&lt;br/&gt;
this would required the following api methods to be change or - perhaps better - deprecated/replaced:&lt;br/&gt;
&lt;br/&gt;
- DavResource#alterProperties&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; method signature&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; ev. mark deprecated and add improved alterProperties method&lt;br/&gt;
&lt;br/&gt;
- DavServerRequest#getPropPatchRemoveProperties&lt;br/&gt;
- DavServerRequest#getPropPatchSetProperties&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; merged to a single method that returns list of sets and removals&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; ev. rather mark those methods deprecated and add improved method.&lt;br/&gt;
&lt;br/&gt;
is there a policy how to handle api changes between releases?&lt;br/&gt;
i had a lot of troubles with jdom and compatibility issues and would wish to avoid such annoyance within jcr-server.&lt;br/&gt;
&lt;br/&gt;
regards&lt;br/&gt;
angela</comment>
                    <comment id="12375578" author="reschke" created="Fri, 21 Apr 2006 22:54:31 +0100"  >Indeed... What&amp;#39;s the strategy for API changes?&lt;br/&gt;
&lt;br/&gt;
Anyway, I&amp;#39;m currently preparing a patch a long the lines of Angela&amp;#39;s proposal (adding new methods, deprecating the old ones). Should be ready early next week.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12376009" author="reschke" created="Mon, 24 Apr 2006 19:29:20 +0100"  >OK,&lt;br/&gt;
&lt;br/&gt;
the attached patch:&lt;br/&gt;
&lt;br/&gt;
- deprecates the old alterProperties method,&lt;br/&gt;
- introduces a new method with List parameter as discussed,&lt;br/&gt;
- implements the deprecated methods in terms of the new call (so we don&amp;#39;t have two differing implementations of basically the same thing),&lt;br/&gt;
- uses the new method in AbstractWebdavServlet.&lt;br/&gt;
&lt;br/&gt;
Best regards, Julian&lt;br/&gt;
</comment>
                    <comment id="12376010" author="reschke" created="Mon, 24 Apr 2006 19:35:09 +0100"  >Sorry, forgot to mention that this change is *not* well tested yet (I&amp;#39;ve verified in the debugger that the code executes as designed, but I currently don&amp;#39;t have a setup with a repository where property modifications are actually supported).&lt;br/&gt;
</comment>
                    <comment id="12376045" author="anchela" created="Mon, 24 Apr 2006 23:10:07 +0100"  >looks good.&lt;br/&gt;
i will perform some tests and commit the modifications.</comment>
                    <comment id="12376910" author="anchela" created="Fri, 28 Apr 2006 18:07:36 +0100"  >Committed revision: 397835  &lt;br/&gt;
&lt;br/&gt;
The following modifications were made to the original patch:&lt;br/&gt;
&lt;br/&gt;
- with jcr package two implementations were missing -&amp;gt; added changed impl for alterProperties&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;and moved the handling of the old-alterProperties method to AbstractResource.&lt;br/&gt;
&lt;br/&gt;
- calling the list entries &amp;#39;item&amp;#39; shadowed an instance field in the &amp;#39;jcr&amp;#39; package.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;since &amp;#39;item&amp;#39; could be misleading due to the fact the jsr170 defines Items, i renamed the variables.&lt;br/&gt;
&lt;br/&gt;
- removed comment on outdated todo (and todo ;)&lt;br/&gt;
&lt;br/&gt;
otherwise it was fine (although removal of extra catch for exception not related to property modification e.g. lock was not part of this issue :)). thanks for the careful work.&lt;br/&gt;
&lt;br/&gt;
regards&lt;br/&gt;
angela&lt;br/&gt;
</comment>
                    <comment id="12413398" author="jukkaz" created="Fri, 26 May 2006 16:41:34 +0100"  >Merged for 1.0.1 in revision 409587.&lt;br/&gt;
&lt;br/&gt;
About the API change: I&amp;#39;m accepting this in the patch release as the main API in this case is the WebDAV PROPPATCH method, whose implementation is corrected by this change. For now I consider the classes in jcr-server internal, so a Java signature change is allowed. We may want to reconsider this approach if a number of people are extending or otherwise depending on the code.</comment>
                </comments>
                    <attachments>
                    <attachment id="12325757" name="diffs.txt" size="25954" author="reschke" created="Mon, 24 Apr 2006 19:29:20 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 19 Apr 2006 21:10:45 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80443</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>253496</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>