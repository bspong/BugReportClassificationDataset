<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:34:14 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1159/JCR-1159.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1159] SPI: improve description of locking methods on RepositoryService</title>
                <link>https://issues.apache.org/jira/browse/JCR-1159</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>in detail:&lt;br/&gt;
&lt;br/&gt;
1) getLockInfo&lt;br/&gt;
&lt;br/&gt;
- intended behavior if no lock is present?&lt;br/&gt;
- intended behavior if locking is not supported?&lt;br/&gt;
&lt;br/&gt;
2) lock&lt;br/&gt;
&lt;br/&gt;
- currently InvalidItemStateException is listed. i don&amp;#39;t think this make too much sense.&lt;br/&gt;
&lt;br/&gt;
3) refreshLock&lt;br/&gt;
&lt;br/&gt;
- intended behavior if locking is not supported?&lt;br/&gt;
&lt;br/&gt;
4) unlock&lt;br/&gt;
&lt;br/&gt;
- currently InvalidItemStateException is listed. i don&amp;#39;t think this make too much sense.</description>
                <environment></environment>
            <key id="12379585">JCR-1159</key>
            <summary>SPI: improve description of locking methods on RepositoryService</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2007 17:43:07 +0100</created>
                <updated>Tue, 15 Jan 2008 23:26:58 +0000</updated>
                    <resolved>Mon, 8 Oct 2007 14:14:21 +0100</resolved>
                                            <fixVersion>1.4</fixVersion>
                                <component>jackrabbit-spi</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12532161" author="anchela" created="Wed, 3 Oct 2007 17:45:06 +0100"  >proposed solution for the listed questions/comments.</comment>
                    <comment id="12532352" author="reschke" created="Thu, 4 Oct 2007 08:41:13 +0100"  >Thanks for the proposal.&lt;br/&gt;
&lt;br/&gt;
Typo:&lt;br/&gt;
&lt;br/&gt;
&amp;quot;* @return returns the &amp;lt;code&amp;gt;LockInfo&amp;lt;/code&amp;gt; associated with the new lock...&amp;quot;&lt;br/&gt;
&lt;br/&gt;
s/returns//&lt;br/&gt;
&lt;br/&gt;
In general, I&amp;#39;d prefer a design where (on the SPI level) we do not throw an exception for things that aren&amp;#39;t exceptions in the program flow. In this case, I&amp;#39;d vote for letting getLockInfo return null if the node is not locked.&lt;br/&gt;
</comment>
                    <comment id="12532375" author="anchela" created="Thu, 4 Oct 2007 11:18:31 +0100"  >up to know we avoided &amp;#39;null&amp;#39; return values in the RepositoryService interface (also in analogy to the JCR interfaces). on the other hand you are right, that asking for the LockInfo on a node should basically not throw an exception if no lock is present.&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;</comment>
                    <comment id="12532376" author="reschke" created="Thu, 4 Oct 2007 11:28:46 +0100"  >In particular, as - in contrast to JCR - we do not have isLocked() etc.&lt;br/&gt;
&lt;br/&gt;
So do we want to make this a general rule for SPI? I guess it would affect more stuff in the repository service...&lt;br/&gt;
</comment>
                    <comment id="12532385" author="anchela" created="Thu, 4 Oct 2007 11:55:48 +0100"  >&amp;gt; I guess it would affect more stuff in the repository service... &lt;br/&gt;
&lt;br/&gt;
i quickly stepped through the interfaces i couldn&amp;#39;t find an additional case where it felt natural to me.&lt;br/&gt;
and the various Info interfaces already allow for null return values in those cases.&lt;br/&gt;
&lt;br/&gt;
do you know of something else?&lt;br/&gt;
&lt;br/&gt;
angela&lt;br/&gt;
&lt;br/&gt;
btw: i think get-whatever-Factory methods on the RepositoryService should throw if they cannot return the required factory, since that would really reveal a fundamental problem... but they can&amp;#39;t at the moment.</comment>
                    <comment id="12533124" author="anchela" created="Mon, 8 Oct 2007 14:14:21 +0100"  >applied patch with modifications suggested by julian (getLockInfo returns null if no lock applies).</comment>
                </comments>
                    <attachments>
                    <attachment id="12367009" name="JCR-1159.patch" size="5310" author="anchela" created="Wed, 3 Oct 2007 17:45:05 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 4 Oct 2007 07:41:13 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142549</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279697</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>