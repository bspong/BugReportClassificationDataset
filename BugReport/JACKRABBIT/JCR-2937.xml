<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:50:05 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2937/JCR-2937.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2937] ACL with glob restrictions does not work on &apos;/&apos;</title>
                <link>https://issues.apache.org/jira/browse/JCR-2937</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>i tried to define a ACL on &amp;#39;/&amp;#39; that would allow &amp;#39;read&amp;#39; on &amp;#39;/&amp;#39; itself, but not for the nodes underneath. i tried &amp;quot;*&amp;quot;, &amp;quot;/*&amp;quot;, &amp;quot;./*&amp;quot; but none of them seem to do the desired effect.&lt;br/&gt;
&lt;br/&gt;
eg:&lt;br/&gt;
everyone,allow,jcr:read, &amp;#39;/&amp;#39;&lt;br/&gt;
everyone,deny,jcr:read, &amp;#39;/&amp;#39;, glob=&amp;quot;/*&amp;quot;&lt;br/&gt;
&lt;br/&gt;
the same works for a non-root node.&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12503806">JCR-2937</key>
            <summary>ACL with glob restrictions does not work on &apos;/&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Apr 2011 02:05:37 +0100</created>
                <updated>Fri, 23 Sep 2011 15:26:30 +0100</updated>
                    <resolved>Tue, 3 May 2011 19:22:01 +0100</resolved>
                            <version>2.2.2</version>
                                <fixVersion>2.2.7</fixVersion>
                                <component>security</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13019709" author="anchela" created="Thu, 14 Apr 2011 08:04:23 +0100"  >use empty string restriction value (see JCR 2700 and GlobPattern)</comment>
                    <comment id="13019714" author="tripod" created="Thu, 14 Apr 2011 08:42:55 +0100"  >from &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2700&quot; title=&quot;Allow for wildcard restriction in resource-based ACEs&quot;&gt;&lt;strike&gt;JCR-2700&lt;/strike&gt;&lt;/a&gt;:&lt;br/&gt;
&lt;br/&gt;
&amp;gt; an empty string restriction forces the ACE to take effect on the node it has been applied. &lt;br/&gt;
&lt;br/&gt;
which means in this case, effect on &amp;#39;/&amp;#39;. but if i want to restrict the subnodes of &amp;#39;/&amp;#39; i can&amp;#39;t express this. but i can for all other nodes than &amp;#39;/&amp;#39;.&lt;br/&gt;
&lt;br/&gt;
eg: using &amp;#39;/*&amp;#39; works but not on &amp;#39;/&amp;#39; which is not intuitive.</comment>
                    <comment id="13019731" author="anchela" created="Thu, 14 Apr 2011 09:33:15 +0100"  >i see... interpreted your initial comment &amp;quot;i tried to define a ACL on &amp;#39;/&amp;#39; that would allow &amp;#39;read&amp;#39; on &amp;#39;/&amp;#39; itself, but not for the nodes underneath&amp;quot; that you want to allow READ on &amp;#39;/&amp;#39; and only &amp;#39;/&amp;#39;. but what you want is &amp;quot;deny READ to subnodes of &amp;#39;/&amp;#39; but not &amp;#39;/&amp;#39;.</comment>
                    <comment id="13019891" author="tripod" created="Thu, 14 Apr 2011 17:22:02 +0100"  >yes. the desired, effective result should be:&lt;br/&gt;
- &amp;quot;everyone&amp;quot; allow read &amp;quot;/&amp;quot; (and it&amp;#39;s properties ?)&lt;br/&gt;
- &amp;quot;everyone&amp;quot; deny read &amp;quot;/*&amp;quot; (all subnodes of &amp;quot;/&amp;quot;)</comment>
                    <comment id="13019897" author="anchela" created="Thu, 14 Apr 2011 17:28:42 +0100"  >the properties get the permission inherited from the node unless there is a restriction matching specifically. &lt;br/&gt;
the jcr:read privilege currently is in our implementation not aggregated and thus does not allow to distinguish between different types of items.&lt;br/&gt;
&lt;br/&gt;
in other word: reading the node includes readability of it&amp;#39;s property with the only exception that the jackrabbit extensions are used and the read access is narrowed by a pattern that only matches a subset of items (nodes or properties)</comment>
                    <comment id="13019905" author="tripod" created="Thu, 14 Apr 2011 17:43:31 +0100"  >does this mean:  &amp;quot;everyone&amp;quot; deny jcr:all read &amp;quot;/*&amp;quot;, denies read to properties of / ?&lt;br/&gt;
if yes, wouldn&amp;#39;t it be better to clearly distinct properties from subnodes in the patterns? eg: &lt;br/&gt;
&lt;br/&gt;
allow jcr:read glob = /jcr:*   (allow all sub nodes start with jcr:*)&lt;br/&gt;
deny jcr:read glob = /@jcr:*   (deny all properties start with jcr:*)&lt;br/&gt;
&lt;br/&gt;
in general, maybe a (simplified) xpath expression would be better suitable to define a set of items instead of globbing patterns.&lt;br/&gt;
</comment>
                    <comment id="13028358" author="anchela" created="Tue, 3 May 2011 19:22:01 +0100"  >&amp;gt; the same works for a non-root node. &lt;br/&gt;
&lt;br/&gt;
not quite. the problem was the &amp;quot;trailing&amp;quot; slash that is present with the root node but&lt;br/&gt;
never with regular node paths.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 14 Apr 2011 07:04:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>59520</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190781</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>