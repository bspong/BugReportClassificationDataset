<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:51:16 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-469/JCR-469.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-469] Problem with child order after restoring of parent</title>
                <link>https://issues.apache.org/jira/browse/JCR-469</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The following sequence leads to swapped child nodes in the mentioned trunk version (this worked in 1.0.1).&lt;br/&gt;
Specifically:&lt;br/&gt;
&lt;br/&gt;
Add nodes:&lt;br/&gt;
&amp;nbsp;parent&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;childA&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;childB&lt;br/&gt;
&lt;br/&gt;
Remove childA:&lt;br/&gt;
&amp;nbsp;parent&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;childB&lt;br/&gt;
&lt;br/&gt;
Restore initial version:&lt;br/&gt;
&amp;nbsp;parent&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;childB&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;childA&lt;br/&gt;
&lt;br/&gt;
The parent node is of type nt:unstructured which carries an&lt;br/&gt;
OrderableChildNodes=true so I would assume that upon restoring the order&lt;br/&gt;
would be preserved.&lt;br/&gt;
&lt;br/&gt;
Cheers,&lt;br/&gt;
Tanju&lt;br/&gt;
&lt;br/&gt;
--------------&lt;br/&gt;
&lt;br/&gt;
TESTCASE used with both Derby &amp;amp; InMemPMs (boiled down beyond sense :)&lt;br/&gt;
&lt;br/&gt;
// Add parent &amp;amp; childA, childB&lt;br/&gt;
Node parent = session.getRootNode().addNode(&amp;quot;parent&amp;quot;, &amp;quot;nt:unstructured&amp;quot;);&lt;br/&gt;
parent.addMixin(&amp;quot;mix:versionable&amp;quot;);&lt;br/&gt;
Node c1 = parent.addNode(&amp;quot;childA&amp;quot;, &amp;quot;nt:unstructured&amp;quot;);&lt;br/&gt;
c1.addMixin(&amp;quot;mix:versionable&amp;quot;);&lt;br/&gt;
Node c2 = parent.addNode(&amp;quot;childB&amp;quot;, &amp;quot;nt:unstructured&amp;quot;);&lt;br/&gt;
c2.addMixin(&amp;quot;mix:versionable&amp;quot;);&lt;br/&gt;
session.save();&lt;br/&gt;
c1.checkin();&lt;br/&gt;
c2.checkin();&lt;br/&gt;
Version v1 = parent.checkin();&lt;br/&gt;
// OK : parent.getNodes() -&amp;gt; childA, childB&lt;br/&gt;
&lt;br/&gt;
// Remove childA&lt;br/&gt;
parent = session.getRootNode().getNode(&amp;quot;parent&amp;quot;);&lt;br/&gt;
parent.checkout();&lt;br/&gt;
c1 = parent.getNodes().nextNode();&lt;br/&gt;
c1.checkout();&lt;br/&gt;
c1.remove();&lt;br/&gt;
session.save();&lt;br/&gt;
Version v2 = parent.checkin();&lt;br/&gt;
// OK : parent.getNodes() -&amp;gt; childA, childB&lt;br/&gt;
&lt;br/&gt;
// Remove childA&lt;br/&gt;
parent = session.getRootNode().getNode(&amp;quot;parent&amp;quot;);&lt;br/&gt;
parent.restore(v1, true);&lt;br/&gt;
// Not OK : parent.getNodes() -&amp;gt; childB, childA</description>
                <environment>jre 1.5.0_05, jackrabbit trunk (416297)</environment>
            <key id="12344793">JCR-469</key>
            <summary>Problem with child order after restoring of parent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tripod">Tobias Bocanegra</assignee>
                                <reporter username="erinmtan">Tanju Erinmez</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jun 2006 00:06:45 +0100</created>
                <updated>Tue, 4 Jul 2006 17:00:20 +0100</updated>
                    <resolved>Fri, 23 Jun 2006 16:14:51 +0100</resolved>
                            <version>0.9</version>
                <version>1.0</version>
                <version>1.0.1</version>
                                <fixVersion>1.1</fixVersion>
                                <component>versioning</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12417437" author="tripod" created="Fri, 23 Jun 2006 16:14:51 +0100"  >fixed.&lt;br/&gt;
&lt;br/&gt;
Date: Fri Jun 23 01:14:31 2006&lt;br/&gt;
New Revision: 416629&lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 23 Jun 2006 15:14:51 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80365</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189896</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>