<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:51:48 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2748/JCR-2748.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2748] provide a (relatively) simple way to disable anonymous access to the security workspace</title>
                <link>https://issues.apache.org/jira/browse/JCR-2748</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>As discussed in this thread: &lt;a href=&quot;http://sling.markmail.org/thread/st52jejjuxykfxtj,&quot;&gt;http://sling.markmail.org/thread/st52jejjuxykfxtj,&lt;/a&gt; the security workspace is, by default, configured with an AccessControlProvider which provides a fixed access control policy (i.e. o.a.j.core.security.user.UserAccessControlProvider). In order to prevent anonymous access to security-related nodes requires the use of an alternate AccessControlProvider.&lt;br/&gt;
&lt;br/&gt;
The attached patch provides a simpler mechanism. By adding&lt;br/&gt;
&lt;br/&gt;
&amp;lt;param name=&amp;quot;anonymousAccessToSecurityWorkspace&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;&lt;br/&gt;
&lt;br/&gt;
to the configuration of the DefaultSecurityManager, anonymous access to the security workspace is forbidden.&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12474107">JCR-2748</key>
            <summary>provide a (relatively) simple way to disable anonymous access to the security workspace</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Sep 2010 19:56:44 +0100</created>
                <updated>Tue, 8 Nov 2011 15:52:06 +0000</updated>
                    <resolved>Tue, 12 Oct 2010 16:39:31 +0100</resolved>
                                            <fixVersion>2.2</fixVersion>
                                <component>jackrabbit-core</component>
                <component>security</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12909384" author="justinedelson" created="Tue, 14 Sep 2010 19:58:33 +0100"  >patch</comment>
                    <comment id="12917515" author="anchela" created="Mon, 4 Oct 2010 09:14:01 +0100"  >i would rather add a configuration option to this specific access control provider (similar to the other providers). &lt;br/&gt;
the patch adding the config option to the security manager seems wrong to me. &lt;br/&gt;
&lt;br/&gt;
the current default ac-provider setup in case of missing configuration just reflects the state of jackrabbit 1.6 where users were stored in a separate, dedicated workspace and&lt;br/&gt;
i didn&amp;#39;t change it for backwards compatibility reasons.  in the mean time i changed the user management in a way that users having access to a given workspace can be stored in that workspace, which makes things a lot easier [see &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2313&quot; title=&quot;Improvements to user management (2)&quot;&gt;&lt;strike&gt;JCR-2313&lt;/strike&gt;&lt;/a&gt;].</comment>
                    <comment id="12917588" author="justinedelson" created="Mon, 4 Oct 2010 14:25:26 +0100"  >&amp;gt; i would rather add a configuration option to this specific access control provider (similar to the other providers). &lt;br/&gt;
&amp;gt; the patch adding the config option to the security manager seems wrong to me. &lt;br/&gt;
&lt;br/&gt;
IIUC, this requires manual configuration of the security workspace. Isn&amp;#39;t that a bit onerous - 15-20 lines of XML vs. one?&lt;br/&gt;
&lt;br/&gt;
In other words, I think this should be configured in the &amp;lt;Security&amp;gt; section of repository.xml, not &amp;lt;Workspace&amp;gt; as it is a property of the security subsystem.</comment>
                    <comment id="12917620" author="anchela" created="Mon, 4 Oct 2010 15:12:05 +0100"  >&amp;gt; IIUC, this requires manual configuration of the security workspace. Isn&amp;#39;t that a bit onerous - 15-20 lines of XML vs. one? &lt;br/&gt;
&lt;br/&gt;
if the default setup get&amp;#39;s changed in jackrabbit, you will need to have a manual ac provider configuration of your security workspace anyway.&lt;br/&gt;
as i said before, i just didn&amp;#39;t do that for 2.0 because we changed the way we at day want to store users in a rather late stage and i didn&amp;#39;t&lt;br/&gt;
want to cause troubles for all those using the old style jr 1.6 setup.&lt;br/&gt;
&lt;br/&gt;
furthermore, i don&amp;#39;t want to spoil the repository level security configuration for something that i consider end of life code.&lt;br/&gt;
having an configuration option for the UserAccessControlProvider should be configured where it belongs to.&lt;br/&gt;
&lt;br/&gt;
and adding a repository level option for the inital ac-setup seems wrong to me... this would be yet another workaround for &lt;br/&gt;
something that will be addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2331&quot; title=&quot;Configurable DefaultPolicy replacing Initialization within the ACProvider&quot;&gt;&lt;strike&gt;JCR-2331&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; In other words, I think this should [...]&lt;br/&gt;
&lt;br/&gt;
fair enough... but it doesn&amp;#39;t make me change my opinion :)</comment>
                    <comment id="12917643" author="justinedelson" created="Mon, 4 Oct 2010 16:43:46 +0100"  >updated patch which restricts the change to *only* be within UserAccessControlProvider.</comment>
                    <comment id="12920238" author="anchela" created="Tue, 12 Oct 2010 16:39:31 +0100"  >applied patch2 with minor modification: the default value of the anonymousAccess if not present with the configuration should be &amp;#39;true&amp;#39; (some existing tests &lt;br/&gt;
therefore failed with the unmodified patch2)</comment>
                    <comment id="12920348" author="justinedelson" created="Tue, 12 Oct 2010 22:08:32 +0100"  >thanks Angela</comment>
                </comments>
                    <attachments>
                    <attachment id="12454566" name="JCR-2748.patch" size="20077" author="justinedelson" created="Tue, 14 Sep 2010 19:58:33 +0100" />
                    <attachment id="12456292" name="JCR-2748-take2.patch" size="16855" author="justinedelson" created="Mon, 4 Oct 2010 16:43:46 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 4 Oct 2010 08:14:01 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>97841</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191666</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>