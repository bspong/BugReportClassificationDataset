<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:37:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-3004/JCR-3004.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-3004] Check if a DAV-Request has a Label in the header, before checking if it&apos;s version-controlled</title>
                <link>https://issues.apache.org/jira/browse/JCR-3004</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>When looking at our MySQL logs, I realized that jackrabbit on each DAV Request calls the VERSION table every time I get a new node (which is not cached yet), even if I only do a simple getNode. &lt;br/&gt;
As a versioning table can get pretty large, this may have a performance impact.&lt;br/&gt;
&lt;br/&gt;
I found out, that DavResourceFactoryImpl checks, if a node is versioned to decide, if we have to check for the Label header to later check out another version for the GET request. I re-ordered those checks now so that it first checks, if there&amp;#39;s an http Label-header and only then checks, if the node is versioned. The check for a Label header should be much faster than checking a DB, if it&amp;#39;s versioned (and scale much better, too)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12511552">JCR-3004</key>
            <summary>Check if a DAV-Request has a Label in the header, before checking if it&apos;s version-controlled</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="chregu">Christian Stocker</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Jun 2011 07:48:41 +0100</created>
                <updated>Tue, 8 Nov 2011 15:55:57 +0000</updated>
                    <resolved>Thu, 21 Jul 2011 09:30:44 +0100</resolved>
                            <version>2.2.7</version>
                <version>2.3</version>
                                <fixVersion>2.3</fixVersion>
                                <component>jackrabbit-jcr-server</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13055030" author="chregu" created="Sun, 26 Jun 2011 07:49:45 +0100"  >The patch against trunk, tests still run</comment>
                    <comment id="13068855" author="anchela" created="Thu, 21 Jul 2011 09:30:44 +0100"  >thanks for the patch</comment>
                    <comment id="13068859" author="chregu" created="Thu, 21 Jul 2011 09:32:58 +0100"  >Guten Tag,&lt;br/&gt;
&lt;br/&gt;
Ich bin bis am 23. Juli 2011 abwesend und werde meine Emails nicht lesen.&lt;br/&gt;
Bitte senden Sie in dringenden F&amp;#xE4;llen eine E-Mail an &lt;a href=&apos;mailto:contact@liip.ch&apos;&gt;contact@liip.ch&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
Besten Dank f&amp;#xFC;r Ihr Verst&amp;#xE4;ndnis.&lt;br/&gt;
&lt;br/&gt;
Christian Stocker&lt;br/&gt;
&lt;br/&gt;
***&lt;br/&gt;
Hi&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m off until 23 July and do not read my emails.&lt;br/&gt;
In urgent cases, please send an email to &lt;a href=&apos;mailto:contact@liip.ch&apos;&gt;contact@liip.ch&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Best Wishes&lt;br/&gt;
&lt;br/&gt;
Christian Stocker&lt;br/&gt;
&lt;br/&gt;
-- &lt;br/&gt;
Liip AG  //  Feldstrasse 133 //  CH-8004 Zurich&lt;br/&gt;
Tel +41 43 500 39 81 // Mobile +41 76 561 88 60&lt;br/&gt;
&lt;a href=&quot;http://www.liip.ch&quot;&gt;www.liip.ch&lt;/a&gt; // blog.liip.ch // GnuPG 0x0748D5FE&lt;br/&gt;
</comment>
                    <comment id="13069132" author="reschke" created="Thu, 21 Jul 2011 19:57:57 +0100"  >I would recommend to drop support for the Label header.&lt;br/&gt;
&lt;br/&gt;
See &amp;lt;&lt;a href=&quot;http://www.webdav.org/deltav/protocol/rfc3253-issues-list.htm&amp;gt;:&quot;&gt;http://www.webdav.org/deltav/protocol/rfc3253-issues-list.htm&amp;amp;gt;:&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
8.3_ LABEL_HEADER&lt;br/&gt;
	&lt;br/&gt;
...&lt;br/&gt;
&lt;br/&gt;
The Label header has poorly defined semantics when used with Depth header, and is inconsistent with HTTP variant processing.&lt;br/&gt;
&lt;br/&gt;
...&lt;br/&gt;
&lt;br/&gt;
Replace the Label header with a DAV:labeled-version report.&lt;br/&gt;
&lt;br/&gt;
and draft in&lt;br/&gt;
&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://www.webdav.org/deltav/protocol/draft-ietf-webdav-versioning-xx.7.htm&quot;&gt;http://www.webdav.org/deltav/protocol/draft-ietf-webdav-versioning-xx.7.htm&lt;/a&gt;&amp;gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12483838" name="patch_commit_85c91801358a.patch" size="1571" author="chregu" created="Sun, 26 Jun 2011 07:49:45 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 21 Jul 2011 08:30:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>67236</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190876</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>