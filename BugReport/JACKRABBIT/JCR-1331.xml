<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:34:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1331/JCR-1331.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1331] Improper deprecation of Locked class</title>
                <link>https://issues.apache.org/jira/browse/JCR-1331</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The Locked class in the jcr-commons package has been deprecated with 1.4 and moved to the spi-commons.&lt;br/&gt;
However as this is a common class which does not depend on the spi, it should rather stay in jcr-commons.&lt;br/&gt;
The dependencies to spi can simply be removed again.</description>
                <environment></environment>
            <key id="12386761">JCR-1331</key>
            <summary>Improper deprecation of Locked class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jukkaz">Jukka Zitting</assignee>
                                <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jan 2008 09:16:11 +0000</created>
                <updated>Wed, 2 Apr 2008 20:06:41 +0100</updated>
                    <resolved>Mon, 17 Mar 2008 22:27:10 +0000</resolved>
                            <version>1.4</version>
                                <fixVersion>commons 1.4.2</fixVersion>
                <fixVersion>1.5</fixVersion>
                                <component>jackrabbit-jcr-commons</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12560977" author="jukkaz" created="Mon, 21 Jan 2008 10:40:33 +0000"  >Fixed in revision 613834. Thanks!</comment>
                    <comment id="12560982" author="cziegeler" created="Mon, 21 Jan 2008 10:48:48 +0000"  >What about the version in the spi-commons? Shouldn&amp;#39;t it be deprecated? </comment>
                    <comment id="12560987" author="jukkaz" created="Mon, 21 Jan 2008 11:09:50 +0000"  >Probably, but we shouldn&amp;#39;t deprecate things in a patch release, so it&amp;#39;ll have to wait until 1.5.&lt;br/&gt;
&lt;br/&gt;
Anyway, I&amp;#39;ve added the @deprecate marker to spi-commons in revision 613841. I&amp;#39;ll figure out how to best handle these changes in terms of release tracking.</comment>
                    <comment id="12560999" author="cziegeler" created="Mon, 21 Jan 2008 13:06:50 +0000"  >Thanks!</comment>
                    <comment id="12561266" author="anchela" created="Tue, 22 Jan 2008 09:05:08 +0000"  >sorry. i don&amp;#39;t agree on this change.&lt;br/&gt;
&lt;br/&gt;
and: jukka, i would expect that you wait at least for one day before you&lt;br/&gt;
make such modifications.&lt;br/&gt;
&lt;br/&gt;
my suggestion to move the Locked class was by intention, i expect that at least&lt;br/&gt;
give me the change to tell you so.&lt;br/&gt;
&lt;br/&gt;
can you please revert your modification made with r613841 unless we reached&lt;br/&gt;
consensus on this issue? thanks&lt;br/&gt;
&lt;br/&gt;
angela</comment>
                    <comment id="12561282" author="jukkaz" created="Tue, 22 Jan 2008 10:00:56 +0000"  >&amp;gt; sorry. i don&amp;#39;t agree on this change.&lt;br/&gt;
&lt;br/&gt;
Ah, I&amp;#39;m sorry for jumping the fox here. I&amp;#39;ve reverted my changes in revision 614158.&lt;br/&gt;
&lt;br/&gt;
For the record, the reverted changes are included in the attached patch.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; and: jukka, i would expect that you wait at least for one day before you&lt;br/&gt;
&amp;gt; make such modifications.&lt;br/&gt;
&lt;br/&gt;
My apologies. I thought this was a clear-cut issue so I didn&amp;#39;t wait for review. Obviously I was wrong.&lt;br/&gt;
&lt;br/&gt;
Was there some other reason than the Name dependencies for moving the Locked class?&lt;br/&gt;
</comment>
                    <comment id="12561298" author="anchela" created="Tue, 22 Jan 2008 10:53:39 +0000"  >&amp;gt; was there some other reason than the Name dependencies for moving the Locked class? &lt;br/&gt;
&lt;br/&gt;
Name, NamespaceResolver and NamePathResolver.&lt;br/&gt;
apart from that, there was no reason... and i don&amp;#39;t have any strong feeling for the Locked class&lt;br/&gt;
in particular nor about it&amp;#39;s position in the code.&lt;br/&gt;
&lt;br/&gt;
but i expect that we have a minimal response time to give everybody the time to look at a patch. apart from that i expect that patches and suggestions are really looked at, before they are commited. this applies both for this one and the one in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1169&quot; title=&quot;Distribution of commons classes&quot;&gt;&lt;strike&gt;JCR-1169&lt;/strike&gt;&lt;/a&gt; which was open for almost a month (and already suggested in the devlist before). that&amp;#39;s all.</comment>
                    <comment id="12561314" author="jukkaz" created="Tue, 22 Jan 2008 11:45:52 +0000"  >&amp;gt; Name, NamespaceResolver and NamePathResolver.&lt;br/&gt;
&lt;br/&gt;
My patch replaces all those dependencies with code like the following:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;session.getNamespacePrefix(&amp;quot;&lt;a href=&quot;http://www.jcp.org/jcr/mix/1.0&quot;&gt;http://www.jcp.org/jcr/mix/1.0&lt;/a&gt;&amp;quot;) + &amp;quot;:lockable&amp;quot;&lt;br/&gt;
&lt;br/&gt;
After that change the Lockable class only depends on the JCR API and should be just fine in jcr-commons. Most notably it meets the criteria defined in [1]:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;The jackrabbit-jcr-commons package should contain generic utility&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;classes that work *on top of* the JCR API. The classes should handle&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;names and paths in string format, and use the namespace methods on&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.jcr.Session where name manipulation is needed.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
&amp;gt; apart from that, there was no reason... and i don&amp;#39;t have any strong feeling for&lt;br/&gt;
&amp;gt; the Locked class in particular nor about it&amp;#39;s position in the code. &lt;br/&gt;
&lt;br/&gt;
OK, thanks. Unless anyone has further objections I&amp;#39;ll re-commit the patch in a few days time.&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg06698.html&quot;&gt;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg06698.html&lt;/a&gt;</comment>
                    <comment id="12561332" author="anchela" created="Tue, 22 Jan 2008 13:09:21 +0000"  >&amp;gt; Unless anyone has further objections I&amp;#39;ll re-commit the patch in a few days time. &lt;br/&gt;
&lt;br/&gt;
fine with me.&lt;br/&gt;
</comment>
                    <comment id="12561333" author="anchela" created="Tue, 22 Jan 2008 13:11:24 +0000"  >adjusting affected projects.</comment>
                    <comment id="12579641" author="jukkaz" created="Mon, 17 Mar 2008 22:18:02 +0000"  >Re-purposing this as a purely jcr-commons issue to avoid cross-component complexity. We should add a separate issue&lt;br/&gt;
to deprecate the class in spi-commons 1.5.</comment>
                    <comment id="12579646" author="jukkaz" created="Mon, 17 Mar 2008 22:27:10 +0000"  >Fixed in jackrabbit-jcr-commons in revision 638099. Merged to the 1.4 branch in revision 638100.</comment>
                    <comment id="12584731" author="fmeschbe" created="Wed, 2 Apr 2008 20:06:41 +0100"  >Closing issue, has been release in jackrabbit-jcr-commons 1.4.2</comment>
                </comments>
                    <attachments>
                    <attachment id="12373739" name="JCR-1331.patch" size="2983" author="jukkaz" created="Tue, 22 Jan 2008 10:00:51 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 21 Jan 2008 10:40:33 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78597</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>252704</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>