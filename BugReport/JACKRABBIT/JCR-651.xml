<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:25 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-651/JCR-651.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-651] Improve performance for queries with large result sets</title>
                <link>https://issues.apache.org/jira/browse/JCR-651</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The current implementation of QueryResult requires that access rights are checked on all NodeIds before they are passed ot the QueryResult. This handling should be improved to a more lazy approach where result nodes are checked in configurable batches. Usually a client is only interested in the top scoring results.</description>
                <environment></environment>
            <key id="12357154">JCR-651</key>
            <summary>Improve performance for queries with large result sets</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mreutegg">Marcel Reutegger</assignee>
                                <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Nov 2006 17:34:55 +0000</created>
                <updated>Tue, 30 Jan 2007 21:13:23 +0000</updated>
                    <resolved>Mon, 18 Dec 2006 09:43:35 +0000</resolved>
                                            <fixVersion>1.2.1</fixVersion>
                                <component>query</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12454042" author="mreutegg" created="Tue, 28 Nov 2006 17:48:27 +0000"  >Nodes in the query result are now fetched in chunks. The initial chunk can be configured with the parameter &amp;#39;resultFetchSize&amp;#39;. If a client attempts to read pass the initial chunk the query is executed again and the target chunk size is doubled.&lt;br/&gt;
&lt;br/&gt;
Fixed in revision: 480138</comment>
                    <comment id="12454613" author="mreutegg" created="Thu, 30 Nov 2006 13:34:49 +0000"  >I&amp;#39;ve reverted the changes in QueryResultImpl to provide a backward compatible constructor in that class. The new functionality is now implemented in LazyQueryResultImpl.&lt;br/&gt;
&lt;br/&gt;
Committed in revision: 480917</comment>
                    <comment id="12459227" author="jukkaz" created="Mon, 18 Dec 2006 08:46:57 +0000"  >Reopened since the fix introduces a security issue.&lt;br/&gt;
&lt;br/&gt;
Using the query mechanism it is now possible for a user to infer the existence of some content to which access would otherwise be denied.&lt;br/&gt;
&lt;br/&gt;
To prevent this the query result implementation must by default return -1 from getSize() unless it can avoid counting rows that may get dropped because of access controls. It&amp;#39;s OK to add a configuration option that activates the current behaviour, but it must not be enabled by default.</comment>
                    <comment id="12459243" author="mreutegg" created="Mon, 18 Dec 2006 09:43:35 +0000"  >Changed the default value of the &amp;#39;resultFetchSize&amp;#39; to Integer.MAX_VALUE. With this value getSize() will always return the correct value according to the users access rights.&lt;br/&gt;
&lt;br/&gt;
Fixed in trunk and 1.2 branch: 488181</comment>
                    <comment id="12459245" author="jukkaz" created="Mon, 18 Dec 2006 09:47:44 +0000"  >Excellent, thanks!</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 18 Dec 2006 08:46:57 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142295</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279538</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>