<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 06:03:00 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2256/JCR-2256.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2256] JSR 283 Repository Descriptors</title>
                <link>https://issues.apache.org/jira/browse/JCR-2256</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>- new methods returning Value objects (jcr2spi)&lt;br/&gt;
- check descriptor-report in jcr-server and corresponding handling on the client side&lt;br/&gt;
- etc.etc.</description>
                <environment></environment>
            <key id="12432793">JCR-2256</key>
            <summary>JSR 283 Repository Descriptors</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                    <parent id="12416092">JCR-2003</parent>
                        <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Aug 2009 16:49:17 +0100</created>
                <updated>Fri, 4 Sep 2009 14:02:59 +0100</updated>
                    <resolved>Fri, 14 Aug 2009 18:03:26 +0100</resolved>
                                            <fixVersion>2.0-alpha9</fixVersion>
                                <component>jackrabbit-jcr-server</component>
                <component>jackrabbit-jcr2spi</component>
                <component>jackrabbit-spi</component>
                <component>jackrabbit-spi2dav</component>
                <component>jackrabbit-spi2jcr</component>
                <component>JCR 2.0</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12742791" author="anchela" created="Thu, 13 Aug 2009 11:34:00 +0100"  >steps to fix this:&lt;br/&gt;
&lt;br/&gt;
jcr2spi-level&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
- Repository.getDescriptorValue and Repository.getDescriptorValues isn&amp;#39;t implemented&lt;br/&gt;
- Maybe it&amp;#39;s best to have a new method on the RepoService that returns the descriptors&lt;br/&gt;
&amp;nbsp;&amp;nbsp;in almost-jcr-value format and then having using the ValueFactoryQImpl created with&lt;br/&gt;
&amp;nbsp;&amp;nbsp;a dummy-namespace-resolver to build the required value objects from the SPI&lt;br/&gt;
&amp;nbsp;&amp;nbsp;value representation.&lt;br/&gt;
- the old getDescriptor() method should just be a shortcut to the new methods and&lt;br/&gt;
&amp;nbsp;&amp;nbsp;return &amp;#39;null&amp;#39; in case of multi-valued or Value.getString in case of single valued.&lt;br/&gt;
&lt;br/&gt;
spi-level&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
- the method Map&amp;lt;String, String&amp;gt; getRepositoryDescriptors() throws RepositoryException&lt;br/&gt;
&amp;nbsp;&amp;nbsp;isn&amp;#39;t sufficient to cover the new descriptor functionality defined by jsr 283&lt;br/&gt;
&lt;br/&gt;
- I&amp;#39;d suggest to either change the return value of the existing method to Map&amp;lt;String, QValue[]&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;or deprecate the existing method an replace with a appropriate one, that properly&lt;br/&gt;
&amp;nbsp;&amp;nbsp;covers the multivalued, non string descriptors (maybe better).&lt;br/&gt;
&lt;br/&gt;
- jcr2spi should then only use the method returning QValue(s) see above.&lt;br/&gt;
&lt;br/&gt;
spi2jcr&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
- should be straight forward, once the SPI is adjusted.&lt;br/&gt;
&lt;br/&gt;
spi2dav(ex)&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
- jcr-server must be fixed in order to cover the new Repository methods.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;-&amp;gt; RepositoryDescriptorReport must use Repository.getDescriptorValues(String key)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;-&amp;gt; RepositoryDescriptorReport must deal with multi valued descriptors&lt;br/&gt;
&lt;br/&gt;
once this is fixed:&lt;br/&gt;
- spi2dav RepositoryServiceImpl must properly handle multi and single values as well&lt;br/&gt;
&amp;nbsp;&amp;nbsp;as non-string values and create QValue objects.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12743301" author="anchela" created="Fri, 14 Aug 2009 18:03:26 +0100"  >since the Map&amp;lt;String, String&amp;gt; signature of RepositoryService.getRepositoryDescriptors has recently been added by Marcel and is &lt;br/&gt;
scheduled for JR 2.0 i decided to change the return value to Map&amp;lt;String, QValue[]&amp;gt; instead of introducing yet another method.&lt;br/&gt;
&lt;br/&gt;
-&amp;gt; adjusted spi/RepositoryService.java&lt;br/&gt;
-&amp;gt; fixed all implementations present in the jackrabbit-trunk&lt;br/&gt;
-&amp;gt; as well as the RepositoryDescriptorReport present in the jcr-server.&lt;br/&gt;
-&amp;gt; modified jcr2spi accordingly &lt;br/&gt;
-&amp;gt; remove the known issues related to descriptor tests present in the pom.xml spi2jcr&lt;br/&gt;
&lt;br/&gt;
And finally tested the RepositoryDescriptor test on spi2jcr as well as on spi2dav and quickly checked the xml generated by&lt;br/&gt;
the descriptor REPORT request to jcr-server. that seemed to work.&lt;br/&gt;
&lt;br/&gt;
angela</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>89044</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>192333</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>