<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:43:45 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2402/JCR-2402.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2402] Observation: avoid running out of memory</title>
                <link>https://issues.apache.org/jira/browse/JCR-2402</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Jackrabbit uses an unbounded observation queue for event listeners (for asynchronous listeners, which are the default). If an observation listener is very slow, the observation queue gets larger and larger, and the JVM will eventually run out of memory.&lt;br/&gt;
&lt;br/&gt;
I suggest to use a maximum queue size of 100&amp;#39;000 by default. Adding new events to the queue will block until the observation listeners removed an item. I&amp;#39;m not sure if we need a way to configure this option; probably a system property is enough as a start (we can still add a better way to configure this setting if it turns out somebody actually needs a different value).&lt;br/&gt;
&lt;br/&gt;
A special case is observation listeners that themselves write to the repository and therefore cause new events. In this case, it doesn&amp;#39;t make sense to block adding an event, because that would block the whole system. However a warning should be written to the log file.</description>
                <environment></environment>
            <key id="12441476">JCR-2402</key>
            <summary>Observation: avoid running out of memory</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tmueller">Thomas Mueller</assignee>
                                <reporter username="tmueller">Thomas Mueller</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Nov 2009 16:00:43 +0000</created>
                <updated>Mon, 11 Jan 2010 14:16:33 +0000</updated>
                    <resolved>Wed, 25 Nov 2009 15:46:26 +0000</resolved>
                                            <fixVersion>2.0-beta4</fixVersion>
                                <component>jackrabbit-core</component>
                <component>observation</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12781443" author="tmueller" created="Mon, 23 Nov 2009 16:06:40 +0000"  >This patch uses a default max queue size of 100&amp;#39;000. A warning is logged at most every 5 seconds, together with the stack trace (to find problems with recursive event listeners).</comment>
                    <comment id="12782014" author="tmueller" created="Tue, 24 Nov 2009 16:35:41 +0000"  >jcr-2402-2.patch will calculate the number of event states, not the number of DispatchAction objects. The limit is set to 200&amp;#39;000, which is about 200 MB (according to my test). The thread waits after adding the DispatchAction, otherwise actions with many events would wait forever.</comment>
                </comments>
                    <attachments>
                    <attachment id="12425984" name="jcr-2402-2.patch" size="4343" author="tmueller" created="Tue, 24 Nov 2009 16:35:41 +0000" />
                    <attachment id="12425847" name="jcr-2402.patch" size="2751" author="tmueller" created="Mon, 23 Nov 2009 16:06:40 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>143137</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>280210</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>