<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 06:00:45 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1154/JCR-1154.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1154] Database Data Store</title>
                <link>https://issues.apache.org/jira/browse/JCR-1154</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>We want to have a database backed data store implementation.&lt;br/&gt;
An implementation using files is already available as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-926&quot; title=&quot;Global data store for binaries&quot;&gt;&lt;strike&gt;JCR-926&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12379316">JCR-1154</key>
            <summary>Database Data Store</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="tmueller">Thomas Mueller</assignee>
                                <reporter username="tmueller">Thomas Mueller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Sep 2007 19:39:42 +0100</created>
                <updated>Fri, 15 Feb 2008 09:40:54 +0000</updated>
                    <resolved>Wed, 12 Dec 2007 07:41:32 +0000</resolved>
                                            <fixVersion>1.4</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>1</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12533819" author="efranqueiro" created="Wed, 10 Oct 2007 19:01:48 +0100"  >This is an implementation of a database-based data store. It currently uses SQL Server but this can be changed by subclassing the DatabaseDataStore class and overriding its buildSQLStatements() method as usual. As discussed, this impl uses UUIDs for the record id&amp;#39;s, but we&amp;#39;ll be working out a solution like the one proposed by Thomas.&lt;br/&gt;
Also included is a garbage collector (based on the initial implementation by Thomas). The changes are mostly cosmetic, to generalize it for the file and database DS.&lt;br/&gt;
In RepositoryImpl&amp;#39;s constructor is the code to initialize the garbage collector, according to the configuration in the repository.xml file.&lt;br/&gt;
In the included InternalValue we added methods useDataStore()/setDataStore() so we can avoid relaying on the system property.&lt;br/&gt;
There are a few tests, for different cases (we couldn&amp;#39;t cover every corner case, of course).&lt;br/&gt;
Please note that there are a few design decisions in which we had to take into account the application we&amp;#39;re building on top of Jackrabbit, but we tried very hard to keep these to a minimum while at the same time trying to simplify each time we have to update the version of Jackrabbit, since our application extends some of it&amp;#39;s functionality (specifically, the database data store :-) ). I mention the ones I remember now: the boolean parameter in DatabaseDataStore.getConnection(), and the DatabaseRecord implementation. We should further discuss these issues.&lt;br/&gt;
Finally, note that the attachment is NOT a patch since my working version has many patches applied to it.</comment>
                    <comment id="12533831" author="efranqueiro" created="Wed, 10 Oct 2007 19:30:55 +0100"  >Changed attachment name.</comment>
                    <comment id="12534308" author="tmueller" created="Fri, 12 Oct 2007 16:19:58 +0100"  >Thanks a lot for your help Esteban!&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m currently trying to integrate this patch into the current jackrabbit trunk. Hopefully the garbage collection problem can be solved more easily than in your patch. I&amp;#39;m not sure if you saw the WeakHashMap &amp;#39;inUse&amp;#39; in the file data store, what do you think about it?&lt;br/&gt;
&lt;br/&gt;
Also I like to make sure that the database data store can re-connect to the database automatically; if possible the auto-reconnect feature of the bundle db persistence manager should be used.&lt;br/&gt;
&lt;br/&gt;
Anyway, I&amp;#39;m working on it, but it will take some more time.&lt;br/&gt;
&lt;br/&gt;
Thomas&lt;br/&gt;
</comment>
                    <comment id="12539341" author="tmueller" created="Thu, 1 Nov 2007 11:49:24 +0000"  >Hi,&lt;br/&gt;
&lt;br/&gt;
Thanks again for the patch! And sorry for the delay. I have a few remarks and questions:&lt;br/&gt;
&lt;br/&gt;
- please use spaces, not tabs (Jackrabbit consistently uses spaces)&lt;br/&gt;
- please don&amp;#39;t use import ...*&lt;br/&gt;
- byte b[] &amp;gt; byte[] b&lt;br/&gt;
- public is not required in interfaces&lt;br/&gt;
- return does not require (..)&lt;br/&gt;
&lt;br/&gt;
To fix such problems, I use Checkstyle. If you like I can post the configuration I use.&lt;br/&gt;
&lt;br/&gt;
Garbage collection: I like make garbage collection implementation independent; is it OK for you if I remove those cases? AbstractGarbageCollector and AbstractDataStore are not required then (anyway they are small).&lt;br/&gt;
&lt;br/&gt;
It would be great if the database data store would automatically re-connect if the connection was lost (important for MySQL). To achieve this, org.apache.jackrabbit.core.persistence.bundle.util.ConnectionRecoveryManager can be used.&lt;br/&gt;
&lt;br/&gt;
It&amp;#39;s quite tricky that DatabaseRecord extends FilterInputStream... However I&amp;#39;m not sure if it is required, is it not possible to just wrap the database BLOB object?&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t think that FileDataStoreConstants is required.&lt;br/&gt;
&lt;br/&gt;
Those are just my view, and I&amp;#39;m open to discuss them of course.&lt;br/&gt;
&lt;br/&gt;
If you have time to change it yourself please go ahead. Otherwise I will do it and post the patch here before I commit it - but it will take a few more days. &lt;br/&gt;
&lt;br/&gt;
Thanks for your help!&lt;br/&gt;
Thomas&lt;br/&gt;
</comment>
                    <comment id="12539451" author="efranqueiro" created="Thu, 1 Nov 2007 19:45:15 +0000"  >See &lt;a href=&quot;http://www.nabble.com/Re%3A--jira--Commented%3A-%28JCR-1154%29-Database-Data-Store-p13535861.html&quot;&gt;http://www.nabble.com/Re%3A--jira--Commented%3A-%28JCR-1154%29-Database-Data-Store-p13535861.html&lt;/a&gt; for response.</comment>
                    <comment id="12539555" author="tmueller" created="Fri, 2 Nov 2007 09:56:04 +0000"  >In revision 591286, the DataStore throws DataStoreException instead of IOException. This should simplify adding new data stores, for example the DatabaseDataStore.&lt;br/&gt;
</comment>
                    <comment id="12550093" author="efranqueiro" created="Mon, 10 Dec 2007 14:49:43 +0000"  >Shouldn&amp;#39;t the DataStoreException (as well as every exception, actually) have the DataStoreException(Exception) constructor?</comment>
                    <comment id="12550094" author="tmueller" created="Mon, 10 Dec 2007 14:55:20 +0000"  >There is: &amp;quot;public DataStoreException(String message, Throwable cause)&amp;quot;. Is this not enough? If not, why?&lt;br/&gt;
</comment>
                    <comment id="12550099" author="efranqueiro" created="Mon, 10 Dec 2007 15:16:04 +0000"  >Why have to write&lt;br/&gt;
catch (SomeException e) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;throw new DataStoreException(e.getMessage(), e);&lt;br/&gt;
}&lt;br/&gt;
when &lt;br/&gt;
catch (SomeException e) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;throw new DataStoreException(e);&lt;br/&gt;
}&lt;br/&gt;
does the same?</comment>
                    <comment id="12550104" author="tmueller" created="Mon, 10 Dec 2007 15:30:56 +0000"  >The original message may not be very helpful. I think it&amp;#39;s better to add as much context information as possible, as in:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;try {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return new FileInputStream(file);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} catch (IOException e) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;throw new DataStoreException(&amp;quot;Error opening input stream of &amp;quot; + file.getAbsolutePath(), e);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
because the exception from FileInputStream may not contain the absolute path. Or:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} catch (Exception e) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;throw convert(&amp;quot;Can not init data store, driver=&amp;quot; + driver + &amp;quot; url=&amp;quot; + url + &amp;quot; user=&amp;quot; + user, e);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
The original message will not always have that much context information. But if you need the non-message constructor, it&amp;#39;s not a problem, I can add it.&lt;br/&gt;
</comment>
                    <comment id="12550108" author="efranqueiro" created="Mon, 10 Dec 2007 15:40:40 +0000"  >Also, I think FileDataRecord class should be public, and the DataRecord interface should have a getLastModified() method. These are for extensibility. Since it&amp;#39;s not public, it can&amp;#39;t be extended from another package. And the method is the easyest way to get the last modified time of a DB record in my case.</comment>
                    <comment id="12550870" author="tmueller" created="Wed, 12 Dec 2007 07:41:32 +0000"  >The current solution is still not perfect (blobs need to fit in memory for MySQL and PostgreSQL), but in a usable state I hope.</comment>
                    <comment id="12550996" author="efranqueiro" created="Wed, 12 Dec 2007 15:38:06 +0000"  >I see you have updated the impl. I&amp;#39;m checkin it out right now. I have a few comments:&lt;br/&gt;
* you have to update the javadoc in DbDataStore (it has a wrong package and class name, an also the className attribute should be &amp;quot;class&amp;quot;&lt;br/&gt;
* you left the @author tag in Pool and TempFileInputStream classes&lt;br/&gt;
* shouldn&amp;#39;t be better to use a larger buffer inTempFileInputStream.writeToFileAndClose()? like 64K perhaps?&lt;br/&gt;
* what happens if two clients request the same binary at the same time? I guess the temp file doesn&amp;#39;t overwrite the other one, so the file is copied twice, right?&lt;br/&gt;
&lt;br/&gt;
BTW, thanks for commiting the changes I asked for, but I still think that making RepositoryImpl.getWorkspaceNames() public will be useful (I&amp;#39;m using it for the GC).&lt;br/&gt;
&lt;br/&gt;
Regards</comment>
                    <comment id="12551111" author="efranqueiro" created="Wed, 12 Dec 2007 20:47:43 +0000"  >Hi Thomas.&lt;br/&gt;
I noticed that you made the FileDataRecord public, but it&amp;#39;s only constructor protected. This way you can&amp;#39;t have a class that returns a file data record, because it can&amp;#39;t construct one. Maybe I didn&amp;#39;t express correctly. I want to use FileDataRecord from another package, so I need both the class and its constructor(s) to be public . For the time being I&amp;#39;m not extending it, but who knows :)&lt;br/&gt;
I would also like to ask for a getLastModified() method in the DataRecord interface.&lt;br/&gt;
Regards</comment>
                    <comment id="12551448" author="stefan@jira" created="Thu, 13 Dec 2007 09:37:29 +0000"  >&amp;gt; Esteban Franqueiro commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1154&quot; title=&quot;Database Data Store&quot;&gt;&lt;strike&gt;JCR-1154&lt;/strike&gt;&lt;/a&gt;:&lt;br/&gt;
&amp;gt; -----------------------------------------&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; [...]&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; BTW, thanks for commiting the changes I asked for, but I still think that making RepositoryImpl.getWorkspaceNames() public will be useful (I&amp;#39;m using it for the GC).&lt;br/&gt;
&lt;br/&gt;
the said method is not public since it returns *all* workspace names, regardless of user rights. please note that &lt;br/&gt;
the a session must only see/know about workspaces it is actually allowed to access.   &lt;br/&gt;
&lt;br/&gt;
see &lt;a href=&quot;http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Workspace.html#getAccessibleWorkspaceNames()&quot;&gt;http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Workspace.html#getAccessibleWorkspaceNames()&lt;/a&gt;&lt;br/&gt;
</comment>
                    <comment id="12551495" author="tmueller" created="Thu, 13 Dec 2007 12:47:13 +0000"  >Stefan, I don&amp;#39;t think we are talking about the same issue. It was never the idea to add this method to JackrabbitRepository. Anyway, I found a workaround to get the workspace names (if you need it):&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RepositoryImpl r = (RepositoryImpl) rep;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RepositoryConfig conf = r.getConfig();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Collection coll = conf.getWorkspaceConfigs();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(Iterator it = coll.iterator(); it.hasNext();) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;WorkspaceConfig wsc = (WorkspaceConfig) it.next();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;wsc.getName();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
There is no session required to call those methods. In any case, the workspace names may not be required for the data store garbage collection. I will propose another solution.</comment>
                    <comment id="12551502" author="tmueller" created="Thu, 13 Dec 2007 13:32:31 +0000"  >&amp;gt; FileDataRecord class should be public, and the DataRecord interface should have a getLastModified() method. &lt;br/&gt;
&lt;br/&gt;
Do you still need this?&lt;br/&gt;
&lt;br/&gt;
&amp;gt; These are for extensibility. &lt;br/&gt;
&lt;br/&gt;
FileDataRecord is now protected, but why do you want to extend it? I don&amp;#39;t think it&amp;#39;s a good idea to re-use the class for something that it&amp;#39;s not meant for (it would break encapsulation).&lt;br/&gt;
&lt;br/&gt;
Regards,&lt;br/&gt;
Thomas&lt;br/&gt;
</comment>
                    <comment id="12551512" author="efranqueiro" created="Thu, 13 Dec 2007 14:20:48 +0000"  >&amp;gt; Do you still need this?&lt;br/&gt;
&lt;br/&gt;
Yes.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; FileDataRecord is now protected, but why do you want to extend it? I don&amp;#39;t think it&amp;#39;s a good idea to re-use the class for something that it&amp;#39;s not meant for (it would break encapsulation).&lt;br/&gt;
&lt;br/&gt;
Like I said in my last message, I don&amp;#39;t want to extend it, I want to use it from another package, so I need both the class and constructor to be public.&lt;br/&gt;
&lt;br/&gt;
Regards</comment>
                    <comment id="12551541" author="efranqueiro" created="Thu, 13 Dec 2007 15:50:33 +0000"  >Stefan,&lt;br/&gt;
&lt;br/&gt;
&amp;gt; the said method is not public since it returns *all* workspace names, regardless of user rights. please note that&lt;br/&gt;
&amp;gt; the a session must only see/know about workspaces it is actually allowed to access. &lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m working on a garbage collector for the data store. The GC doesn&amp;#39;t care about user rights, or, putting it another way, it must be able to access all workspaces. Ideally I&amp;#39;d like to use a SystemSession, but you can&amp;#39;t get one outside RepositoryImpl or o.a.j.c package (i.e., getSystemSession(String) is package private, WorkspaceInfo is protected).&lt;br/&gt;
I understand that these APIs shouldn&amp;#39;t be public, but they&amp;#39;re useful from within the core. In my case, for the GC.&lt;br/&gt;
I&amp;#39;m very interested in using another way to walk every workspace, but this other way should guarantee that the repository won&amp;#39;t shutdown during a walk operation. I&amp;#39;ll check the solution Thomas said he&amp;#39;ll be proposing, but in the mean time that is what I&amp;#39;m using.&lt;br/&gt;
Still, I don&amp;#39;t see why this APIs aren&amp;#39;t public.&lt;br/&gt;
Regards</comment>
                    <comment id="12551546" author="tmueller" created="Thu, 13 Dec 2007 16:05:00 +0000"  >Hi,&lt;br/&gt;
&lt;br/&gt;
The solution I am working on right now is: add a method&lt;br/&gt;
&lt;br/&gt;
public GarbageCollector SessionImpl.createDataStoreGarbageCollector().&lt;br/&gt;
&lt;br/&gt;
This method creates a data store garbage collector object and initialized it. If all persistence managers are IterablePersistenceManager (a new interface with one method: getAllNodeIds; currently implemented for all BundlePersistenceManager), then it will use this method to scan the repository.&lt;br/&gt;
&lt;br/&gt;
If not (if other persistence managers are used), it uses the same method as now to scan the repository (however automatically in all workspaces).&lt;br/&gt;
&lt;br/&gt;
That means the methods don&amp;#39;t need to be made public (SessionsImpl is in the same package as RepositoryImpl).&lt;br/&gt;
&lt;br/&gt;
Regards,&lt;br/&gt;
Thomas</comment>
                    <comment id="12551547" author="efranqueiro" created="Thu, 13 Dec 2007 16:16:15 +0000"  >Really interesting. Have you thought about the use case of the GC running in a background thread? How would you go about it?&lt;br/&gt;
Could you post your code, as a patch maybe, to take a look a it?&lt;br/&gt;
As you know this feature is very important for us.</comment>
                    <comment id="12552534" author="efranqueiro" created="Mon, 17 Dec 2007 21:01:55 +0000"  >Thomas, with the test I posted in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1250&quot; title=&quot;When adding a large (100MB) binary to the DbDataStore, it fails with an insufficient memory exception&quot;&gt;&lt;strike&gt;JCR-1250&lt;/strike&gt;&lt;/a&gt; I see that there&amp;#39;s still a copy from the DB to the local FS on the save() call (which I believe is unnecessary). Also, there are many calls to touch() inside the data store, and at least one call to getRecord().</comment>
                    <comment id="12552664" author="tmueller" created="Tue, 18 Dec 2007 09:25:36 +0000"  >Hi,&lt;br/&gt;
&lt;br/&gt;
I have tested it again and my results are:&lt;br/&gt;
&lt;br/&gt;
When storing an object, a temp file is created for most databases to find out how long the binary object is. For databases that support PreparedStatement.setBinaryStream with unknown size (currently only the H2 database), no temp file is created.&lt;br/&gt;
&lt;br/&gt;
When retrieving an object (prop.getStream()), the call sequence is: 1) DbDataStore.getRecord(..), which calls touch(..) but touch(..) returns quickly.  2) DbDataRecord.getStream(), which calls touch(..) but touch also doesn&amp;#39;t do anything. Here a temp file is created, otherwise the connection would be blocked until the application read the blob. By the way, after running the test, I did not have any leftover temp files.&lt;br/&gt;
&lt;br/&gt;
So if I run the test, everything looks fine to me.&lt;br/&gt;
</comment>
                    <comment id="12565754" author="efranqueiro" created="Tue, 5 Feb 2008 14:18:09 +0000"  >The following javadoc comment should be removed from the DbDataStore class:&lt;br/&gt;
&amp;nbsp;* A three level directory structure is used to avoid placing too many&lt;br/&gt;
&amp;nbsp;* files in a single directory. The chosen structure is designed to scale&lt;br/&gt;
&amp;nbsp;* up to billions of distinct records.&lt;br/&gt;
</comment>
                    <comment id="12566057" author="tmueller" created="Wed, 6 Feb 2008 09:33:53 +0000"  >Javadoc comment fixed in revision 618935</comment>
                    <comment id="12569051" author="efranqueiro" created="Thu, 14 Feb 2008 19:19:10 +0000"  >The attachment contains a test class for the issue I reported in [1] and a helper class it depends on. Also includes a patch that corrects this issue by allowing pooled connections to remain open until the streams they&amp;#39;re serving are closed.&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/jackrabbit-dev/200802.mbox/browser&quot;&gt;http://mail-archives.apache.org/mod_mbox/jackrabbit-dev/200802.mbox/browser&lt;/a&gt;</comment>
                    <comment id="12569215" author="jukkaz" created="Fri, 15 Feb 2008 09:40:54 +0000"  >Esteban, since this issue has already been closed for 1.4, it would be better if you created new Jira issues for any improvements or other changes. That would make it much easier to track which changes are being included in which release.&lt;br/&gt;
&lt;br/&gt;
Also, please avoid putting multiple independent changes in a single issue or patch. For example the test cases should go to &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1187&quot; title=&quot;Asking a property twice for it&amp;#39;s stream returns the same stream instance&quot;&gt;JCR-1187&lt;/a&gt; and the concurrent read patch should go to a new improvement issue.</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12381072">JCR-1187</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12375619" name="datastore-concurrent-reads.zip" size="5307" author="efranqueiro" created="Thu, 14 Feb 2008 19:19:10 +0000" />
                    <attachment id="12367512" name="jr-1.3.1-bea.zip" size="87529" author="efranqueiro" created="Wed, 10 Oct 2007 19:30:55 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 10 Oct 2007 18:01:48 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142545</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189779</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>