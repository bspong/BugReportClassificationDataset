<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:38:11 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-918/JCR-918.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-918] Avoid INFINITE RECURSION when Object Model has cycles.</title>
                <link>https://issues.apache.org/jira/browse/JCR-918</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The default ObjectConverterImpl is restricted to acyclic graphs in the object model.&lt;br/&gt;
&lt;br/&gt;
Many Java object models are NOT acyclic.   For instance, I am on your Friends list.   Yoar are on my Friends list.     Java encourages such structures.   Almost any large object model in Java will have hidden cycles.&lt;br/&gt;
&lt;br/&gt;
Saving an Object Model that contains cycles using Graffito causes an infinite recursion.&lt;br/&gt;
&lt;br/&gt;
Clearly, it is important to maintain a 1-to-1 correspondence between Nodes and Objects to prevent this.   In the absence of Multiple Parent Nodes, it will be necessary to use REFERENCE or UNDEFINED Items in place of the 2nd (or greater) Node representing a given Object.   My preference si that the default ObjectConverterImpl should support REFERENCE.,    Failing this, use of UNDEFINED also solves this problem and would  acceptable (as default).  Whether or not REFERENCE is used, both insertion and retrieval must provide a reasonable result.   A custom ojbect converter should be available to switch UNDEFINED to REFERENCE, or vice versa.&lt;br/&gt;
&lt;br/&gt;
Also, it is probably best to keep the targeted, well-defined Nodes close to the Root Node.    This implies that the default ObjectConverterImpl should implement a Breadth-First, rather than a Depth-First, traversal of the Object Model on both insertion and retrieval.   Again, if the default is Depth-First, a custom object converter should be available that implements Breadth-First.&lt;br/&gt;
&lt;br/&gt;
Admittedly, support for (2 representations) X (2 traversals) implies a drastic refactoring and/or rewriting of the ObjectConverterImpl class.</description>
                <environment></environment>
            <key id="12350601">JCR-918</key>
            <summary>Avoid INFINITE RECURSION when Object Model has cycles.</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="clombart">Christophe Lombart</assignee>
                                <reporter username="dsconnelly">Dan Connelly</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Sep 2006 13:56:15 +0100</created>
                <updated>Wed, 5 Mar 2008 15:40:11 +0000</updated>
                    <resolved>Mon, 14 May 2007 19:52:56 +0100</resolved>
                                                            <component>jackrabbit-ocm</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12437212" author="dsconnelly" created="Sun, 24 Sep 2006 14:22:51 +0100"  >The use of UNDEFINED would also affect the selection of the default or custom ProxyManager.&lt;br/&gt;
&lt;br/&gt;
UNDEFINED Beans and collection Items might be translated to Proxies that execute a lookup based on some Path Conversion scheme.   The Path Conversions could be either stored in the Repository or provided by a custom ProxyManager.</comment>
                    <comment id="12443528" author="clombart" created="Thu, 19 Oct 2006 14:59:22 +0100"  >* What about the auto* settings (auto-retrieve,auto-update &amp;amp; auto-insert). Those settings can limit graph load and updates ?&lt;br/&gt;
* Reference is not supported but we can also use the auto* settings.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12489859" author="clombart" created="Wed, 18 Apr 2007 20:34:07 +0100"  >Solve by using an object cache. This is not yet a complete cache system but this small cache is used per persistenceManager and only for retrieve requests. It allows to perform circular lookups (as by crossreferenced objects) that would result in non-terminating loops without such a cache.&lt;br/&gt;
&lt;br/&gt;
Later I would like to implement a complete object cache support. Something like in Hibernate or OJB. There is a good description here : &lt;a href=&quot;http://db.apache.org/ojb/docu/guides/objectcache.html&quot;&gt;http://db.apache.org/ojb/docu/guides/objectcache.html&lt;/a&gt;. I think we have similar needs but we have to define a proposal for this kind of feature with the most useful use cases.</comment>
                    <comment id="12495419" author="clombart" created="Sun, 13 May 2007 22:28:02 +0100"  >Seems that more unit tests are required. I will continue to work on it</comment>
                    <comment id="12495734" author="clombart" created="Mon, 14 May 2007 19:52:56 +0100"  >I added more unit test. It covers Bean attributes &amp;amp; Collection attributes.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 19 Oct 2006 13:59:22 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142426</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189914</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>