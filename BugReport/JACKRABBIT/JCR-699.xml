<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:59:22 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-699/JCR-699.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-699] Clustering: re-registration of nodetypes is not  synchronized</title>
                <link>https://issues.apache.org/jira/browse/JCR-699</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The re-registration of nodetypes is not yet synchronized between clusternodes, although re-registration is already (partially) implemented in the NodeTypeRegistry.</description>
                <environment></environment>
            <key id="12359864">JCR-699</key>
            <summary>Clustering: re-registration of nodetypes is not  synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="dpfister">Dominique Pfister</assignee>
                                <reporter username="martijnh">Martijn Hendriks</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Jan 2007 12:27:01 +0000</created>
                <updated>Mon, 6 Aug 2007 07:45:55 +0100</updated>
                    <resolved>Fri, 25 May 2007 09:48:21 +0100</resolved>
                            <version>1.2.1</version>
                <version>1.2.2</version>
                <version>1.2.3</version>
                <version>1.3</version>
                                <fixVersion>1.3.1</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>2</watches>
                                                    <comments>
                    <comment id="12465983" author="martijnh" created="Fri, 19 Jan 2007 08:29:14 +0000"  >Hi,&lt;br/&gt;
&lt;br/&gt;
When we want to cluster our application we really need the synchronization of re-registration. My guess is that adding this is not too hard. It seems that two interfaces each need an additional method to communicate the re-registration: NodeTypeEventListener and NodeTypeEventChannel.&lt;br/&gt;
These additional methods should then be implemented by ClusterNode (implements NodeTypeEventChannel) and by the NodeTypeRegistry (implements NodeTypeEventListener). It seems that the implementation in the ClusterNode can re-use the registered method. The implementation in the NodeTypeRegistry follows the externalRegistered method more or less.&lt;br/&gt;
&lt;br/&gt;
Next, the NodeTyperegistry should inform its eventChannel (the ClusterNode) when a nodetype re-registered in the method reregisterNodeType. Equivalently, the ClusterNode should inform the NodeTypeRegistry from one of its process methods.&lt;br/&gt;
&lt;br/&gt;
Is this really what needs to be done, or are there things that I&amp;#39;ve overlooked? Thanks!</comment>
                    <comment id="12465986" author="dpfister" created="Fri, 19 Jan 2007 08:40:24 +0000"  >You&amp;#39;re right, this is exactly the way to implement it! In my first approach, I just made the methods &amp;quot;clusterable&amp;quot; that were absolutely necessary for some sample application to run. I will add the re-registration feature as soon as possible.</comment>
                    <comment id="12465995" author="martijnh" created="Fri, 19 Jan 2007 09:25:36 +0000"  >That would be great, thanks!&lt;br/&gt;
</comment>
                    <comment id="12493596" author="martijnh" created="Fri, 4 May 2007 08:10:21 +0100"  >Here is a patch that adds the synchronization of reregister and unregister events. It follows the implementation idea from the comments above. Feedback is very welcome!</comment>
                    <comment id="12498989" author="dpfister" created="Fri, 25 May 2007 09:48:21 +0100"  >Thank you for providing your patch, Martijn! I applied it with some small modifications to the serialization/deserialization logic: all other operations that belong to some group use the same character to introduce the record (e.g. &amp;#39;L&amp;#39; for locking) and I therefore kept the &amp;#39;T&amp;#39; for nodetype and encoded the type of operation along with the size in order to stay compatible with older versions.&lt;br/&gt;
&lt;br/&gt;
Fixed in revision 541585.</comment>
                    <comment id="12501336" author="jukkaz" created="Mon, 4 Jun 2007 20:49:01 +0100"  >Merged to the 1.3 branch in revision 544221.</comment>
                </comments>
                    <attachments>
                    <attachment id="12356750" name="JCR-699.patch" size="18925" author="martijnh" created="Fri, 4 May 2007 08:10:21 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 19 Jan 2007 08:40:24 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80508</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191171</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>