<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:44:49 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-482/JCR-482.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-482] DocViewSaxEventGenerator may generate non-NS-wellformed XML</title>
                <link>https://issues.apache.org/jira/browse/JCR-482</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The XML serialization code relies on the fact that all required prefix-to-uri mappings are known beforehand (actually, when serializing the root node). So there&amp;#39;s an assumption that the permanent namespace registry will never change during serialization, which may be incorrect when another client adds namespace registrations while the XML export is in progress.&lt;br/&gt;
&lt;br/&gt;
To fix this, &amp;quot;addNamespacePrefixes&amp;quot; should ensure that namespace declarations have been written for all prefixes used on the current node (node name + properties), potentially going back to the namespace resolver when needed.&lt;br/&gt;
&lt;br/&gt;
(Should there be consensus for that change I&amp;#39;m happy to give it a try)</description>
                <environment>n/a</environment>
            <key id="12346168">JCR-482</key>
            <summary>DocViewSaxEventGenerator may generate non-NS-wellformed XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jukkaz">Jukka Zitting</assignee>
                                <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jul 2006 15:04:49 +0100</created>
                <updated>Fri, 3 Nov 2006 09:20:41 +0000</updated>
                    <resolved>Sun, 3 Sep 2006 23:33:55 +0100</resolved>
                            <version>0.9</version>
                <version>1.0</version>
                <version>1.0.1</version>
                                <fixVersion>1.1</fixVersion>
                                <component>xml</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12422119" author="jukkaz" created="Wed, 19 Jul 2006 14:38:23 +0100"  >Good point.&lt;br/&gt;
&lt;br/&gt;
The spec requires the &amp;quot;relevant mappings&amp;quot; to be included in the &amp;quot;top-most XML element&amp;quot;, but in this case (concurrent introduction of new namespaces) I think it&amp;#39;s better to include extra namespaces as local xmlns settings than to skip the elements or to use unknown prefixes.&lt;br/&gt;
&lt;br/&gt;
I see two ways to fix this. One is the straightforward solution you mentioned of adding missing namespace mappings on the fly, and the other would be to block all changes to the namespace registry while an XML export is in progress.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; Should there be consensus for that change I&amp;#39;m happy to give it a try&lt;br/&gt;
&lt;br/&gt;
Please do, patches are very much welcome! :-)</comment>
                    <comment id="12425576" author="reschke" created="Thu, 3 Aug 2006 18:41:07 +0100"  >Proposed patch (serializer remembers previously written namespace declarations and adds new ones when needed).&lt;br/&gt;
</comment>
                    <comment id="12431254" author="reschke" created="Tue, 29 Aug 2006 15:33:01 +0100"  >Related to this, ExportDocViewTest.compareNamespaces() makes the assumption that *all* registered namespaces need to be serialized in the root element (and refers to 6.4.2.1 as justification). However, 6.4.2.1 only talks about the &amp;quot;relevant&amp;quot; declarations.&lt;br/&gt;
&lt;br/&gt;
In any case, both the requirement in the spec and the test case should be relaxed to permit any serialization that produces a valid XML document: it should be left to the implementation when and where to include namespace declarations, as long as they the result document is namespace-wellformed.&lt;br/&gt;
</comment>
                    <comment id="12432383" author="jukkaz" created="Sun, 3 Sep 2006 23:33:55 +0100"  >Patch applied revision 439854. Thanks!</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12354659">JCR-616</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12338085" name="JIRA-482.diff.txt" size="6534" author="reschke" created="Thu, 3 Aug 2006 18:41:07 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 19 Jul 2006 13:38:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80364</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>231721</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>