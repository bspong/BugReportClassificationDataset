<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:49:11 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-620/JCR-620.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-620] Workspace.getImportHandler() doesn&apos;t handle namespace declarations in document view when they are reported as attributes</title>
                <link>https://issues.apache.org/jira/browse/JCR-620</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>XMIDocumentViewImportTest is copy of DocumentViewImportTest EXCEPT that createSimpleDocument is overridden.&lt;br/&gt;
&lt;br/&gt;
New simple document is typical of XMI serializations from Eclipse Modeling Framework (EMF).&lt;br/&gt;
&lt;br/&gt;
Four out of eight tests fail due to bad uri    Trace below:&lt;br/&gt;
&lt;br/&gt;
javax.jcr.NamespaceException: &lt;a href=&quot;http://www.apache.org/jackrabbit/test/namespaceImportTest7:&quot;&gt;www.apache.org/jackrabbit/test/namespaceImportTest7:&lt;/a&gt; is not a registered namespace uri.&lt;br/&gt;
	at org.apache.jackrabbit.core.NamespaceRegistryImpl.getPrefix(NamespaceRegistryImpl.java:378)&lt;br/&gt;
	at org.apache.jackrabbit.core.LocalNamespaceMappings.getPrefix(LocalNamespaceMappings.java:193)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.getNamespacePrefix(SessionImpl.java:1307)&lt;br/&gt;
	at org.apache.jackrabbit.test.api.XMIDocumentViewImportTest.checkImportSimpleXMLTree(XMIDocumentViewImportTest.java:176)&lt;br/&gt;
	at org.apache.jackrabbit.test.api.XMIDocumentViewImportTest.performTests(XMIDocumentViewImportTest.java:154)&lt;br/&gt;
	at org.apache.jackrabbit.test.api.XMIDocumentViewImportTest.doTestImportXML(XMIDocumentViewImportTest.java:119)&lt;br/&gt;
	at org.apache.jackrabbit.test.api.XMIDocumentViewImportTest.testWorkspaceImportXml(XMIDocumentViewImportTest.java:70)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at org.apache.jackrabbit.test.AbstractJCRTest.run(AbstractJCRTest.java:393)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment>New JUnit for org.apache.jackrabbit.test.api</environment>
            <key id="12354733">JCR-620</key>
            <summary>Workspace.getImportHandler() doesn&apos;t handle namespace declarations in document view when they are reported as attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="dsconnelly">Dan Connelly</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Nov 2006 20:19:31 +0000</created>
                <updated>Tue, 12 Dec 2006 13:03:49 +0000</updated>
                    <resolved>Wed, 8 Nov 2006 15:43:37 +0000</resolved>
                            <version>1.1</version>
                                <fixVersion>1.1.1</fixVersion>
                                <component>xml</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12447069" author="dsconnelly" created="Fri, 3 Nov 2006 20:24:54 +0000"  >Copy of DocumentViewImportTest.java except that method createSimpleDocument is overriden.</comment>
                    <comment id="12447083" author="dsconnelly" created="Fri, 3 Nov 2006 21:32:00 +0000"  >Attachment 1 is functionally the same as Attachment 2.    Removed copied code.</comment>
                    <comment id="12447096" author="dsconnelly" created="Fri, 3 Nov 2006 23:14:22 +0000"  >Oops.   My mistake.   The failing tests are invalid.    Please close this JIRA. </comment>
                    <comment id="12447213" author="dsconnelly" created="Sun, 5 Nov 2006 01:21:59 +0000"  >On second thought, don&amp;#39;t close this JIRA.&lt;br/&gt;
&lt;br/&gt;
The latest attached JUnit shows the problem without having to introduce new document contents.&lt;br/&gt;
&lt;br/&gt;
The method importWithHandler in DocumentViewImportTest is overridden in such a way that the JVM default parser is used to extract events directly from the DOM.&lt;br/&gt;
&lt;br/&gt;
Problem is that Sun&amp;#39;d Apache Xalan parser delivers different events to the handler than does org.apache.xerces.parsers.SAXParser.</comment>
                    <comment id="12447214" author="dsconnelly" created="Sun, 5 Nov 2006 01:48:33 +0000"  >I change the class name (and file name) for the new JUnit test.    The problem is due the DOMSource, not to XMI style XMLs.</comment>
                    <comment id="12448164" author="stefan@jira" created="Wed, 8 Nov 2006 15:21:32 +0000"  >when importing a document view xml file using Workspace.getImportHandler()&lt;br/&gt;
any namespace declarations reported as element attributes (e.g. xmlns:foo=&amp;quot;&lt;a href=&quot;http://acme.org/foo&quot;&gt;http://acme.org/foo&lt;/a&gt;&amp;quot;)&lt;br/&gt;
will be misinterpreted as jcr properties. any attempt to access sucha property using the&lt;br/&gt;
jcr api will lead to an UndeclaredPrefixException since the xmlns namespace cannot be used in jcr.&lt;br/&gt;
&lt;br/&gt;
btw: whether namespace declarations are reported as element attributes is governed by the &lt;br/&gt;
following sax feature: &lt;a href=&quot;http://xml.org/sax/features/namespace-prefixes&quot;&gt;http://xml.org/sax/features/namespace-prefixes&lt;/a&gt;&lt;br/&gt;
see &lt;a href=&quot;http://xerces.apache.org/xerces2-j/features.html#namespace-prefixes&quot;&gt;http://xerces.apache.org/xerces2-j/features.html#namespace-prefixes&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
i don&amp;#39;t know how this can be controlled when doing dom-&amp;gt;sax transformations using  javax.xml.transform.Transformer.&lt;br/&gt;
</comment>
                    <comment id="12448174" author="stefan@jira" created="Wed, 8 Nov 2006 15:43:37 +0000"  >fixed in svn rev. 472523</comment>
                </comments>
                    <attachments>
                    <attachment id="12344340" name="DocumentViewDOMSourceImportTest.java" size="2736" author="dsconnelly" created="Sun, 5 Nov 2006 01:48:33 +0000" />
                    <attachment id="12344339" name="XMIDocumentViewImportTest.java" size="2730" author="dsconnelly" created="Sun, 5 Nov 2006 01:21:59 +0000" />
                    <attachment id="12344314" name="XMIDocumentViewImportTest.java" size="1502" author="" created="Fri, 3 Nov 2006 21:28:44 +0000" />
                    <attachment id="12344311" name="XMIDocumentViewImportTest.java" size="19594" author="dsconnelly" created="Fri, 3 Nov 2006 20:24:54 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 8 Nov 2006 15:21:32 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80477</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191937</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>