<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:47:11 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-213/JCR-213.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-213] Avoid creation of more than one jackrabbit instance with the same configuration</title>
                <link>https://issues.apache.org/jira/browse/JCR-213</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>based on the mailing list archive, it seems new users often run more than one jackrabbit instance with the same configuration. I propose to lock the repository by creating an empty file called &amp;quot;.lock&amp;quot; at the repository home on startup and remove it on shutdown.&lt;br/&gt;
If the lock file is found on jackrabbit startup the following message will be logged:&lt;br/&gt;
&amp;quot;The repository home at &amp;quot; + home.getAbsolutePath() + &amp;quot; appears to be in use. If you are sure it&amp;#39;s not in use please delete the file at  &amp;quot; + lock.getAbsolutePath() + &amp;quot;. Probably the repository was not shutdown properly.&amp;quot;&lt;br/&gt;
</description>
                <environment></environment>
            <key id="12314764">JCR-213</key>
            <summary>Avoid creation of more than one jackrabbit instance with the same configuration</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="edgarpoce">Edgar Poce</assignee>
                                <reporter username="edgarpoce">Edgar Poce</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2005 14:01:59 +0100</created>
                <updated>Fri, 13 Oct 2006 17:07:22 +0100</updated>
                    <resolved>Fri, 9 Sep 2005 23:31:15 +0100</resolved>
                                            <fixVersion>1.0</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12322993" author="edgarpoce" created="Fri, 9 Sep 2005 14:07:18 +0100"  >I no one objects I&amp;#39;ll apply this patch.</comment>
                    <comment id="12323002" author="jukkaz" created="Fri, 9 Sep 2005 17:23:30 +0100"  >Sounds useful, +1 from me.&lt;br/&gt;
&lt;br/&gt;
PS. Should the releaseRepositoryLock call be placed at the end of the shutdown() method instead of the beginning?</comment>
                    <comment id="12323011" author="tripod" created="Fri, 9 Sep 2005 19:30:29 +0100"  >additionally to deleting the file explicitely, i woud also mark it for &amp;#39;auto-deletion&amp;#39; by calling File.deleteOnExit()&lt;br/&gt;
</comment>
                    <comment id="12323015" author="fmeschbe" created="Fri, 9 Sep 2005 20:21:27 +0100"  >&amp;gt; i woud also mark it for &amp;#39;auto-deletion&amp;#39; by calling File.deleteOnExit() &lt;br/&gt;
&lt;br/&gt;
I would not. Apart from deleteOnExit() being prone to memory problems, I think the existence of the lock file beyond the life time of the repository would indicate problems.</comment>
                    <comment id="12323037" author="edgarpoce" created="Fri, 9 Sep 2005 23:31:15 +0100"  >&amp;gt; &amp;gt; i woud also mark it for &amp;#39;auto-deletion&amp;#39; by calling File.deleteOnExit()&lt;br/&gt;
&amp;gt; I would not. Apart from deleteOnExit() being prone to memory problems, &lt;br/&gt;
&amp;gt; I think the existence of the lock file beyond the life time of the repository would &lt;br/&gt;
&amp;gt; indicate problems.&lt;br/&gt;
&lt;br/&gt;
I agree with felix. anyway the change proposed by tobi can be added later if needed.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; PS. Should the releaseRepositoryLock call be placed at the end of the shutdown() method &lt;br/&gt;
&amp;gt; instead of the beginning?&lt;br/&gt;
&lt;br/&gt;
I agree. &lt;br/&gt;
&lt;br/&gt;
thanks for your comments&lt;br/&gt;
</comment>
                    <comment id="12329999" author="jukkaz" created="Wed, 21 Sep 2005 00:07:50 +0100"  >See &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4513817&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4513817&lt;/a&gt; for more information about the File.deleteOnExit() memory problems.</comment>
                </comments>
                    <attachments>
                    <attachment id="12312801" name="05-09-09-lockRepoHome.patch" size="2646" author="edgarpoce" created="Fri, 9 Sep 2005 14:07:18 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 9 Sep 2005 16:23:30 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142021</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279368</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>