<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:38:15 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-327/JCR-327.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-327] Mixins as supertypes do not appear to be queryable</title>
                <link>https://issues.apache.org/jira/browse/JCR-327</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>When creating custom nodetypes that contain mixins as the supertype, nodes of the custom type do not appear to be queryable when using statements of the form: //element(*, mixin). Attached are a relatively simple JUnit test and compact type definition that seem to illustrate the problem.</description>
                <environment></environment>
            <key id="12329384">JCR-327</key>
            <summary>Mixins as supertypes do not appear to be queryable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mreutegg">Marcel Reutegger</assignee>
                                <reporter username="mdaglian">Michael Daglian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2006 23:54:41 +0000</created>
                <updated>Fri, 13 Oct 2006 17:07:29 +0100</updated>
                    <resolved>Mon, 27 Feb 2006 18:04:06 +0000</resolved>
                            <version>0.9</version>
                                <fixVersion>1.0</fixVersion>
                                <component>nodetype</component>
                <component>query</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12367690" author="mreutegg" created="Sat, 25 Feb 2006 03:26:44 +0000"  >There is indeed a bug in the query builder that creates the lucene query tree from the JCR query statement.&lt;br/&gt;
&lt;br/&gt;
Fixed in svn revision: 380766.&lt;br/&gt;
&lt;br/&gt;
Thank you for reporting this issue.&lt;br/&gt;
&lt;br/&gt;
Could you please check if this fix works for you and give a quick feedback? I did only check it with existing predefined node types, but it should also works for any custom defined node types.</comment>
                    <comment id="12367695" author="mdaglian" created="Sat, 25 Feb 2006 03:54:28 +0000"  >Hi Marcel,&lt;br/&gt;
&lt;br/&gt;
The fix does indeed work for custom types where the mixin is explicitly in the hierarchy. However, I&amp;#39;ve run into an issue now where type queries do not seem to locate mixins with other mixins as supertypes when querying for the supertype mixin. More concretely, using the type definitions attached, if I add nt:TestMixin to a node then the node responds true to isNodeType for nt:TestMixin and mix:versionable. Querying directly for nt:TestMixin using the element function also works. However, querying for mix:versionable does not seem to work.</comment>
                    <comment id="12367711" author="mreutegg" created="Sat, 25 Feb 2006 06:24:18 +0000"  >You are right. I&amp;#39;ll look into it asap.</comment>
                    <comment id="12367919" author="mreutegg" created="Mon, 27 Feb 2006 18:04:06 +0000"  >Ok, second attempt ;)&lt;br/&gt;
&lt;br/&gt;
The query builder now also searches for mixins that are derived from the node type in element test.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ve also added a test cases that searches referenceable nodes (o.a.j.core.MixinTest). The test adds nodes that are made referenceable in three ways:&lt;br/&gt;
- implicitly referenceable (node type definition has mix:referenceable as supertype)&lt;br/&gt;
- explicitly referenceable (mix:referenceable is set on node instance)&lt;br/&gt;
- explicitly referenceable using mixin derived from mix:referenceable&lt;br/&gt;
&lt;br/&gt;
svn revision: 381292</comment>
                </comments>
                    <attachments>
                    <attachment id="12323318" name="MixinTypesTest.java" size="5691" author="mdaglian" created="Thu, 23 Feb 2006 23:56:42 +0000" />
                    <attachment id="12323319" name="ntdefs.cnd" size="256" author="mdaglian" created="Thu, 23 Feb 2006 23:56:42 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 25 Feb 2006 03:26:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80400</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191293</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>