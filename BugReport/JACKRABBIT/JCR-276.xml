<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:48:51 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-276/JCR-276.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-276] SimpleWebdavServlet: avoid 404 for the root collection</title>
                <link>https://issues.apache.org/jira/browse/JCR-276</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>in order to avoid strange 404 error when accessing the root collection in simple webdav servlet (thus missing workspace name), that request should either be redirected or handled by a create fake root that has no correspondance in the jsr170 repository.</description>
                <environment></environment>
            <key id="12325874">JCR-276</key>
            <summary>SimpleWebdavServlet: avoid 404 for the root collection</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Nov 2005 16:44:14 +0000</created>
                <updated>Fri, 13 Oct 2006 17:13:38 +0100</updated>
                    <resolved>Wed, 30 Nov 2005 17:59:17 +0000</resolved>
                                                                    <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12358164" author="bcm" created="Tue, 22 Nov 2005 01:47:48 +0000"  >i haven&amp;#39;t integrated this code into my own build yet, so i am not familiar with it, but couldn&amp;#39;t the root collection simply use the default workspace? i certainly don&amp;#39;t want to have to specify a workspace name in my webdav urls, so i&amp;#39;ll have to address this one way or another.</comment>
                    <comment id="12358166" author="anchela" created="Tue, 22 Nov 2005 02:10:32 +0000"  >rather not...&lt;br/&gt;
&lt;br/&gt;
but you don&amp;#39;t have to have the workspace in your webdav urls: we have nice get/set methods for the factory, as suggested by brian some time ago. just reset it to the simple loc factory :)</comment>
                    <comment id="12358173" author="bcm" created="Tue, 22 Nov 2005 03:07:18 +0000"  >sounds like a plan :)</comment>
                    <comment id="12358894" author="anchela" created="Wed, 30 Nov 2005 17:54:49 +0000"  >discussion of variants:&lt;br/&gt;
&lt;br/&gt;
1) redirection to the default-workspace&lt;br/&gt;
-----------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
when accessing the not-existing root collection  -&amp;gt; login with &amp;#39;null&amp;#39; workspace&lt;br/&gt;
and redirect to resource representing the repository root-node, thus &lt;br/&gt;
including the workspace name obtained from the session.&lt;br/&gt;
&lt;br/&gt;
-&amp;gt; my favorite solution. but windows builtin dav client does not respect&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;redirects. therefore dropped.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
2) build a fake-root resource&lt;br/&gt;
------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
resource with no representation in the repository. none of the write or&lt;br/&gt;
lock methods would be allowed. it would only serve as collection for&lt;br/&gt;
all the available workspaces.&lt;br/&gt;
&lt;br/&gt;
-&amp;gt; separate resource implementation needed (see also jcr package)&lt;br/&gt;
-&amp;gt; need to make sure, that the new Repository-login is issued when the&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;user accesses any of the workspace resources (and its members)&lt;br/&gt;
-&amp;gt; perhaps confusing if the root does not allow any write operation?&lt;br/&gt;
&lt;br/&gt;
would be an option but i&amp;#39;m not sure, whether its really favorable....&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
3) don&amp;#39;t allow connection without valid resource-locator&lt;br/&gt;
-------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
perform Repository.login with &amp;#39;null&amp;#39; workspace in case the locator obtained from&lt;br/&gt;
the dav-request does not provide workspace information (e.g. when&lt;br/&gt;
using the simple-resourcelocator) of if the workspace is &amp;quot;&amp;quot;.&lt;br/&gt;
validation check however is delegated to the resource implementation&lt;br/&gt;
itself -&amp;gt; thus throwing 404 if the locator is null or does not provide a&lt;br/&gt;
resourcepath.&lt;br/&gt;
&lt;br/&gt;
consequence:&lt;br/&gt;
when using webdav/jcr/DavLocatorFactoryImpl accessing the &amp;#39;root-collection&amp;#39;&lt;br/&gt;
(thus connecting without valid workspace name) is not possible.&lt;br/&gt;
switching back to the factory implementation in webdav/simple allows&lt;br/&gt;
connection without workspace name.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12358895" author="anchela" created="Wed, 30 Nov 2005 17:59:17 +0000"  >implemented option 3) with rev. 349905 as a first fix of the inconsistency that connection to the root works but then results in 404.&lt;br/&gt;
&lt;br/&gt;
thus: with default installation connection to the non existing root collection is not allowed any more.&lt;br/&gt;
&lt;br/&gt;
resolving issue fixed.&lt;br/&gt;
we may reopen it if we find out that another solution would be much better.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 22 Nov 2005 01:47:48 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142074</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>279339</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>