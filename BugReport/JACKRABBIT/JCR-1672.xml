<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:52:23 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1672/JCR-1672.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1672] Adding Event interface and isLocal()</title>
                <link>https://issues.apache.org/jira/browse/JCR-1672</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>when a repository cluster is used, it seems that a common problem many people have is to detect if an observation event is send because of changes on the local instance or a remote instance of the cluster.&lt;br/&gt;
&lt;br/&gt;
This is especially important if you want to do post processing of data&lt;br/&gt;
based on observation (the post processing should only be done by one instance in the cluster).&lt;br/&gt;
&lt;br/&gt;
A current solution is to cast the jcr event object to the EventImpl of jackrabbit core which is obviously not a nice solution :)&lt;br/&gt;
&lt;br/&gt;
So what about adding an event interface to jackrabbit api which extends the jcr event interface and adds the isLocal() method? </description>
                <environment></environment>
            <key id="12399754">JCR-1672</key>
            <summary>Adding Event interface and isLocal()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jul 2008 19:36:04 +0100</created>
                <updated>Mon, 8 Dec 2008 11:09:40 +0000</updated>
                    <resolved>Tue, 29 Jul 2008 09:23:58 +0100</resolved>
                            <version>1.4</version>
                                <fixVersion>1.5</fixVersion>
                                <component>jackrabbit-api</component>
                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12611362" author="tripod" created="Mon, 7 Jul 2008 22:37:48 +0100"  >i would rather add the isExternal() method to the interface. &amp;#39;local&amp;#39; is already occupied by the listener registration and means that only local-events (i.e. this session) should be observed.</comment>
                    <comment id="12611462" author="cziegeler" created="Tue, 8 Jul 2008 06:51:32 +0100"  >Yes, makes sense.</comment>
                    <comment id="12613564" author="cziegeler" created="Tue, 15 Jul 2008 10:23:17 +0100"  >This adds the local event listener interface to jackrabbit</comment>
                    <comment id="12613936" author="mreutegg" created="Wed, 16 Jul 2008 13:38:48 +0100"  >Applied patch in revision: 677261</comment>
                    <comment id="12613937" author="mreutegg" created="Wed, 16 Jul 2008 13:39:11 +0100"  >Also affects jackrabbit-core.</comment>
                    <comment id="12616000" author="cziegeler" created="Wed, 23 Jul 2008 13:47:52 +0100"  >As discussed in the mailing list, it&amp;#39;s better to have the isExternal() method on an extension of the event interface.</comment>
                    <comment id="12616002" author="cziegeler" created="Wed, 23 Jul 2008 13:59:51 +0100"  >New patch adding the ExtendedEvent interface and the isExternal() method.</comment>
                    <comment id="12616876" author="jukkaz" created="Fri, 25 Jul 2008 13:26:35 +0100"  >Thanks! Patch applied in revision 679735.&lt;br/&gt;
&lt;br/&gt;
In revision 679741 I renamed the interface to JackrabbitEvent for consistency with the previous JackrabbitSomething naming pattern for Jackrabbit-specific extensions.&lt;br/&gt;
&lt;br/&gt;
About the naming of the method, IMHO isExternal() is still semantically a bit too close (the logical opposite) to the &amp;quot;local&amp;quot; flag in listener registration. How about isClusterLocal()?</comment>
                    <comment id="12616877" author="jukkaz" created="Fri, 25 Jul 2008 13:36:40 +0100"  >Also, I reverted the original patch (revision 677261, the LocalEventListener interface) in revision 679750.&lt;br/&gt;
&lt;br/&gt;
We can reintroduce the interface once we can leverage the extra information it gives to the observation manager, but until that it&amp;#39;s better to avoid having two different mechanisms for the same functionality.</comment>
                    <comment id="12617374" author="cziegeler" created="Mon, 28 Jul 2008 08:04:52 +0100"  >I&amp;#39;m not sure what the best wording might be, but I think isExternal is &amp;quot;ok&amp;quot; - for me the opposite of isLocal would be isRemote :)</comment>
                    <comment id="12617388" author="tripod" created="Mon, 28 Jul 2008 10:02:28 +0100"  >IMO isExternal() is a good choice, since it not entirely tied to a cluster setup. It just specifies that the&lt;br/&gt;
underlying data was changed but the modification did not go through &amp;#39;this&amp;#39; repository. theoretically one could modify the values in the DB directly and then send such an event (which is of course discouraged :-).</comment>
                    <comment id="12617728" author="cziegeler" created="Tue, 29 Jul 2008 08:24:10 +0100"  >So I think we can close this bug.</comment>
                    <comment id="12617738" author="jukkaz" created="Tue, 29 Jul 2008 09:23:58 +0100"  >Agreed. Resolving as Fixed.</comment>
                </comments>
                    <attachments>
                    <attachment id="12386715" name="jackrabbit.patch" size="3104" author="cziegeler" created="Wed, 23 Jul 2008 13:59:51 +0100" />
                    <attachment id="12386043" name="localeventlistener.patch" size="6599" author="cziegeler" created="Tue, 15 Jul 2008 10:23:17 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 7 Jul 2008 21:37:48 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142792</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>192395</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>