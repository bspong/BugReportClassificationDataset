<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:34:09 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1345/JCR-1345.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1345] ClassCastException when updating properties using WebDAV</title>
                <link>https://issues.apache.org/jira/browse/JCR-1345</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>When issuing PROPPATCH commands, a ClassCastException is raised.&lt;br/&gt;
&lt;br/&gt;
e.g. &lt;br/&gt;
&lt;br/&gt;
PROPPATCH /jackrabbit-webapp-1.4/repository/default/test/test_file_v.txt HTTP/1.1&lt;br/&gt;
Host: localhost:9000&lt;br/&gt;
Connection: TE&lt;br/&gt;
TE: trailers, deflate, gzip, compress&lt;br/&gt;
User-Agent: UCI DAV Explorer/0.91 RPT-HTTPClient/0.3-3E&lt;br/&gt;
Translate: f&lt;br/&gt;
Authorization: Basic Y3Jvc3NqYTp0ZXN0&lt;br/&gt;
Accept-Encoding: deflate, gzip, x-gzip, compress, x-compress&lt;br/&gt;
Content-type: text/xml&lt;br/&gt;
Content-length: 170&lt;br/&gt;
&lt;br/&gt;
&amp;lt;A:propertyupdate xmlns:A=&amp;quot;DAV:&amp;quot;&amp;gt;&lt;br/&gt;
&amp;lt;A:set&amp;gt;&lt;br/&gt;
&amp;lt;A:prop&amp;gt;&lt;br/&gt;
&amp;lt;A:auto-version&amp;gt;checkout-checkin&amp;lt;/A:auto-version&amp;gt;&lt;br/&gt;
&amp;lt;/A:prop&amp;gt;&lt;br/&gt;
&amp;lt;/A:set&amp;gt;&lt;br/&gt;
&amp;lt;/A:propertyupdate&amp;gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
results in&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
24.01.2008 15:38:34 *ERROR* [Webdav]: Servlet.service() for servlet Webdav threw&lt;br/&gt;
&amp;nbsp;exception (StandardWrapperValve.java, line 257)&lt;br/&gt;
java.lang.ClassCastException: org.apache.jackrabbit.webdav.property.DefaultDavPr&lt;br/&gt;
operty&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.simple.DavResourceImpl.alterProperties(D&lt;br/&gt;
avResourceImpl.java:456)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropPatch&lt;br/&gt;
(AbstractWebdavServlet.java:457)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(Abs&lt;br/&gt;
tractWebdavServlet.java:234)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(Abs&lt;br/&gt;
tractWebdavServlet.java:192)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl&lt;br/&gt;
icationFilterChain.java:269)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF&lt;br/&gt;
ilterChain.java:188)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV&lt;br/&gt;
alve.java:210)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV&lt;br/&gt;
alve.java:174)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j&lt;br/&gt;
ava:127)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j&lt;br/&gt;
ava:117)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal&lt;br/&gt;
ve.java:108)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav&lt;br/&gt;
a:151)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&lt;br/&gt;
:870)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.p&lt;br/&gt;
rocessConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpo&lt;br/&gt;
int.java:528)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFol&lt;br/&gt;
lowerWorkerThread.java:81)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP&lt;br/&gt;
ool.java:685)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
24.01.2008 15:38:34 *ERROR* [Webdav]: Servlet.service() for servlet Webdav threw&lt;br/&gt;
&amp;nbsp;exception (SLF4JLocationAwareLog.java, line 174)&lt;br/&gt;
java.lang.ClassCastException: org.apache.jackrabbit.webdav.property.DefaultDavPr&lt;br/&gt;
operty&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.simple.DavResourceImpl.alterProperties(D&lt;br/&gt;
avResourceImpl.java:456)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropPatch&lt;br/&gt;
(AbstractWebdavServlet.java:457)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(Abs&lt;br/&gt;
tractWebdavServlet.java:234)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(Abs&lt;br/&gt;
tractWebdavServlet.java:192)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl&lt;br/&gt;
icationFilterChain.java:269)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF&lt;br/&gt;
ilterChain.java:188)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV&lt;br/&gt;
alve.java:210)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV&lt;br/&gt;
alve.java:174)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j&lt;br/&gt;
ava:127)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j&lt;br/&gt;
ava:117)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal&lt;br/&gt;
ve.java:108)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav&lt;br/&gt;
a:151)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&lt;br/&gt;
:870)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.p&lt;br/&gt;
rocessConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpo&lt;br/&gt;
int.java:528)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFol&lt;br/&gt;
lowerWorkerThread.java:81)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP&lt;br/&gt;
ool.java:685)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
24.01.2008 15:53:54 *ERROR* [Webdav]: Servlet.service() for servlet Webdav threw&lt;br/&gt;
&amp;nbsp;exception (StandardWrapperValve.java, line 257)&lt;br/&gt;
java.lang.ClassCastException: org.apache.jackrabbit.webdav.property.DefaultDavPr&lt;br/&gt;
operty&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.simple.DavResourceImpl.alterProperties(D&lt;br/&gt;
avResourceImpl.java:456)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropPatch&lt;br/&gt;
(AbstractWebdavServlet.java:457)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(Abs&lt;br/&gt;
tractWebdavServlet.java:234)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(Abs&lt;br/&gt;
tractWebdavServlet.java:192)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl&lt;br/&gt;
icationFilterChain.java:269)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF&lt;br/&gt;
ilterChain.java:188)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV&lt;br/&gt;
alve.java:210)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV&lt;br/&gt;
alve.java:174)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j&lt;br/&gt;
ava:127)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j&lt;br/&gt;
ava:117)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal&lt;br/&gt;
ve.java:108)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav&lt;br/&gt;
a:151)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&lt;br/&gt;
:870)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.p&lt;br/&gt;
rocessConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpo&lt;br/&gt;
int.java:528)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFol&lt;br/&gt;
lowerWorkerThread.java:81)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP&lt;br/&gt;
ool.java:685)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
24.01.2008 15:53:54 *ERROR* [Webdav]: Servlet.service() for servlet Webdav threw&lt;br/&gt;
&amp;nbsp;exception (SLF4JLocationAwareLog.java, line 174)&lt;br/&gt;
java.lang.ClassCastException: org.apache.jackrabbit.webdav.property.DefaultDavPr&lt;br/&gt;
operty&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.simple.DavResourceImpl.alterProperties(D&lt;br/&gt;
avResourceImpl.java:456)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropPatch&lt;br/&gt;
(AbstractWebdavServlet.java:457)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(Abs&lt;br/&gt;
tractWebdavServlet.java:234)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(Abs&lt;br/&gt;
tractWebdavServlet.java:192)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl&lt;br/&gt;
icationFilterChain.java:269)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF&lt;br/&gt;
ilterChain.java:188)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV&lt;br/&gt;
alve.java:210)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV&lt;br/&gt;
alve.java:174)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j&lt;br/&gt;
ava:127)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j&lt;br/&gt;
ava:117)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal&lt;br/&gt;
ve.java:108)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav&lt;br/&gt;
a:151)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&lt;br/&gt;
:870)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.p&lt;br/&gt;
rocessConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpo&lt;br/&gt;
int.java:528)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFol&lt;br/&gt;
lowerWorkerThread.java:81)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP&lt;br/&gt;
ool.java:685)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.lang.Thread.run(Thread.java:595) </description>
                <environment>Tomcat 5.5.23 on Windows XP</environment>
            <key id="12387065">JCR-1345</key>
            <summary>ClassCastException when updating properties using WebDAV</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="jim_cross">Jim Cross</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2008 17:19:56 +0000</created>
                <updated>Mon, 29 Sep 2008 15:47:30 +0100</updated>
                    <resolved>Fri, 25 Jan 2008 12:02:53 +0000</resolved>
                            <version>1.4</version>
                                <fixVersion>jcr-server 1.4.1</fixVersion>
                                <component>jackrabbit-jcr-server</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12562432" author="jim_cross" created="Fri, 25 Jan 2008 10:50:54 +0000"  >Just spotted the bug. In DavResourceImpl:&lt;br/&gt;
&lt;br/&gt;
statusCode = (error instanceof RepositoryException)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;? new JcrDavException((RepositoryException)o).getErrorCode()&lt;br/&gt;
&amp;nbsp;&amp;nbsp;: DavServletResponse.SC_INTERNAL_SERVER_ERROR;&lt;br/&gt;
&lt;br/&gt;
should be&lt;br/&gt;
&lt;br/&gt;
statusCode = (error instanceof RepositoryException)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;? new JcrDavException((RepositoryException)error).getErrorCode()&lt;br/&gt;
&amp;nbsp;&amp;nbsp;: DavServletResponse.SC_INTERNAL_SERVER_ERROR;&lt;br/&gt;
&lt;br/&gt;
Unfortunately I can&amp;#39;t contribute from work, but hopefully this will give you the chance to patch it quickly.&lt;br/&gt;
&lt;br/&gt;
Thanks,&lt;br/&gt;
&lt;br/&gt;
Jim</comment>
                    <comment id="12562444" author="anchela" created="Fri, 25 Jan 2008 11:31:16 +0000"  >oh. thanks a lot!&lt;br/&gt;
&lt;br/&gt;
i will fix it immediately.&lt;br/&gt;
&lt;br/&gt;
btw: as far as i know the DAV:auto-version property is present upon PROPFIND, but &lt;br/&gt;
obvious PROPPATCH on it should only be allowed if the new value can be properly handled. This is currently not the case.&lt;br/&gt;
Therefore either PROPPATCH should disallow modifying the property OR the resources should properly behave to a other value.&lt;br/&gt;
&lt;br/&gt;
In any case the value of the DAV:auto-version  should be checked for validity.&lt;br/&gt;
I will open another issue for that.</comment>
                    <comment id="12562458" author="anchela" created="Fri, 25 Jan 2008 12:02:53 +0000"  >applied fix with rev. 615194  &lt;br/&gt;
&lt;br/&gt;
i didn&amp;#39;t run litmus and didn&amp;#39;t perform any extensive tests, but quickly modified props (one valid and one that fails) with DavExplorer. that seemed ok now.&lt;br/&gt;
&lt;br/&gt;
thanks again for finding the bug (and the resolution).&lt;br/&gt;
angela&lt;br/&gt;
</comment>
                    <comment id="12562535" author="jim_cross" created="Fri, 25 Jan 2008 15:24:04 +0000"  >Thanks Angela&lt;br/&gt;
&lt;br/&gt;
I guess the reason there isn&amp;#39;t a check for valid auto-version values is that auto-versioning isn&amp;#39;t supported (according to the comment in VersionControlledResourceImpl). I just drove myself mad trying to figure out why a PROPPATCH on auto-version wasn&amp;#39;t reflected when I reloaded the resource in DAV Explorer..until I found that comment in VersionControlledResourceImpl.initProperties()&lt;br/&gt;
&lt;br/&gt;
I might have a crack at implementing auto-versioning myself, as I need a high-performance solution, and making 3 calls to put a versioned resource every time will be too expensive.</comment>
                    <comment id="12562549" author="anchela" created="Fri, 25 Jan 2008 16:01:52 +0000"  >i created an issue for the DAV:auto-versioning -&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1348&quot; title=&quot;simple-webdav: DAV:auto-version property not handled properly&quot;&gt;JCR-1348&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
-&amp;gt; see there for further comments.</comment>
                    <comment id="12565693" author="jukkaz" created="Tue, 5 Feb 2008 10:37:09 +0000"  >Merged to the 1.4 branch in revision 618604.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 25 Jan 2008 11:31:16 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78589</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190125</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>