<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:49:14 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-1049/JCR-1049.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-1049] DatabaseFileSystem: mysql.ddl works for mysql5 but not mysql 4.1.20</title>
                <link>https://issues.apache.org/jira/browse/JCR-1049</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>Perhaps a new column ( primary key ) could get added to the table called uid, which is actually an md5checksum of FSENTRY_PATH and FSENTRY_NAME.</description>
                <environment>MySQL 4.1.20&lt;br/&gt;
ERROR 1071 (42000): Specified key was too long; max key length is 1000 bytes</environment>
            <key id="12375169">JCR-1049</key>
            <summary>DatabaseFileSystem: mysql.ddl works for mysql5 but not mysql 4.1.20</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="mores">Stephen More</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Aug 2007 21:32:35 +0100</created>
                <updated>Mon, 8 Oct 2007 11:47:24 +0100</updated>
                    <resolved>Thu, 16 Aug 2007 11:03:20 +0100</resolved>
                            <version>1.2.1</version>
                <version>1.2.2</version>
                <version>1.2.3</version>
                <version>1.3</version>
                <version>1.3.1</version>
                                <fixVersion>1.3.3</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12517250" author="stefan@jira" created="Thu, 2 Aug 2007 14:10:23 +0100"  >hi stephen,&lt;br/&gt;
&lt;br/&gt;
thanks for reporting this issue.&lt;br/&gt;
&lt;br/&gt;
this issue has been reported a while ago on the dev-list. you can find the&lt;br/&gt;
discussion (incl. solutions) here:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg00969.html&quot;&gt;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg00969.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
i&amp;#39;m resolving this issue as &amp;quot;Won&amp;#39;t Fix&amp;quot; since it&amp;#39;s IMO rather a db configuration issue.&lt;br/&gt;
&lt;br/&gt;
cheers&lt;br/&gt;
stefan</comment>
                    <comment id="12517303" author="mores" created="Thu, 2 Aug 2007 17:02:52 +0100"  >I am sorry, but IMO this does not seem like a reasonable solution.&lt;br/&gt;
&lt;br/&gt;
Mysql fixed this bug ( not config ) as of 5.0.19 - &lt;a href=&quot;http://bugs.mysql.com/bug.php?id=13835&quot;&gt;http://bugs.mysql.com/bug.php?id=13835&lt;/a&gt; &lt;br/&gt;
&lt;br/&gt;
To support older databases, mysql4.ddl should get created with:&lt;br/&gt;
create table ${schemaObjectPrefix}FSENTRY (FSENTRY_PATH text not null, FSENTRY_NAME varchar(255) not null, FSENTRY_DATA longblob null, FSENTRY_LASTMOD bigint not null, FSENTRY_LENGTH bigint not null) charset latin1&lt;br/&gt;
&lt;br/&gt;
This allows the developer to choose the right schema in his/her application without having to download the code, create a patch, then do it all over again after the next release.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
mysql4.dll and mysql.ddl should have:&lt;br/&gt;
create unique index JCR_FSENTRY_IDX on JCR_FSENTRY (FSENTRY_PATH(745), FSENTRY_NAME);&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12520024" author="stefan@jira" created="Wed, 15 Aug 2007 17:09:54 +0100"  >&amp;gt; Mysql fixed this bug ( not config ) as of 5.0.19 - &lt;a href=&quot;http://bugs.mysql.com/bug.php?id=13835&quot;&gt;http://bugs.mysql.com/bug.php?id=13835&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
this mysql bug is IMO unrelated to the current issue because it refers to fulltext indices which are not used in jackrabbit.&lt;br/&gt;
fulltext indices don&amp;#39;t have a size limit (hence the mysql bug), but regular indices do.</comment>
                    <comment id="12520187" author="stefan@jira" created="Thu, 16 Aug 2007 10:49:40 +0100"  >&amp;gt; mysql4.dll and mysql.ddl should have:&lt;br/&gt;
&amp;gt; create unique index JCR_FSENTRY_IDX on JCR_FSENTRY (FSENTRY_PATH(745), FSENTRY_NAME);&lt;br/&gt;
&lt;br/&gt;
that&amp;#39;s not a good idea since the max key limit is storage engine &amp;amp; mysql version dependant.&lt;br/&gt;
&lt;br/&gt;
&amp;lt;quote src=&amp;quot;&lt;a href=&quot;http://dev.mysql.com/doc/refman/4.1/en/create-index.html&quot;&gt;http://dev.mysql.com/doc/refman/4.1/en/create-index.html&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
Prefix lengths are storage engine-dependent (for example, a prefix can be up to 1000 bytes long for MyISAM tables, 767 bytes for InnoDB tables). (Before MySQL 4.1.2, the limit is 255 bytes for all tables.) Note that prefix limits are measured in bytes, whereas the prefix length in CREATE INDEX statements is interpreted as number of characters for non-binary data types (CHAR, VARCHAR, TEXT). Take this into account when specifying a prefix length for a column that uses a multi-byte character set.&lt;br/&gt;
&amp;lt;/quote&amp;gt;&lt;br/&gt;
&lt;br/&gt;
the current &amp;#39;create unique index&amp;#39; stmt in mysql.ddl is IMO a good compromise that will work with most  mysql servers out there. &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="12520193" author="stefan@jira" created="Thu, 16 Aug 2007 11:03:20 +0100"  >added &amp;#39;character set latin1&amp;#39;  to &amp;#39;create table&amp;#39; statement&lt;br/&gt;
&lt;br/&gt;
fixed in svn r566639</comment>
                    <comment id="12529182" author="jukkaz" created="Thu, 20 Sep 2007 19:18:03 +0100"  >Merged to the 1.3 branch in revision 577850.</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 2 Aug 2007 13:10:23 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78687</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>252757</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>