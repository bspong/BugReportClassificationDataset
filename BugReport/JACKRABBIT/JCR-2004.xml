<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:33:55 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2004/JCR-2004.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2004] Update SPI locking to match JCR 2.0</title>
                <link>https://issues.apache.org/jira/browse/JCR-2004</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>jcr2spi currently uses the JSR 170 way to determine whether a given Session owns the lock by checking of the lock token is null.&lt;br/&gt;
with JSR 283 a new Lock method has been defined for this, while on the other hand the lock token is always null for session-scoped&lt;br/&gt;
locks.&lt;br/&gt;
&lt;br/&gt;
In addition 283-locking allows to specify a timeout hint and hint about the owner info that should be displayed&lt;br/&gt;
for information purpose.&lt;br/&gt;
&lt;br/&gt;
Proposed changes to SPI:&lt;br/&gt;
&lt;br/&gt;
- extend org.apache.jackrabbit.spi.LockInfo to cover the new functionality added with JSR 283&lt;br/&gt;
- add an variant of RepositoryService.lock that allows to specify timeout and owner hint.&lt;br/&gt;
&lt;br/&gt;
Proposed changes to JCR2SPI:&lt;br/&gt;
- change jcr2spi to make use of the new functionality and modify the test for session being lock holder.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;this mainly affects&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; LockOperation&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; LockManager impl&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;gt; Lock impl</description>
                <environment></environment>
            <key id="12416095">JCR-2004</key>
            <summary>Update SPI locking to match JCR 2.0</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                    <parent id="12416092">JCR-2003</parent>
                        <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="anchela">angela</assignee>
                                <reporter username="anchela">angela</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 10:50:03 +0000</created>
                <updated>Thu, 2 May 2013 03:29:24 +0100</updated>
                    <resolved>Tue, 9 Jun 2009 11:04:54 +0100</resolved>
                                            <fixVersion>2.0-alpha3</fixVersion>
                                <component>jackrabbit-spi</component>
                <component>JCR 2.0</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12681676" author="anchela" created="Fri, 13 Mar 2009 11:04:58 +0000"  >patches adjusting jc2spi, the spi-implementations in the sandbox and in the trunk and the jcr-server.</comment>
                    <comment id="12681720" author="anchela" created="Fri, 13 Mar 2009 13:51:39 +0000"  >committed patches at rev. 753244 (trunk) and rev. 753248 (sandbox)&lt;br/&gt;
&lt;br/&gt;
TODO:&lt;br/&gt;
&lt;br/&gt;
- timeout (impl missing with jackrabbit-core -&amp;gt; not tested)&lt;br/&gt;
- remove tmp dependencies to jackrabbit-api and pseudo-283 interfaces (jcr2spi, spi2jcr, jcr-server)&lt;br/&gt;
- merge jcr2spi locking tests to jackrabbit-jcr-tests</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10001">
                <name>dependent</name>
                                                <inwardlinks description="is depended upon by">
                            <issuelink>
            <issuekey id="12424503">JCR-2097</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12402131" name="JCR-2004-jcr2spi.patch" size="25542" author="anchela" created="Fri, 13 Mar 2009 11:04:58 +0000" />
                    <attachment id="12402132" name="JCR-2004-jcr-server.patch" size="5814" author="anchela" created="Fri, 13 Mar 2009 11:04:58 +0000" />
                    <attachment id="12402130" name="JCR-2004-sandbox.patch" size="16900" author="anchela" created="Fri, 13 Mar 2009 11:04:58 +0000" />
                    <attachment id="12402044" name="JCR-2004_spi.patch" size="4183" author="anchela" created="Thu, 12 Mar 2009 13:31:41 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>89036</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>191182</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>