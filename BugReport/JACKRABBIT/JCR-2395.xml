<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:59:49 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2395/JCR-2395.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2395] Text Extractor: Image parser throws exception (jpeg)</title>
                <link>https://issues.apache.org/jira/browse/JCR-2395</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>the below exception is thrown over an over while uploading jpeg images:&lt;br/&gt;
16.11.2009 17:20:42 *WARN * LazyTextExtractorField: Failed to extract text from a binary property (LazyTextExtractorField.java, line 165)&lt;br/&gt;
org.apache.tika.exception.TikaException: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-198&quot; title=&quot;Better distinction between IOException and TikaException&quot;&gt;&lt;strike&gt;TIKA-198&lt;/strike&gt;&lt;/a&gt;: Illegal IOException from &lt;a href=&apos;mailto:org.apache.tika.parser.image.ImageParser@c7bc3&apos;&gt;org.apache.tika.parser.image.ImageParser@c7bc3&lt;/a&gt;&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:125)&lt;br/&gt;
	at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:105)&lt;br/&gt;
	at org.apache.jackrabbit.core.query.lucene.LazyTextExtractorField$ParsingTask.run(LazyTextExtractorField.java:160)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:417)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:269)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:123)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:65)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:168)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:613)&lt;br/&gt;
Caused by: javax.imageio.IIOException: Not a JPEG file: starts with 0x00 0x05&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.readImageHeader(Native Method)&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.readNativeHeader(JPEGImageReader.java:554)&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.checkTablesOnly(JPEGImageReader.java:309)&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.gotoImage(JPEGImageReader.java:431)&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.readHeader(JPEGImageReader.java:547)&lt;br/&gt;
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.getHeight(JPEGImageReader.java:609)&lt;br/&gt;
	at org.apache.tika.parser.image.ImageParser.parse(ImageParser.java:47)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:119)&lt;br/&gt;
	... 10 more</description>
                <environment></environment>
            <key id="12440907">JCR-2395</key>
            <summary>Text Extractor: Image parser throws exception (jpeg)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="pkoch">Philipp Koch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2009 07:54:20 +0000</created>
                <updated>Mon, 29 Oct 2012 08:28:29 +0000</updated>
                    <resolved>Tue, 17 Nov 2009 13:26:47 +0000</resolved>
                            <version>2.0-beta1</version>
                                <fixVersion>2.0-beta3</fixVersion>
                                <component>jackrabbit-text-extractors</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12778859" author="jukkaz" created="Tue, 17 Nov 2009 13:19:47 +0000"  >Do you have an example image that triggers this behaviour? For some reason (.jpg extension?) the image is parsed as a JPEG, which causes the exception shown above.&lt;br/&gt;
&lt;br/&gt;
Since Tika currently only supports metadata extraction from images and we only care about the extracted text content, we can avoid this issue simply by disabling the ImageParser in the default configuration.</comment>
                    <comment id="12778866" author="jukkaz" created="Tue, 17 Nov 2009 13:26:47 +0000"  >Fixed in revision 881272 by disabling the ImageParser in the default configuration.&lt;br/&gt;
&lt;br/&gt;
See &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-326&quot; title=&quot;Map javax.imageio.IIOException to TikaException&quot;&gt;&lt;strike&gt;TIKA-326&lt;/strike&gt;&lt;/a&gt; for a related issue in Tika.&lt;br/&gt;
&lt;br/&gt;
The root cause of this issue, i.e. why the images were incorrectly identified as JPEG, is still unknown.</comment>
                    <comment id="13485893" author="jack.sun@crm-factory.com.cn" created="Mon, 29 Oct 2012 08:28:29 +0000"  >Hi Jukka,&lt;br/&gt;
&lt;br/&gt;
We are using LR which is also based on JCR to store, we got the following error, may i know it&amp;#39;s the same issue?&lt;br/&gt;
&lt;br/&gt;
07:49:50,812 ERROR [FileImpl:247] org.apache.tika.exception.TikaException: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-198&quot; title=&quot;Better distinction between IOException and TikaException&quot;&gt;&lt;strike&gt;TIKA-198&lt;/strike&gt;&lt;/a&gt;: Illegal IOException from &lt;a href=&apos;mailto:org.apache.tika.parser.video.FLVParser@6824f26a&apos;&gt;org.apache.tika.parser.video.FLVParser@6824f26a&lt;/a&gt;&lt;br/&gt;
org.apache.tika.exception.TikaException: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-198&quot; title=&quot;Better distinction between IOException and TikaException&quot;&gt;&lt;strike&gt;TIKA-198&lt;/strike&gt;&lt;/a&gt;: Illegal IOException from &lt;a href=&apos;mailto:org.apache.tika.parser.video.FLVParser@6824f26a&apos;&gt;org.apache.tika.parser.video.FLVParser@6824f26a&lt;/a&gt;&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:138)&lt;br/&gt;
at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:99)&lt;br/&gt;
at org.apache.tika.Tika.parseToString(Tika.java:267)&lt;br/&gt;
at org.apache.tika.Tika.parseToString(Tika.java:296)&lt;br/&gt;
at com.liferay.portal.util.FileImpl.extractText(FileImpl.java:244)&lt;br/&gt;
at com.liferay.portal.kernel.util.FileUtil.extractText(FileUtil.java:118)&lt;br/&gt;
at com.liferay.portal.kernel.search.DocumentImpl.addFile(DocumentImpl.java:73)&lt;br/&gt;
at com.liferay.documentlibrary.util.DLIndexer.doGetDocument(DLIndexer.java:224)&lt;br/&gt;
at com.liferay.portal.kernel.search.BaseIndexer.getDocument(BaseIndexer.java:64)&lt;br/&gt;
at com.liferay.documentlibrary.util.JCRHook.reindex(JCRHook.java:627)&lt;br/&gt;
at com.liferay.documentlibrary.util.DLIndexer.doReindex(DLIndexer.java:283)&lt;br/&gt;
at com.liferay.portal.kernel.search.BaseIndexer.reindex(BaseIndexer.java:133)&lt;br/&gt;
at com.liferay.portlet.documentlibrary.util.DLIndexer.reindexFolders(DLIndexer.java:232)&lt;br/&gt;
at com.liferay.portlet.documentlibrary.util.DLIndexer.reindexFolders(DLIndexer.java:209)&lt;br/&gt;
at com.liferay.portlet.documentlibrary.util.DLIndexer.doReindex(DLIndexer.java:121)&lt;br/&gt;
at com.liferay.portal.kernel.search.BaseIndexer.reindex(BaseIndexer.java:133)&lt;br/&gt;
at com.liferay.portal.search.lucene.LuceneIndexer.doReIndex(LuceneIndexer.java:130)&lt;br/&gt;
at com.liferay.portal.search.lucene.LuceneIndexer.reindex(LuceneIndexer.java:61)&lt;br/&gt;
at com.liferay.portal.search.lucene.LuceneIndexer.run(LuceneIndexer.java:50)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.io.EOFException&lt;br/&gt;
at java.io.DataInputStream.readUnsignedShort(DataInputStream.java:323)&lt;br/&gt;
at org.apache.tika.parser.video.FLVParser.readAMFString(FLVParser.java:127)&lt;br/&gt;
at org.apache.tika.parser.video.FLVParser.readAMFEcmaArray(FLVParser.java:150)&lt;br/&gt;
at org.apache.tika.parser.video.FLVParser.readAMFData(FLVParser.java:102)&lt;br/&gt;
at org.apache.tika.parser.video.FLVParser.parse(FLVParser.java:231)&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:132)&lt;br/&gt;
... 19 more &lt;br/&gt;
&lt;br/&gt;
Thanks a lot.&lt;br/&gt;
&lt;br/&gt;
JACK</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 17 Nov 2009 13:19:47 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78232</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>73786</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>