<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:54:59 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-2868/JCR-2868.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-2868] A failure to connect to a MySQL database when JackRabbit starts a session leaves a .lock file in the repository. Subsequent sessions cannot be created by the same thread.</title>
                <link>https://issues.apache.org/jira/browse/JCR-2868</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>I investigating the robustness of JackRabbit in the face of unexpected database errors, such as the database being unavailable. In my particular case, I am attempting to start a JackRabbit session using a TransientRepository while the database is not yet running. This correctly fails. However, if I attempt to create another session within the same thread after a short while, an exception occurs saying that the repository has already been locked. I would expect the repository folder not to be locked. Maybe the code meant to remove the .lock file was not triggered because of an uncaught exception.&lt;br/&gt;
&lt;br/&gt;
Please see the attached files:&lt;br/&gt;
-a test class to reproduce the problem&lt;br/&gt;
-my repository.xml config&lt;br/&gt;
-the log file quantel.txt with details about the stack trace.&lt;br/&gt;
</description>
                <environment>Windows XP, Java version 1.6.0_21, MySQL 5.1.48</environment>
            <key id="12496300">JCR-2868</key>
            <summary>A failure to connect to a MySQL database when JackRabbit starts a session leaves a .lock file in the repository. Subsequent sessions cannot be created by the same thread.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="jukkaz">Jukka Zitting</assignee>
                                <reporter username="kafecho">Guillaume Belrose</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 16:41:29 +0000</created>
                <updated>Thu, 17 Feb 2011 15:49:55 +0000</updated>
                    <resolved>Tue, 1 Feb 2011 15:41:03 +0000</resolved>
                            <version>2.2</version>
                                <fixVersion>2.2.4</fixVersion>
                                <component>jackrabbit-core</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12989254" author="jukkaz" created="Tue, 1 Feb 2011 15:41:03 +0000"  >Thanks for the detailed report! I fixed this in revision 1066071 by making sure that the repository lock gets removed even if all else (including automatic shutdown that&amp;#39;s attempted in this case) fails. Merged to the 2.2 branch in revision 1066072.</comment>
                </comments>
                    <attachments>
                    <attachment id="12468985" name="DBBug.java" size="904" author="kafecho" created="Fri, 21 Jan 2011 16:46:59 +0000" />
                    <attachment id="12468986" name="quantel.txt" size="23234" author="kafecho" created="Fri, 21 Jan 2011 16:46:59 +0000" />
                    <attachment id="12468987" name="repository.xml" size="5389" author="kafecho" created="Fri, 21 Jan 2011 16:46:59 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>3.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 1 Feb 2011 15:41:03 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>78145</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>192176</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>