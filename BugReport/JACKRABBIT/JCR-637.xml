<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:43:43 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-637/JCR-637.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-637] Multiple namespace definitions in CND prevent definition of node type without child nodes</title>
                <link>https://issues.apache.org/jira/browse/JCR-637</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>The BNF in &lt;a href=&quot;http://jackrabbit.apache.org/api-1/org/apache/jackrabbit/core/nodetype/compact/CompactNodeTypeDefReader.html&quot;&gt;http://jackrabbit.apache.org/api-1/org/apache/jackrabbit/core/nodetype/compact/CompactNodeTypeDefReader.html&lt;/a&gt;&lt;br/&gt;
defines:&lt;br/&gt;
&lt;br/&gt;
[...]&lt;br/&gt;
cnd ::= {ns_mapping | node_type_def}&lt;br/&gt;
[...]&lt;br/&gt;
&lt;br/&gt;
so multiple namespace definitions should not affect the node type definitions.&lt;br/&gt;
&lt;br/&gt;
However, the following CND definition will fail:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;namespace= &amp;#39;&lt;a href=&quot;http://www.mynamespace.co.uk/namespace&amp;#39;&quot;&gt;http://www.mynamespace.co.uk/namespace&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
&amp;lt;nt = &amp;#39;&lt;a href=&quot;http://www.jcp.org/jcr/nt/1.0&amp;#39;&quot;&gt;http://www.jcp.org/jcr/nt/1.0&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
[namespace:document] &amp;gt; nt:file&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- namespace:name (string) mandatory&lt;br/&gt;
&lt;br/&gt;
&amp;lt;namespace= &amp;#39;&lt;a href=&quot;http://www.mynamespace.co.uk/namespace&amp;#39;&quot;&gt;http://www.mynamespace.co.uk/namespace&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
&amp;lt;nt = &amp;#39;&lt;a href=&quot;http://www.jcp.org/jcr/nt/1.0&amp;#39;&quot;&gt;http://www.jcp.org/jcr/nt/1.0&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
[namespace:document2] &amp;gt; nt:file&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- namespace:name (string) mandatory&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Remove the second set of namespace definitions, and all&amp;#39;s well:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;namespace= &amp;#39;&lt;a href=&quot;http://www.mynamespace.co.uk/namespace&amp;#39;&quot;&gt;http://www.mynamespace.co.uk/namespace&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
&amp;lt;nt = &amp;#39;&lt;a href=&quot;http://www.jcp.org/jcr/nt/1.0&amp;#39;&quot;&gt;http://www.jcp.org/jcr/nt/1.0&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
[namespace:document] &amp;gt; nt:file&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- namespace:name (string) mandatory&lt;br/&gt;
&lt;br/&gt;
[namespace:document2] &amp;gt; nt:file&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- namespace:name (string) mandatory</description>
                <environment></environment>
            <key id="12355702">JCR-637</key>
            <summary>Multiple namespace definitions in CND prevent definition of node type without child nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="stefan@jira">Stefan Guggisberg</assignee>
                                <reporter username="dmosses">David Moss</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2006 10:59:29 +0000</created>
                <updated>Tue, 12 Dec 2006 13:03:52 +0000</updated>
                    <resolved>Thu, 16 Nov 2006 10:03:21 +0000</resolved>
                                            <fixVersion>1.1.1</fixVersion>
                                <component>nodetype</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12450006" author="stefan@jira" created="Wed, 15 Nov 2006 12:58:13 +0000"  >the problem only occurs if a namespace declaration follows a property definition without value constraint(s), e.g. &lt;br/&gt;
&lt;br/&gt;
[...]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;- foo:prop (string) mandatory&lt;br/&gt;
&lt;br/&gt;
&amp;lt;bar=&amp;#39;&lt;a href=&quot;http://www.acme.org/bar&amp;#39;&quot;&gt;http://www.acme.org/bar&amp;amp;#39;&lt;/a&gt;&amp;gt;&lt;br/&gt;
[...]&lt;br/&gt;
&lt;br/&gt;
the &amp;#39;&amp;lt;&amp;#39; token in this example is ambiguos since it denotes both a list value constraints *and* a namespace declaration.&lt;br/&gt;
&lt;br/&gt;
the problem therefore are not intermixed namespace declarations and node type defintions per se. the problem is the &lt;br/&gt;
ambiguity of the &amp;#39;&amp;lt;&amp;#39; token.&lt;br/&gt;
&lt;br/&gt;
probably the easiest fix would be to change the BNF (and the parser) so that namespace declarations can only occur at the top of a .cnd file.</comment>
                    <comment id="12450025" author="jukkaz" created="Wed, 15 Nov 2006 13:51:57 +0000"  >&amp;gt; probably the easiest fix would be to change the BNF (and the parser) so that namespace&lt;br/&gt;
&amp;gt; declarations can only occur at the top of a .cnd file.&lt;br/&gt;
&lt;br/&gt;
+1</comment>
                    <comment id="12450064" author="stefan@jira" created="Wed, 15 Nov 2006 15:27:34 +0000"  >attached patch for suggested change</comment>
                    <comment id="12450331" author="stefan@jira" created="Thu, 16 Nov 2006 10:03:21 +0000"  >applied patch (svn r475669):&lt;br/&gt;
&lt;br/&gt;
- adapted EBNF and parser: all ns declarations must precede first node type definiton&lt;br/&gt;
</comment>
                </comments>
                    <attachments>
                    <attachment id="12345049" name="CompactNodeTypeDefReader.patch" size="1270" author="stefan@jira" created="Wed, 15 Nov 2006 15:27:34 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 15 Nov 2006 12:58:13 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142289</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>252846</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>