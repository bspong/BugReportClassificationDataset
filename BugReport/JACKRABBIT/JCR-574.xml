<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:31:34 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-574/JCR-574.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-574] MsExcelTextFilter throws Exception. Repository is not startable</title>
                <link>https://issues.apache.org/jira/browse/JCR-574</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>If i try to add a Excel File (see attachment) i get this Exception&lt;br/&gt;
&lt;br/&gt;
Caused by: java.lang.NumberFormatException: You cannot get a string value from a numeric cell&lt;br/&gt;
	at org.apache.poi.hssf.usermodel.HSSFCell.getStringCellValue(HSSFCell.java:800)&lt;br/&gt;
	at org.apache.jackrabbit.core.query.MsExcelTextFilter$1.initializeReader(MsExcelTextFilter.java:97)&lt;br/&gt;
	at org.apache.jackrabbit.core.query.LazyReader.read(LazyReader.java:79)&lt;br/&gt;
&lt;br/&gt;
The bad news is that if you add this file the repository is not startabel anymore because the file is in the redo.log and you&lt;br/&gt;
get a blocker !&lt;br/&gt;
&lt;br/&gt;
The stack from the restart after NumberFormatException&lt;br/&gt;
&lt;br/&gt;
19.09.2006 08:47:23 *ERROR* RepositoryImpl: Unable to start repository, forcing shutdown... &lt;br/&gt;
19.09.2006 08:47:23 *INFO * RepositoryImpl: Shutting down repository... &lt;br/&gt;
19.09.2006 08:47:23 *INFO * RepositoryImpl: shutting down workspace &amp;#39;default&amp;#39;... &lt;br/&gt;
19.09.2006 08:47:23 *INFO * ObservationManagerFactory: Notification of EventListeners stopped. &lt;br/&gt;
19.09.2006 08:47:23 *INFO * RepositoryImpl: workspace &amp;#39;default&amp;#39; has been shutdown &lt;br/&gt;
&lt;br/&gt;
I think its very important that you can not block a whole repository if the indexer throws a exception.&lt;br/&gt;
thanks&lt;br/&gt;
claus</description>
                <environment></environment>
            <key id="12350230">JCR-574</key>
            <summary>MsExcelTextFilter throws Exception. Repository is not startable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="mreutegg">Marcel Reutegger</assignee>
                                <reporter username="c_koell">Claus K&#246;ll</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Sep 2006 07:49:27 +0100</created>
                <updated>Tue, 12 Dec 2006 13:03:43 +0000</updated>
                    <resolved>Mon, 9 Oct 2006 13:48:51 +0100</resolved>
                            <version>1.0</version>
                <version>1.0.1</version>
                <version>1.1</version>
                                <fixVersion>1.1.1</fixVersion>
                                <component>indexing</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12435701" author="c_koell" created="Tue, 19 Sep 2006 07:50:12 +0100"  >A sample xls file that produces the exception ...</comment>
                    <comment id="12440882" author="mreutegg" created="Mon, 9 Oct 2006 13:48:51 +0100"  >Fixed the LazyReader class to also catch runtime exceptions when initializing the reader from the text filter implementation.&lt;br/&gt;
&lt;br/&gt;
Fixed in revision 454360 of the text filter module.&lt;br/&gt;
&lt;br/&gt;
Thank you for reporting this issue.&lt;br/&gt;
&lt;br/&gt;
Please note that you can work around this issue by temporarily disable the text filters when restarting jackrabbit. Well, it&amp;#39;s not a real workaround, because you&amp;#39;ll get into this issue again when a similar excel file is uploaded and the text filters are enabled.</comment>
                </comments>
                    <attachments>
                    <attachment id="12341098" name="TEL.xls" size="15872" author="c_koell" created="Tue, 19 Sep 2006 07:50:12 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 9 Oct 2006 12:48:51 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>80426</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>189889</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>