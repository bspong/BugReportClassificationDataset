<!-- 
RSS generated by JIRA (5.2.8#851-sha1:3262fdc28b4bc8b23784e13eadc26a22399f5d88) at Sat Jul 27 05:33:51 UTC 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/JCR-998/JCR-998.xml?field=key&field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>5.2.8</version>
        <build-number>851</build-number>
        <build-date>26-02-2013</build-date>
    </build-info>

<item>
            <title>[JCR-998] Annotation based implementation of jackrabbit ocm</title>
                <link>https://issues.apache.org/jira/browse/JCR-998</link>
                <project id="10591" key="JCR">Jackrabbit Content Repository</project>
                        <description>we have created an annotation based implementation of jackrabbit-ocm that can be used instead of the digester one</description>
                <environment></environment>
            <key id="12372847">JCR-998</key>
            <summary>Annotation based implementation of jackrabbit ocm</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="clombart">Christophe Lombart</assignee>
                                <reporter username="carlos">Carlos Sanchez</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jul 2007 21:36:23 +0100</created>
                <updated>Wed, 5 Mar 2008 15:40:11 +0000</updated>
                    <resolved>Fri, 12 Oct 2007 20:58:58 +0100</resolved>
                                                            <component>jackrabbit-ocm</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12509659" author="carlos" created="Mon, 2 Jul 2007 21:37:06 +0100"  >Patch needed for jackrabbit-ocm</comment>
                    <comment id="12509660" author="carlos" created="Mon, 2 Jul 2007 21:37:26 +0100"  >Patch needed for jackrabbit-ocm-nodemanagement.</comment>
                    <comment id="12509684" author="carlos" created="Mon, 2 Jul 2007 22:30:07 +0100"  >there&amp;#39;s still the problem that jcr-nodemanagement has not been deployed and the reference to jackrabbit-ocm in its pom is still 1.0-SNAPSHOT instead of 1.4-SNAPSHOT</comment>
                    <comment id="12509710" author="carlos" created="Tue, 3 Jul 2007 00:18:07 +0100"  >updated patch with correct versions in pom</comment>
                    <comment id="12509713" author="carlos" created="Tue, 3 Jul 2007 00:35:18 +0100"  >And here it is the important part&lt;br/&gt;
If you run the unit test you&amp;#39;ll see it fails, we haven&amp;#39;t figured out how to deal with collections yet, maybe somebody can figure out what&amp;#39;s going on there</comment>
                    <comment id="12510246" author="clombart" created="Wed, 4 Jul 2007 22:08:35 +0100"  >The class AnnotatedObjectMapper doesn&amp;#39;t register the class descriptor which certainly causes this kind of issue. &lt;br/&gt;
classDescriptorsRequiringRegistration is empty in the constructor. &lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m going to continue my investigation tomorrow</comment>
                    <comment id="12510247" author="clombart" created="Wed, 4 Jul 2007 22:13:22 +0100"  >OOps maybe it is a normal behavior after a second run. Need more time to investigate.</comment>
                    <comment id="12511578" author="clombart" created="Tue, 10 Jul 2007 22:39:13 +0100"  >Patch applied - thanks !&lt;br/&gt;
&lt;br/&gt;
The collection issue is still there. I created a more simple unit test because I also detected some issues with namespaces. I continue to work on it.  </comment>
                    <comment id="12518239" author="clombart" created="Tue, 7 Aug 2007 21:01:14 +0100"  >* I added support for the bean descriptor. &lt;br/&gt;
* I dropped the AnnotationObjectContentManagerImpl because we can use the ObjectContentManagerImpl. Only the mapper is different for the annotation support. &lt;br/&gt;
* I also modified the annotation attribute names. In order to avoid confusion, it is important to use the same name as  the xml file descriptors. Please make suggestions if you think that the names are not correct. the collection annotation has to be modify (should be done this week). &lt;br/&gt;
* I added more unit tests (map objects into nt:unstructured). I will add more unit test for mapping on specific node types. &lt;br/&gt;
&lt;br/&gt;
I will continue to work on this issue. I think we can add the following improvements : &lt;br/&gt;
* Create an abstract mapper impl because both Mapper classes have a lot of code in common (AnnotedObjectMapper &amp;amp; DigesterMapperImpl). &lt;br/&gt;
* The Mapper classes should not have the responsibility to create the jcr node types. This can be done outside the mapper and it should be an optional operation. There are certainly some use cases where node type creation is not necessary. &lt;br/&gt;
* I&amp;#39;m just wondering how can we use the same unit tests for both approach (xml file &amp;amp; annotations). &lt;br/&gt;
* Can we drop the annotation SuperType. This is defined in the annotation Node (jcrSuperTypes) ? &lt;br/&gt;
* Add license headers&lt;br/&gt;
&lt;br/&gt;
Please add your comments and feedback.&lt;br/&gt;
</comment>
                    <comment id="12534379" author="clombart" created="Fri, 12 Oct 2007 20:58:58 +0100"  >the annotation support is done.</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10020">
                <name>Cloners</name>
                                <outwardlinks description="is cloned as">
                            <issuelink>
            <issuekey id="12354104">JCR-867</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="12360976" name="jackrabbit-ocm-annotation.tgz" size="9390" author="carlos" created="Tue, 3 Jul 2007 00:35:18 +0100" />
                    <attachment id="12360975" name="ocm-nodemanagement.patch" size="4078" author="carlos" created="Tue, 3 Jul 2007 00:18:07 +0100" />
                    <attachment id="12360963" name="ocm-nodemanagement.patch" size="1031" author="carlos" created="Mon, 2 Jul 2007 21:37:26 +0100" />
                    <attachment id="12360962" name="ocm.patch" size="3648" author="carlos" created="Mon, 2 Jul 2007 21:37:06 +0100" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>4.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 4 Jul 2007 21:08:35 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>142474</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Rank</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>190065</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>