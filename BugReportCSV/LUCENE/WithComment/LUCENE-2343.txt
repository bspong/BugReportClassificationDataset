Add support for benchmarking Collectors
As the title says. Add support for benchmarking collectors I intend to commit today or tomorrow. In the patch you write topDocOrdered - Creates a TopDocCollector that requires in order docs - did you mean TopScoreDocCollector Because TopDocCollector is abstract ... I think the following Class extends Collector clazz Class extends Collector Class.forName clnName collector clazz.newInstance can be written as Class.forName clnName .asSubclass Collector.class .newInstance Also and it s a style issue can you remove the true false from ifs I d change if clnName.equals false to if clnName.length 0 . Why does benchmark build.xml now relies on the compiled classes test of core can be written as Class.forName clnName .asSubclass Collector.class .newInstance OK Also and it s a style issue can you remove the true false from ifs No. . Feel free to leave them out but I prefer it to be explicit. See my rant at http www.lucidimagination.com search document 476a10c1c687971d randomseedgenerator 684ed7253617ea71 I d change if clnName.equals false to if clnName.length 0 . Sure. Why does benchmark build.xml now relies on the compiled classes test of core Hmm guess I didn t see that English got moved from test to core. ok I won t argue about true false. It s a style thing and I m not too fanatic about it . In the patch you write topDocOrdered - Creates a TopDocCollector that requires in order docs - did you mean TopScoreDocCollector Because TopDocCollector is abstract ... Yeah I can make that topScoreDoc... I wasn t talking about the name of the parameter but about the comment in the javadoc. TopDocsCollector is a typo - should have been TopScoreDocCollector. If you also want to change the name of the parameter in the .alg file that s ok as well though I m fine w topDocOrdered Unordered. I wasn t talking about the name of the parameter but about the comment in the javadoc. TopDocsCollector is a typo - should have been TopScoreDocCollector. If you also want to change the name of the parameter in the .alg file that s ok as well though I m fine w topDocOrdered Unordered. Yeah I think I will change the name too but point taken. Will fix the docs. I think this addresses all of Shai s concerns. Looks good Committed revision 927178. I ve just realized you haven t added a CHANGES entry and I missed that in my previous review sorry . Should be in the contrib benchmark CHANGES
