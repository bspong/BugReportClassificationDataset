TestConstantScoreRangeQuery does not compile with ecj
TestConstantScoreRangeQuery has an assertEquals String Float Float but most of the calls to assertEquals are String int int . ecj complains with the following error The method assertEquals String float float is ambiguous for the type TestConstantScoreRangeQuery The simple solution is to supply an assertEquals String int int which calls Assert.assertEquals String int int Patch to follow. Are there any other ecj related compile issues I d rather fix all lucene-core related ones in a single JIRA isse patch. I have checked all of trunk src java demo test but not gcj. I have not checked any of contrib yet. Give me a bit and I ll check these out also. Other than gcj everything compiles with ecj without error given the attached patch . The gcj fails on an import which has nothing to do with ecj but with my building the build path. Gdata as expected needs to be compiled as Java 5. I compiled everything else under both 1.5 and 1.4 compatibility. I did find that two contrib files are duplicated. These are . queries src java org apache lucene search similar MoreLikeThis.java . similarity src java org apache lucene search similar MoreLikeThis.java . queries src java org apache lucene search similar SimilarityQueries.java . similarity src java org apache lucene search similar SimilarityQueries.java The first pair only differed by whitespace. The second pair only by a comment and the style of imports. There is a dependency on queries by xml-query-parser but non on similarity. So I d suggest wacking similarity. Thanks I just commited this.
