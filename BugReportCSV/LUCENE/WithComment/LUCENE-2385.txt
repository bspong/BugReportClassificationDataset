Move NoDeletionPolicy from benchmark to core
As the subject says but I ll also make it a singleton add some unit tests as well as some documentation. I ll post a patch hopefully today. Move NoDeletionPolicy to core adds javadocs TestNoDeletionPolicy. Also includes the relevant changes to benchmark algorithms CreateIndexTask . I ve fixed a typo I had in NoMergeScheduler - not related to this issue but since it was just a typo thought it s no harm to do it here. Tests pass. Planning to commit shortly. The patch does not look like you svn moved the files. To preserve history you should do a svn move of the file in your local repository and then modify it to reflect the package changes if any . Did you do this I did that first but then remembered that when I did that in the past people were unable to apply my patches w o doing the svn move themselves. Anyway for this file it s not really important I think - a very simple and tiny file w no history to preserve Is that ok for this file b c I have no idea how to do the svn move now ... after I ve made all the changes already In general we place a list of all svn move copy command together with the patch executeable from the root dir. If you paste those commands into your terminal and then apply the patch it works. One example is the jflex issue ok the commands are shortened . Another possibility is to have a second checkout where you arrange the files correctly svn moved copied and one for creating the patches. Is it better now Forgot to mention that the only move I made was of NoDeletionPolicy svn move contrib benchmark src java org apache lucene benchmark utils NoDeletionPolicy.java src java org apache lucene index NoDeletionPolicy.java I ll remember that in the future Uwe - thanks for the heads up Yeah thats fine Committed revision 932129. backport to 3.1 Committed revision 941460. Bulk close for 3.1
