Further parallelizaton of ParallelMultiSearcher
When calling search Query Filter int on a ParallelMultiSearcher the createWeights function of MultiSearcher is called and sequentially calls docFreqs on every sub-searcher. This can take a significant amount of time when there are lots of remote sub-searchers. I extracted step 3 of createWeights into its own method and added an overriding method on ParallelMultiSearcher. This is untested code sorry. This is untested code sorry. And it does not compile either. Can you revise your patch Attaching a patch that actually compiles. Updated patch with cleaner structure extracted classes and added testcase for it. updated patch - createDocFrequencyMap change from protected to package private. I ll commit shortly. Committed revision 888595 Thanks Simon Israel
