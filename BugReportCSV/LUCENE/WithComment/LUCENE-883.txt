make spell checker test case work again
See attached path which makes the spellchecker test case work again. The problem without the patch is that consecutive calls to indexDictionary will create a spelling index with duplicate words. Does anybody see a problem with this patch I see that the spellchecker code is now used in Solr isn t it I didn t have time to test this patch inside Solr. Also see http issues.apache.org jira browse LUCENE-632 but the null check is included in this patch so the NPE described there cannot happen anymore. patch to make test case work again Do you need reader null Do you need to close reader explicitly here searcher.close can close it depending on which searcher ctor was used if I recall correctly. Not sure which one is used in spellchecker off the top of my head. Re Solr - yes I added that to Solr in SOLR-81. Yes the exist method checks whether the reader is null and re-opens it if necessary so reader null is needed. Patch applied.
