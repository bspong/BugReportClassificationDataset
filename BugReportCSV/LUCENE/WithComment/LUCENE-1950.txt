Remove autoCommit from IndexWriter
IndexWriter s autoCommit is deprecated in 3.0 it will be hardwired to false. Attached patch. All tests pass. This is just the first step which is to remove autoCommit from IW s public APIs and fix all places that were using those APIs. Second step is to remove autoCommit from inside IW. When there were tests testing both aC false and true I just remove the true case. When the test was only testing aC true I switched it to false and sometimes had to tweak the test eg to insert calls to IW.commit to make it happy. For one test when I did this TestIndexWriter.testImmediateDiskFullWithThreads it uncovered a latent bug in IW where if an IOException is hit on building the cfx file for flushed doc stores we were missing a call to docWriter.abort . I also removed autoCommit from the alg files in contrib benchmark conf fixed up the javadocs and removed some unused imports. I plan to commit soon OK I committed phase 1. Patch to remove autoCommit inside IW. Will commit shortly. Can we close this Mike It seems to be committed. Woops yes this is done.
