Spellchecker should take IndexWriterConfig... deprecate old methods 
When looking at LUCENE-3490 i realized there was no way to specify the codec for the spellchecker to use. It has the following current methods indexDictionary Dictionary dict this causes optimize indexDictionary Dictionary dict int mergeFactory int ramMB this causes optimize indexDictionary Dictionary dict int mergeFactor int ramMB boolean optimize But no way to specify an IndexwriterConfig. Additionally I don t like that several of these ctors force an optimize in a tricky way even though it was like this all along. So I think we should add indexDictionary Dictionary dict IndexWriterConfig config boolean optimize . We should either deprecate all the other ctors in 3.x and nuke in trunk or at least add warnings to the ones that optimize. patch removing all the other indexDictionary methods to be deprecated in 3.x and changing solr to not force the spellchecker to optimize Because of applications like solr that rebuild the spellchecker on commit I plan to backport this as-is to 3.x its contrib we can break the API to remove the silent optimization. Bulk close after release of 3.5
