TaxonomyWriter parents array creation is not thread safe can cause NPE
Following user list thread TaxWriter leakage it appears that if two threads or more are asking for the parent array for the first time a context switch after the first thread created the empty parents array but before it initialized it would cause the other array to use an uninitialized array causing an NPE. Fix is simple synchronize the method getParentArray Patch with test that fails same as the reported error. None of the changes here should be committed just showing the error. Fixed r1178923 r1178936 - trunk r1178931 - 3x So only the synch has changed without those two if s... I m checking it now L.E. works thank you Great thanks Mihai for verifying this Bulk close after release of 3.5
