FastVectorHighlighter - expose FieldFragList.fragInfo for user-customizable FragmentsBuilder
Needed to build a custom highlightable snippet - snippet should start with the sentence containing the first match then continue for 250 characters. So created a custom FragmentsBuilder extending SimpleFragmentsBuilder and overriding the createFragments IndexReader reader int docId String fieldName FieldFragList fieldFragList method - unit test containing the code is attached to the JIRA. To get this to work needed to expose make public the FieldFragList.fragInfo member variable. This is currently package private so only FragmentsBuilder implementations within the lucene-highlighter o.a.l.s.vectorhighlight package such as SimpleFragmentsBuilder can access it. Since I am just using the lucene-highlighter.jar as an external dependency to my application the simplest way to access FieldFragList.fragInfo in my class was to make it public. 1 Patch of the change to FieldFragList taken from the root of the 3.1 release branch svn co http svn.apache.org repos asf lucene dev tags lucene solr 3 1 Unit test demonstrating use of the FieldFragList.fragInfo by an external out of vectorhighlight package FragmentsBuilder. Can you rewrite the patch using getter method I m willing to commit soon. Thanks. Path restoring fragInfos to package protected and exposing a getter method getFragInfos instead per Koji s recommendation. Modified test case to verify patch to work against modified patch. Adding same patch again this time with Grant License to ASF... checked forgot about it the last time . Thanks Koji I have attached the updated patch lucene-3141-patch-2.diff and the updated test case LIABookTest.java . I changed the member private and used the new getter method in vectorhighlight package. Will commit shortly. trunk Committed revision 1128549. 3x Committed revision 1128550. Thank you I see it on the trunk now. bulk close for 3.3
