Update Spatial Lucene sort to use FieldComparatorSource
Update distance sorting to use FieldComparator sorting as opposed to SortComparator Deprecate DistanceSortSource and Add DistanceFieldComparator updated Test case to use DistanceFieldComparator Usage Create a distance sort As the radius filter has performed the distance calculations already pass in the filter to reuse the results. DistanceFieldComparatorSource dsort new DistanceFieldComparatorSource dq.distanceFilter Sort sort new Sort new SortField foo dsort false Perform the search using the term query the serial chain filter and the distance sort Hits hits searcher.search customScore dq.getFilter sort If nobody objects I ll apply this later today hmm - looks like we didnt make FieldComparatorSource serializable like SortComparatorSource Ð so no need for the serialVersionUID. Couple other picky comments return void at end of the constructor could go. might remove the nextReader comment or change it ie this space intentionally left blank. This was committed.
