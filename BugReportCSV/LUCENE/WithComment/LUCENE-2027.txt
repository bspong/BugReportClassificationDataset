Deprecate Directory.touchFile
Lucene doesn t use this method and FindBugs reports that FSDirectory s impl shouldn t swallow the returned result from File.setLastModified. We talked about this yesterday night ApacheCon. It would probably be the right thing to deprecate and introduce a new method returning a boolean. For now we where talking about throwing an IOException if setLastModified returns false. The Directory interface already has an IOException in the function signature so that would not break back compat but would yield the correct behaviour. simon Why not simply deprecate and then remove the method Nothing in Lucene uses it. Missed this issue from java-user We discussed about this method yesterday in the evening. The abstract base class defines the method as throwing an IOException. So the correct behaviour would be to throw an IOException if setLastModified returns false which happens according to the docs if the date cannot be changed because of an IO FS prob . Patch removing Dir.touchFile from trunk. For 3.x I ll deprecate. Bulk closing for 3.2
