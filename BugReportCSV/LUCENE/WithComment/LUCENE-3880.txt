UAX29URLEmailTokenizer fails to recognize emails as such when the mailto scheme is prepended
As reported by Kai GŸlzau on solr-user UAX29URLEmailTokenizer seems to split at the wrong place mailto test example.org - mailto test example.org As a workaround I use charFilter class solr.PatternReplaceCharFilterFactory pattern mailto replacement mailto RFC 2368 describes URLs employing the mailto scheme this RFC has been obsoleted by RFC 6068 which describes the mailto URI scheme. mailto URIs can contain multiple email addresses and fielded information including CC BCC Subject and Body - in short the entire contents of an email message. However a significant proportion of probably most mailto URIs in the wild contain just a single email address. Short of handling all aspects of the mailto scheme out of scope for this issue I think it would be useful to employ a trick similar to the charFilter hack described by Kai GŸlzau explicitly split mailto off from a following email address allowing the email address to be recognized as such. Patch adding a test for the triggering example and another test illustrating some of the challenges of handling full mailto syntax. This change triggers a new version for UAX29URLEmailTokenizer and I ve taken advantage of that to update to the most recent top level domain definitions. I think this is ready to commit. Can we maybe as discussed before also add a corresponding Analyzer clone of StandardAna Can we maybe as discussed before also add a corresponding Analyzer clone of StandardAna 1 Committed to trunk and branch 3x. Thanks Kai That was fast Thank you
