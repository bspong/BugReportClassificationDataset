A handy utility class for tracking deprecated overridden methods
This issue provides a new handy utility class that keeps track of overridden deprecated methods in non-final sub classes. This class can be used in new deprecations. See the javadocs for an example. The again heavy class from Uwe s reflection tools... By the way this of course passes Mike s testcase where he tests this with a dummy Analyzer that overrides the old method. Improved patch add runtime checks to not fail on spelling errors add testcase for distance measurement Haven t looked closely at the patch but this sounds useful Uwe Also added test for protected methods and some tests that all IAEs are thrown correctly. Some API cleanup and more readability for client code see Analyzer.java and javadocs . Also enforce singleton status static instantiations needed . New patrch the previous one had the compare method in wrong order. Fixed docs and Analyzer and tests. I always get totally disturbed when using compareTo and compare Uwe I m not sure if I have a really good replacement for the your names none of the following suggestions seem to be a 100 match though. for getOverrideDistance you could call it getDefinitionDistanceFrom Class getImplementationDistanceFrom Class The term distance is fine IMO I would rather extend the javadoc a little and explain that this is the distance between the given class and the next class implementing the method on the path from the given class to the base class where the method was initally declared defined for isOverriddenBy you could call it isDefinedBy isImplementedBy I also wanna mention an option for the class name VirtualMethod pretty much matches what this class represents. I renamed the class to VirtualMethod as suggested by Simon and also changed method names and their javadocs to better describe whats happening. It is still hard to use but client code never should use this class. I will commit this soon to proceed with the dependent issues. Improvements to Javadocs can be done later of course. Changed javadocs and changes.txt. Will commit this now. Committed revision 898507 good stuff uwe I will fix LUCENE-2183 now.
