Contrib Module-uptodate assume name matches path and jar
With adding a new queries module I am trying to change the project name of contrib queries to queries-contrib. However currently the contrib-uptodate assumes that the name property is used in the path and in the jar name. By using the name in the path I must set the value to queries since the path is contrib queries . However because the project name is now queries-contrib the actual jar file will be lucene-queries-contrib- version .jar not lucene-queries- version .jar as is expected. Consequently I think we need to separate the path name from the jar name properties. For simplicity I think adding a new jar-name property will suffice which can be optional and if omitted is filled in with the name property. Actually I now see the ability to set the full jarfile in the contrib-uptodate macro. I still want to avoid this since it requires the invoker of the macro to know the full path. Instead I think having an optional project-name property will suffice. Patch adds contrib-src-name attribute to contrib-uptodate. This allows the name of the src for the contrib to be different to the contrib s project name. The name attribute is now assumed to be the project name. If the contrib-src-name property is omitted name is used. I have code that makes use of this in changing the queries contrib to queries-contrib and have verified it works. I d be great if someone could review this to see any implications I might have missed. just a thought should we have a queries contrib and a queries module Can the good stuff in the queries contrib move to the module and the sandbox stuff if any go somewhere else Can the good stuff in the queries contrib move to the module and the sandbox stuff if any go somewhere else 1 Absolutely. I intended to do that after I had resolved the FunctionQuery moving as its a dependency for many other issues . Would you guys prefer I do that and not make this change Or are you okay with this change as well i think you should make this change and proceed forward Committed revision 1139989. I m going to leave module-uptodate alone till there is a need to change it. I committed a tiny fix a name - name Thanks Robert Murphy s law I needed to fix module-uptodate. Committed revision 1139996.
