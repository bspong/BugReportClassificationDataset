 PATCH TermVectorReader and TermVectorWriter
TermVectorReader.close closes all streams now under any condition. If an excpetion is catched it is remembered an thrown when all streams are closed. Unnecessary variable assignment removed from code. Fix typo in TermVectorReader and TermVectorWriter. Created an attachment id 12361 cvs diff TermVectorsReader Created an attachment id 12362 cvs diff TermVectorsWriter Thanks for the patch. Applied and committed. Uhh you just done broke the darn thing If you are going to remove the unused variable you need to not write out the complementary variable in TermVectorsWriter otherwise it won t work together. If you notice in the assignment it is doing a readVInt Hold on to that thought. I am doing an update. I did my test before update then merged then did my test. It passed then failed. Will investigate tomorrow. Please let me know tomorrow. All unit tests still pass. Grant sorry but i don t see a reason why the code should be broken. Please have a close look again i just removed the variable assignement but left the readVInt statement. So the InputStream seeks to right position and everything should be ok. regards bernhard I agree. Sorry for the alarm. I think it is an error introduced by some other change to the code.
