Deadlock in IndexWriter
If autoCommit true a merge usually triggers a commit. A commit prepareCommit can trigger a merge vi the flush method. There is a synchronization mechanism for commit commitLock and a separate synchronization mechanism for merging ConcurrentMergeScheduler.wait . If one thread holds the commitLock monitor and another one holds the ConcurrentMergeScheduler monitor we have a deadlock. This sounds like it may be a dup of LUCENE-2730 Can you test the upcoming release candidate for 2.9.4 http s.apache.org fL and see if the deadlock is resolved If not can you post the full thread dump Already fixed with introduction of mergeDone flag in OneMerge of Lucene upcoming 2.9.4 OK thanks for bringing closure Note that the autoCommit true is deprecated and as of 3.0 IW is always autoCommit false.
