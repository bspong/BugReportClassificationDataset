 - operators allow any amount of whitespace
As an example foo - bar is treated like foo -bar . It seems like for - to be treated as unary operators they should be immediately followed by the operand. Here s a patch that stops treating - as operators if they are followed by whitespace. Everyone seemed to previously agree about and - but I also threw in for consistency since it was another single char largely unknown synonym for NOT unary operator. Thoughts 1 but i know lots of people that are too stupid to understand that unary operator must be directly in front of term This should be possible to backport to 3.x. I have a customer with this exact problem on 3.5... 1 to backport to 3x. Re-opening for backport Backport to 3.6 branch. All tests pass. Committing soon. Checked in for 3.6.1 Should StandardQueryParser work like QueryParser In current branches and trunk TestQPHelper still contains the line assertQueryEquals a OR b null a -b and also a - b is parsed as a -b Bulk close for 3.6.1 This is great There seems to be an inconsistency with the exclamation mark NOT operator foo- acceptable foo acceptable foo parse exception although if I add whitespace after foo acceptable Is this expected operation Am I missing something
