javadocs very very ugly if you generate with java7
Java7 changes its javadocs to look much nicer but this involves different CSS styles. Lucene overrides the CSS with stylesheet prettify.css which is a combination of java5 6 stylesheet google prettify but there are problems because java7 has totally different styles. So if you generate javadocs with java7 its like you have no stylesheet at all. A solution might be to make stylesheet7 prettify.css and conditionalize a property in ant based on java version. I really think we should fix this for 3.6 its not just that its ugly but it looks actually broken. Patch that fixes the issue s Simply append the pretify.css to the one created by javadocs itsself as post-javadoc-task concat Fix javascript issues by Java 7 The code that triggered prettyprint was relying on an implementation specific javascript function name no longer existent in Java 7. I changed the window.onload handler to dynamically append the 2nd handler. 1 Tested on branch 3x with Java5 6 and 7 just patch merge Minor tweaks Moved the javascript into bottom as its then not duplicated multiple times fixed attributes corrumption in the CDATA. I will commit this later Robert and me noticed a small issue Javadoc does not regenerate the stylesheet if its already there. This leads to appending the same prettyprint.css all the time. I added a delete for this file before running javadocs so its regenerated. Now its final Committed trunk revision 1303916 Committed 3.x revision 1303922 Thanks Uwe 
