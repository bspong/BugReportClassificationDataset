GC resources in TermInfosReader when exception occurs in its constructor
I replaced IndexModifier with IndexWriter in test case TestStressIndexing and noticed the test failed from time to time because some .tis file is still open when MockRAMDirectory.close is called. It turns out it is because .tis file is not closed if an exception occurs in TermInfosReader s constructor. Nice catch fix looks good to me. Agreed. Actually it also looks like we need to do something similar for FieldsReader TermVectorsReader too Agreed. Actually it also looks like we need to do something similar for FieldsReader TermVectorsReader too That s right. I ll submit a new patch. Similar fixes are added for FieldsReader and TermVectorsReader as well. This looks good Ning thanks I will commit... I just committed this.
