Polish Analyzer
Andrzej Bialecki has written a Polish stemmer and provided stemming tables for it under Apache License. You can read more about it here http www.getopt.org stempel In reality the stemmer is general code and we could use it for more languages too perhaps. Attached is an initial patch. i made the following changes to the original code add generics and other java 5 things add junit tests add polish analyzer with stopwords list from carrot2 repackaging you will need to extract the stemming table into resources org.apache.lucene.analysis.pl folder right where the Polish stopwords are. I will attach this separately. tables that must go in the resources folder under Polish o.a.l.analysis.pl Staszek suggested that perhaps it would be convenient if this patch detected if another Polish stemming library for Polish is present in classpath and if so used it. The library in mind is morfologik-stemming here http sourceforge.net projects morfologik The code of this library is BSD-licensed and consists mainly of traversal of FSA automata. The stemmer is dictionary based so it is nearly ambiguities 100 accurate for words in the dictionary and 0 accurate for non-dictionary words returns null . The problem with Morfologik is that its dictionary data is LGPL-ed so it would have to be a separate download. This is just a suggestion for discussion. I guess this functionality is limited to a very narrow audience anyway. Staszek suggested that perhaps it would be convenient if this patch detected if another Polish stemming library for Polish is present in classpath and if so used it. Hello perhaps we can provide this as a separate option The problem with doing this is what to do if the classpath detection fails would it fall back on the code here This magic could cause a lot of confusion for example indexing on a server with correct classpath searching on another where it is incorrect or vice-versa. In my opinion for analysis stuff if the environment isn t setup correctly we should just throw an exception. The problem with Morfologik is that its dictionary data is LGPL-ed so it would have to be a separate download. Dawid I looked at Morfologik s source code and it refers to this link http www.sjp.pl slownik en Is this correct Because this appears to be licensed under GPL LGPL MPL and Creative Commons ShareAlike licenses. This is just a suggestion for discussion. I guess this functionality is limited to a very narrow audience anyway. But if we can why not provide two options In this case I think we should just open a separate JIRA issue for Morfologik. Its really a different method than what this stemmer does anyway. I agree about classpath issues they re a pain to debug. As for the license Ð Morfologik s data is compiled from several sources but you re right Ð this clause has been problematic Licensed under GPL LGPL MPL and Creative Commons ShareAlike licenses. Is there any legal sense in this Is this an alternative pick the one you want or a combination i.e. GPL swallows everything else I ll try to get in touch with the author and see what he has to say about it. Is there any legal sense in this Is this an alternative pick the one you want or a combination i.e. GPL swallows everything else I looked at the files themselves etc and could not figure out the meaning of this. I don t know if its fair to interpret it as multi-licensed or what and I wouldn t want to do that. But I do know several hunspell dictionaries are dual-licensed like this. I suppose its so that they can be used in more open source projects. I ll try to get in touch with the author and see what he has to say about it. Cool thanks in advance for looking into this The answer from the developer is pick any license for from this list. So... GPL LGPL are not compatible with Apache2. MPL seems not to be compatible for now there s been Mozilla initiative to make it compatible but I think this process is still active . What about ShareAlike Does this address the license above http www.apache.org legal resolved.html cc-sa For any other type of CC-SA licensed work please contact the Legal PMC. I ll try to see which one of them the author had in mind... Dawid thanks... so it is pick your poison after all. FYI I created a JIRA issue so we can work this LUCENE-2341 The dictionary s author states that Attribution-sa to ta na kt—rej jest udost pniany s ownik. so we can pick the CC-SA license that Apache supposedly permits in the repositories. This is good news. Switching to LUCENE-2341 then. attached is an updated patch using CharTermAttribute etc. I ran forrest thus the larger patch and I think this one is ready. I plan to commit in a few days unless there are any objections. I screwed up the encoding of the stopwords file sorry . So I also changed a test to test a non-ascii stopword Committed revision 940433. backported to 3x revision 941704 Bulk close for 3.1
