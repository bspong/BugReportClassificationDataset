When sorting by field IndexSearcher should not compute scores by default
In 2.9 we ve added the ability to turn off scoring maxScore trackScores separately when sorting by field. I expect most apps don t use the scores when sorting by field and there s a sizable performance gain when scoring is off so I think for 2.9 we should not score by default and add show in CHANGES how to enable scoring if you rely on it. If there are no objections I ll commit that change in a day or two it s trivial . Attached patch. I plan to commit in a day or two. Maybe state in CHANGES that IndexSearcher.setDefaultFieldSortScoring is deprecated and it is just an intermediary solution In 3.0 the only way to achieve that will be creating TFC yourself. Also the tests call this method and set it to true. Since this new method is deprecated we ll need to change those tests again in 3.0. Can they create TFC instead and call the appropriate search method Maybe state in CHANGES that IndexSearcher.setDefaultFieldSortScoring is deprecated and it is just an intermediary solution Good I ll do that. Also the tests call this method and set it to true. Since this new method is deprecated we ll need to change those tests again in 3.0. Can they create TFC instead and call the appropriate search method Unfortunately there were two problems with this I had started with that You can t pass Collector through RemoteSearchable which some tests were using. We are planning to deprecate remove RMI RemoteSearchable from Lucene s core in for 3.0 so we ll fix such tests for 3.0. You can t pass SortField.AUTO directly to TFDC. So since TFDC wasn t a direct drop-in I decided to add the deprecated method. I m actually wondering if we should deprecate SortField.AUTO... It s a little too magical can easily guess wrong unexpectedly binds SortField to a needing an IndexReader to resolve the AUTO has caused us problems in the past etc. I prefer that the API be explicit and require you to specify what type Lucene should cast the field to. I m actually wondering if we should deprecate SortField.AUTO... 1 1 here as well explicitness rules 
