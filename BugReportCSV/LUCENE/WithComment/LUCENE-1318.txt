InstantiatedIndexReader.norms called from MultiReader bug
Small bug in InstantiatedIndexReader.norms String field byte bytes int offset where the offset is not applied properly in the System.arraycopy lucene-1318.patch Patch for the norms offset issue when called from MultiReader. SVN added in a few other lines of code I don t know why and could not figure out how to remove it. It would be great if you also added some code to TestIndicesEquals that copies some norms from the two readers to arrays and check the equality of the results. Make sure that the norms copied are not the same for all those documents though. It s very possible they are all the same as the test indices contains very small and similar texts. It would also be great if the norms copied spans over the deleted documents in the second run. The second testEquals iteration is not committed yet only available in the LUCENE-1312 patch right now. Let s commit that first. I ll add the above mentioned tests if you don t. It was a very minor thing to adapt the test cases to fail on old code and pass in new code so I added that. Committed in 672568. Thanks Jason 
