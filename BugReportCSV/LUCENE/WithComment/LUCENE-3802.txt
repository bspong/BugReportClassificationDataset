Grouping collector that computes grouped facet counts
Spinoff from issue SOLR-2898. Patch adds a collector that computes grouped facet counts. Work to be done Add random test Also computed grouped facet counts for multivalued fields by using DocTermOrds class to fetch facet values from. Updated patch. This patch includes a random test for grouped faceting. Updated patch. Can group facet on fields containing more than one term per field. Updated some jdocs. Almost ready to commit. Just need to fix proper random testing for grouped faceting on multivalued fields. Updated patch. Grouped faceting on multivalued fields is now properly tested. I think it is ready to be committed Committed to trunk. When I run tests from Maven I get Test set org.apache.lucene.search.grouping.AbstractGroupingTestCase Tests run 1 Failures 0 Errors 1 Skipped 0 Time elapsed 0.046 sec FA ILURE initializationError org.apache.lucene.search.grouping.AbstractGroupingTestCase Time elapsed 0.003 sec ERROR ... Results Tests in error initializationError org.apache.lucene.search.grouping.AbstractGroupingTestCase No runnable methods The Ant build doesn t have this problem. I ll add an Ignore annotation to this class to keep Maven happy.
