CachingHttpClient leaks connections with stale-if-error
If you are using the stale-if-error Cache-control header and CachingHttpClient decides to use a stale cached response it does not clean up the existing backend response. This bug causes connections to leak from the connection pool each time the stale-if-error flow is executed. patch for stale-if-error connection leakHi James thanks for finding this. I m actually working on a unit test to reproduce although I agree you ve found a bug and your patch should address it. Just dotting all the i s so to speak. Patch checked in to trunk with slight modifications including unit test to reproduce. Thanks James I ll work on getting this ported to the release branches next. Patch applied and backported to 4.1.x release branch.
