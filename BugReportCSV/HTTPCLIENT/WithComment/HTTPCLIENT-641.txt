Resource Leakage when loading keystore in AuthSSLProtocolSocketFactory
Opened stream not closed after keystore is loaded resulting in resource leakage private static KeyStore createKeyStore final URL url final String password         throws KeyStoreException NoSuchAlgorithmException CertificateException IOException              if url null             throw new IllegalArgumentException Keystore url may not be null                  LOG.debug Initializing key store         KeyStore keystore KeyStore.getInstance jks         keystore.load url.openStream password null password.toCharArray null         return keystore      Should be changed to something like private static KeyStore createKeyStore final URL url final String password         throws KeyStoreException NoSuchAlgorithmException CertificateException IOException              if url null             throw new IllegalArgumentException Keystore url may not be null                  LOG.debug Initializing key store         KeyStore keystore KeyStore.getInstance jks         InputStream is ulr.openStream         try           keystore.load is password null password.toCharArray null          finally            is.close                  return keystore      I am already an Apache committer in various other projects. If someone could grant me the commit write to this project I could help make the changes directly.Further browsing of the httpclient library find similar bugs exist in   org.apache.commons.httpclient.ssl.SimpleSSLSocketFactory createSSLContext Nice to have it fixed as well. Thanks in advance Objections to include that in RC1 Hi Odi I think there is no need to re-vote on 3.1 RC1 because both classes are not a part of the official release package. Hanson If you are already a Jakarta committer you should have commit rights for Commons HttpClient. Just go ahead and apply the fixes. OlegPatch committed.
