IP address of the server of a HttpConnection
AFAIK it s not possible to get the IP address of the server of a HttpConnection. I propose to add a getServerAddress method to the HttpConnection class that returns the IP address of the server if the connection has been opened. And either returns null or throws an Exception if the IP address is not available i.e. the connection is not open. Below is a workaround for getting the IP address in current versions. package org.apache.commons.httpclient import java.io.IOException import java.net.InetAddress public class InetAddressFetcher private HttpConnection hc public InetAddressFetcher HttpConnection hc this.hc hc public InetAddress getInetAddress throws IOException if hc.isOpen hc.open return hc.getSocket .getInetAddress Armin This problem has already been solved in HttpClient 4.0 code line. I do not see a point porting it to HttpClient 3.x OlegArmin The feature request suggests that you don t know or forget to what server you have established a connection. I don t see a real-world use case for that. Read you should know where you are connecting Ortwinortwin we do know what server we are going for but in high performance environments a dns may be resolved to multiple ip addresses and we would like to know which one we are currently using since even if there is DNS round robin or alike this doesn t mean all physical instances of an identically named service behave the same way...
