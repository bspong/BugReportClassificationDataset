Support for handling large files should be added
You should probably change the EntityEnclosingMethod content length field to a long in a future release. Currently it s an int.HttpMethod getContentLength method should also be changed accordingly. OlegAny thoughts on the best way to handle the API changes required In particular the getContentLength methods are a problem. We can either deprecate the methods and create new ones with different names that return longs or break the API and change the int to a long. I would prefer not the break the APIs but I do not like creating the other named methods either. MikeMike This is exactly the case where I believe breaking API is a lesser evil even if Cactus folks may decide to burn me at the stake for expressing such a herecy. Moreover I want to suggest that we should deprecate HttpMethod setRequestContentLength int and instead of creating HttpMethod setRequestContentLength long we should create EntityEnclosingMethod setRequestContentLength long . Only entity enclosing methods are supposed to have request body IMHO. But I feel we should run an informal vote on this issue. I am prepared to represent the Dark Side of HttpClient and aggressively push for API breakage. Evil Comrade OlegFortunately this is already the case HttpMethod does not have any content length methods. Only EntityEnclosingMethod has setContentLength . I will attach a patch in a second that I think is all that we will need to do. The only real API breaks are changing HttpMethodBase.getRequestContentLength and HttpMethodBase.getResponseContentLength from returning ints to longs. Both of these methods are protected. MikeCreated an attachment id 7273 patch 1 You are right. Fortunately all the affected methods are not part of the HttpMethod interface and most importantly getResponseConentLength is not public. That saves me quite a lot of troubles - . I think it is good to be committed. OlegI will apply the patch before long. First though I will send a heads-up to the slide folks as they have a class that overrides getRequestContentLength . Fortunately the fix is trivial but we should try to be courteous. MikeNo word from the Slide folks. Patch applied. Mike
