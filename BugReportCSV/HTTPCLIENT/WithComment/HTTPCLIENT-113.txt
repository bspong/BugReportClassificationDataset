NullPointerException in HttpMethodBase.getResponseBodyAsString
The following code in a cocoon component causes the NPE. A delay seems to help sometimes.       int htcode httpClient.executeMethod method                todo fix-me        This sleep is a temporary workaround        to avoid NullPointerException in the next line.       Thread.currentThread .sleep 100       String ret method.getResponseBodyAsString java.lang.NullPointerException at java.lang.String. init String.java 399 at org.apache.commons.httpclient.HttpMethodBase.getResponseBodyAsString HttpMethodBase.java 579 at org.apache.cocoon.generation.WebServiceProxyGenerator.fetch WebServiceProxyGenerator.java 264 The primary problem is probably an IOException when reading from the stream. Check logfile for a message getResponseBody failed and stack trace. Maybe we should change getResponseBody to re-throw the IOException and not just return null if there is a problem.Making getResponseBody to re-throw IOException would probably be a reasonable thing to do from the design standpoint however it would have required change of HttpMethod interface and impacted quite a few classes. For the time being I have made code in HttpMethodBase.getResponseBodyAsString a bit more defensive. As we are going to revise all the buffering logic in the future anyways I mark this bug as resolved
