Allow configuration of SO LINGER
There is currently no way to configure the SO LINGER option on a socket. Please change the HttpClient class to allow the configuration of the SO LINGER option on a socket similar to the way the SO TIMEOUT can be configured. Suggested extension to the interface of the HttpClient class - Add method setSoLinger to set the current setting for SO LINGER. The method could accept one argument. A negative value could indicate that the SO LINGER should be disabled. - Add method getSoLinger that returns the current setting for SO LINGER. A negative value would indicate that the SO LINGER option is disabled. See http java.sun.com j2se 1.4.2 docs api java net Socket.html setSoLinger boolean 20int Fair enough. But not for the 2.0.x stable branch OlegCreated an attachment id 12714 Patch take 1 Looks good to me. My only question is about the default value. With this patch linger will be disabled by default. Any idea if this is consistent with the current value The Javadocs don t seem to cover this much. MikeMike SO LINGER appears disabled per default however this may be platform JRE dependent. Here s another take which leaves SO LINGER unchanged unless explicitly defined OlegCreated an attachment id 12726 Patch take 2 Looks good to me. MikePatch committed Oleg
