JCR2SPI add JNDI support
adding jndi support to jcr2spi was one of the improvements that came up during the f2f. julian volunteered to take a look at it.OK here s the plan - make RepositoryConfig referenceable should we add that to the interface - make o.a.j.s.jcrs2pi.RepositoryImpl referenceable - generate references based on the RepositoryConfig s reference adding StringRefAddrs for the parameters needed by o.a.j.s.jcrs2pi.RepositoryImpl to re-create the config - implement a simple ObjectFactory inside o.a.j.s.jcrs2pi.RepositoryImpl using this information Revision 562695 made JCR2SPI s RepositoryImpl referenceable in case if the underlying RepositoryConfig instance itself is referenceable. I ll leave the issue open for now because this may not be the final approach and for now none of the Jackrabbit SPI contribs currently support this. Revision 563492 enhance Javadoc with JNDI config example. julian is there anything else you need to do here if not can you resolve the issue merci angelaI think I left it open because we didn t decide whether JNDI support should be optional like it is now or required. Since then I think we have converged on optional as this reflects what we re doing in JCR 2.0 as well. Thus I think we can close this one. Optional JNDI support has been implemented as proposed in then initial plan.
