fix assertions checks that use File.length to use getFilePointer 
This came up on this thread Getting RuntimeException after flush fdx size mismatch while Indexing http www.lucidimagination.com search document a8db01a220f0a126 In trunk a side effect of the codec refactoring is that these assertions were pushed into codecs as finish before close . they check getFilePointer instead in this computation which checks that lucene did its part instead of falsely tripping if directory metadata is stale . I think we should fix these checks asserts on 3.x too Here s the start to the patch fixes the case that user hit without us losing any coverage in the check. I haven t yet reviewed other uses. updated patch using the same try finally logic as trunk fixing termvectors writer too and storedfields tvs from segmentmerger I think its ready. After reviewing all uses of Directory.fileLength only really one scary one remains its use when constructing CFS directories. This seems like it could be hard to fix though I d rather not tackle this here... unless someone knows of a super-easy fix but that could cause similar issues I think for people using NFS 
