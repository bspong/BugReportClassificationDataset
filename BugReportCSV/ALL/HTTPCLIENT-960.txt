HttpMultipart doesn t generate Content-Type part header in mode BROWSER COMPATIBLE
Browsers tested with Firefox 3.6 and IE6 send a Content-Type header for file parts what org.apache.http.entity.mime.HttpMultipart doesn t do in BROWSER COMPATIBLE mode. Example 142889018617181602061216500409 Content-Disposition form-data name myFileFieldName2 filename webtest.png Content-Type image png In HtmlUnit we wil subclass HttpEntity and MultipartEntity to fix this problem.Subclassing wasn t possible. Rather than to copy and fix HttpEntity and MultipartEntity we now use a hack we access MultipartEntity s private field multipart and change the CONTENT DISPOSITION field value to contain as well r nContent-Type.... It s not nice but...Fixed in SVN trunk. Please review test. Oleg
