Move common node type functionality to jackrabbit-spi-commons
now that jackrabbit-core has a dependency to jackrabbit-spi-commons it would be possible to have the common functionality shared by core and jcr2spi in the spi-commons project. the node type package offers quite some potential for that. I agree with Angela. Can t wait to see an abstract repository service base class that handles all the node type and property definition stuff based on a given CND file. This would lower the effort to implement a Level 1 repository significantly.after taking a first glance at this one i have the impression that this will not be a 2 hour task and suggest to work on this step by step. i think we should keep this as collection issue for the individual steps. therefore marking JCR-1516 as a subtask of this one.- replaced NodeTypeDef jackrabbit-core with QNodeTypeDefinition - QNodeTypeDefinitionImpl is not immutable hence no cloning needed anymore - introduced QNodeTypeDefinitionBuilder - moved constructors of Q DefinitionImpl classes in spi2jcr to spi-commons - fixed a bug in RepositoryServiceImpl in spi2jcr svn revision 816551- moved common functionality from NodeTypeImpl core and jcr2spi to AbstractNodeType spi-commons svn revision 816568 TODOs - merge EffectiveNodeType core and EffectiveNodeTypeImpl jcr2spi - move more common functionality for NodeTypeImpl - possibly merge NodeTypeMangerImpl core and jcr2spi resolving issue. remaining todos will most probably not be addressed within reasonable timeframe
