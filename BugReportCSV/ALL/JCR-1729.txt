Node addNode fails with AccessDeniedException if session lacks read-permission to an ancestor
Consider a Session that has following permissions home - no permission home myself - read remove set property add node if this session tries to add a Node to home myself. An AccessDeniedException is thrown indicateing that it can not read home. The Exception is caused by the Node s check if it is checked-out. This check asumes that the session has read-access to all its ancestors. Which breaks in this case see NodeImpl internalIsCheckedOut ln 3875 what version of jackrabbit-core are you working with I observed it in a core version 1.4.5 and in the head version.suggested fix testMerged to the 1.5 branch.
