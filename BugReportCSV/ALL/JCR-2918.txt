Avoid unnecessary index reader calls when using aggregate definitions
SearchIndex.retrieveAggregateRoot Set NodeId removedIds Map NodeId NodeState map identifies aggregate root nodes based on removed nodes and aggregate rules defined in the indexing configuration. This process requires index lookups. The method can be optimized for the case when no nodes are removed and an unnecessary call to the index reader can be avoided.Proposed patch.Fixed on trunk in revision 1142919 and on 2.2 in revision 1142926 by the way I used a wrong rev number in the comment for the 2.2 commitI d rather not include this in the 2.2 branch because it is a performance optimization and does not fix a bug.yes you are right we ll backport this issue if needed
