Jcr2Spi UpdateTest testUpdateRemovesExtraProperty and testUpdateAddsMissingSubtree fail occasionally
issue reported by jukka Every now and then I see the following jcr2spi test failures on a clean checkout     Tests in error       testUpdateRemovesExtraProperty org.apache.jackrabbit.jcr2spi.UpdateTest       testUpdateAddsMissingSubtree org.apache.jackrabbit.jcr2spi.UpdateTest The problem seems to be caused by the test cases automatically choosing the security workspace for the update test. The reason why the tests only fail occasionally is that currently the ordering of the string array returned by getAccessibleWorkspaceNames is not deterministic. I can work around the issue by making RepositoryImpl.getWorkspaceNames explicitly sort the returned array of names but a more proper fix would probably be to ensure that the workspace selected by UpdateTest is useful for the test. actually there is a bug in the 2 test cases. still i would like to do the following - fix the tests - add a config param that allows to specify the second workspace instead of selecting one randomly   from the list of available workspaces. fixed at rev 654542 since i never experience the bug in the past i tried the following values for the new configuration parameter second workspace name - same as default wsp. - missing - security - invalid thus a workspace name that does not exist - and obvious the expected value test the tests passed with all values not-executable respectively ... hope that fixes the problem. Confirming that the fix works for me. Thanks 
