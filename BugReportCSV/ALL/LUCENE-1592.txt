fix or deprecate TermsEnum.skipTo
This method is a trap it looks legitimate but it has hideously poor performance simple linear scan implemented in the TermsEnum base class since none of the concrete impls override it with a more efficient implementation . The least we should do for 2.9 is deprecate the method with a strong warning about its performance. See here for background http www.lucidimagination.com search document 77dc4f8e893d3cf3 possible terminfosreader speedup And here for historical context http www.lucidimagination.com search document 88f1b95b404ebf16 remove termenum skipto term target I made a quick update to the javadoc so its a bit less misleading but still needs to be resolved in a stronger manner al la this issue. Moving out. I think deprecation is to do now before 3.0 so why move this out I looked into the source code in trunk this method is used nowhere deprecating it should be no problem deprecated Use link IndexReader terms Term to create a new TermEnum. This method is not performant. OK excellent Ð can you commit that I will do this and close this issue it is better to just deprecate and do not direct users to this method that is not used there is not even a test for it and slow. OK moving back to 2.9 assigning to you Uwe Committed revision 783747
