Removing-nodes with unexpected nodetype
tobias adds a logic with JCR-973 that the DefaultHandler checks the nodetype of the jcr content node and if it does not match it will be deleted and created with the new one. i think its dangerous to automacially change a node type. if the node was added programatically and then saved through webdav it could happen that the nodetype will be changed from nt resource to the nt unstructured. if some logic depends on the nodetype the failure search will be hard - wrong component. should be jcr-serverwould it help if we move the replace-the-contentnode-if-wrong-nodetype logic from the default handler to the XML handler in this case if no XML handler is involved this would work as before the changes in JCR-973 and an existing content node would not be altered. if the xml handler detects a incompatible node type it would then replace the content node.that sounds good for me ... thanks clausfixed in 1.4 branch rev. 682477. fixed in trunk rev. 682481.
