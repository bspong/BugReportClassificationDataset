Simple Google style query
In the Sling project there s a need for a simple query language. See SLING-573. I ve created a parser that translates the simple query into an XPath query statement and executes it on a JCR workspace. I ll commit it to the jackrabbit-jcr-commons module.Added o.a.j.commons.query.GQL in revision 681049. See JavaDoc for documentation on how to use it and the exact syntax. Added integration test for GQL in jackrabbit-core svn revision 681054.The GQL.execute returns a RowIterator and would be nice to return a QueryResult so I can make a result.getColumnNames to get the returned column names. Or perhaps better make public the method which translates the GQL query to XPath so I can pass it to the QueryManager and execute it.Another option is to handle these kind of queries internally making possible to run it as queryManager.createQuery statement type Where type could be gql in this case and the statement a GQL query. GQL has no relation with JCR. it is just a candidate amoung several others like Common Query Language or Contextual Query Language to write a query. See http www.loc.gov standards sru specs cql.html CQL and GQL are not part of the JCR and having the Google name in it does give it any rights to live in the JCR common module. If you need another query language I suggest you add it in a different module this way you won t force everyone to have it if they don t want it. Some of my projects rely on the jcr-commun module and I hope it will remain dedicated to pure JCR.GQL is already in jcr-commons so the purity is broken. Anyway my principal problem is that I can paginate the result of GQL because the optimized method seems to be QueryImpl query .setLimit limit QueryImpl query .setOffset offset and it return a RowIterator. GQL is already in jcr-commons so the purity is broken. So there is an issue here. is it too late to move it out Anyway my principal problem is that I can ... It looks like it s no big deal for you it s a matter of modularity. what s the purpose of making maven module if you don t split things properly Please don t use an already closed issue for discussion. If you want to suggest changes file a new issue with perhaps a reference to this earlier issue.Sorry I have created a new issue at JCR-2526 so we can move the discussion there.
