ShingleFilter skips over trie-shingles if outputUnigram is set to false
Spinoff from http lucene.markmail.org message uq4xdjk26yduvnpa I noticed that if I set outputUnigrams to false it gives me the same output for maxShingleSize 2 and maxShingleSize 3. please divide divide this this sentence when i set maxShingleSize to 4 output is please divide please divide this sentence divide this this sentence I was expecting the output as follows with maxShingleSize 3 and outputUnigrams false please divide this divide this sentence This patch adds test for trigram and fourgram with and without outputUnigram. All tests pass We should likely backport this to 2.9 3.0 too last patch messed up the posInc - fixed it in this one simon your fix makes sense to me... i think you should commit it I plan to commit this in today or tomorrow. Somebody volunteering to backport simon I committed this in revision 897672 Robert would you please backport this to 2.9 3.0 - thanks for the offer simon
