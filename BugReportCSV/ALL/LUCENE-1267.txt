add numDocs and maxDoc methods to IndexWriter deprecate docCount 
Spinoff from here http mail-archives.apache.org mod mbox lucene-java-user 200804.mbox 3c405706.11550.qm web65411.mail.ac4.yahoo.com 3e I think we should add maxDoc and numDocs methods to IndexWriter and deprecate docCount in favor of maxDoc . To do this I think we should cache the deletion count of each segment in the segments file. Attached patch. This changes the segments file to store the deletion count per segment. I added package-private get setDelCount to SegmentInfo. I also added BitVector.getAndSet which sets the bit but returns the starting value of that bit. I use this to only increment deletion count if the doc wasn t already deleted. I plan to commit in a day or two.
