problem with edgengramtokenfilter and highlighter
i ran into a problem while using the edgengramtokenfilter it seems to report incorrect offsets when generating tokens more specifically all the tokens have offset 0 and term length as start and end this leads to goofy highlighting behavior when creating edge grams for tokens beyond the first one i created a small patch that takes into account the start of the original token and adds that to the reported start end offsets. Hi Joe your patch looks correct to me thanks btw we do not need to add the casts for trunk as it uses java 5 but if when backported to 2.9.x we can add them . I think we need to do the same thing with NGramTokenFilter it looks broken too in the same way. I ll take your patch and see if i can add fixes to that one too... and both these filters need better tests to ensure these offsets work. Thanks for the bug report and the fix the same bug existed in both filters and the tests for both filters were broken too. as we are in a code freeze i ll await comments as to what I should do with this guy As this patch is really simple I have no problem with quickly putting into 2.9.2. Robert as we are in code freeze I would like to apply it. Committed trunk revision 910078 Committed 3.0 revision 910080 Committed 2.9 revision 910082 Thanks Joe Robert. Now I can start the PMC votes of Lucene 2.9.2 and 3.0.1 
