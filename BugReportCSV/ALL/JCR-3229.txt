FileRevision should have a flag to control whether to sync the file on every write.
FileRevision class syncs the underlying revision.log file it uses on every write which could be a performance problem. Add a boolean flag to control whether to sync the file on every write. Proposed fix.Hi Mete Thanks for providing a patch. I noticed that you changed both FileJournal s and DatabaseJournal s revision.log to not sync after writing opposed to the current state where they sync after every write which might result in information loss if that cluster node crashes before the file system will eventually write changes back to disk. Don t you think this might be problematic Kind regards DominiqueAh yes. I meant to keep the default sync on but only provide a way to turn it off if someone wanted it. So you re right my mistake both journal should sync by default as before.Good I applied your patch with sync set to true for these journals in revision 1241481.
