support offsets in MemoryPostings
Really we should add this for Sep Pulsing too... but this is one more patch mostly works... TestPostingsOffsets passes but now i see that term-vectors cross-compare is awesome... so there s still another bug. stupid bug not returning -1 for startOffset when they aren t available. CheckIndex only wraps its entire offsets check in if hasOffsets which was confusing to me but thats referring to whether the vectors have offsets... in other words my postings impl can return -1 always for offsets and checkindex is happy... in fact there are no assertions for postings offsets at all to improve checkindex i guess there really isn t much we can enforce but I think in testPostings we should at least try to pull a docsAndPositions offsets true if they are available. in the case they aren t available we can also assert -1 for start and end offset which would have caught my bug Patch looks good thanks for reviewing Mike
