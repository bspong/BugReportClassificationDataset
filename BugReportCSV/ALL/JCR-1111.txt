Accesss to version history results in reading all versions of versionable node
InternalVersionHistoryImpl loads all versions at once during initialization. Because of that all versioning operations incl. checkin label restore are significantly slower when node has many versions. I m working on patch to load versions when it is needed only.Patch attached. Only root version instance is created during intitiaization of InternalVersionHistoryImpl. Other versions are lazy loaded. It has big impact on performance of versioning operations and reduces significantly memory allocations when importing cloning big trees of versionable nodes.patch applied in rev. 592947przemo i appreciate that you provided a patch with the suggested changes to give other committers a chance to review them. however there s no point in doing so if you apply the patch 14 minutes later anyway... if you d like to get feedback on the suggested changes you should wait at least a couple of days before committing the patch - thanks stefanWell you are right I didn t give any chance to review it by anyone - . I can say that all test passes and I was working with this fix for some time.
