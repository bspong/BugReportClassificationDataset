Setting different MAX HOST CONNECTION values per host using a single MultiThreadedHttpConnectionManager
Right now it s not possible to use the MultiThreadedHttpConnectionManager.setMaxConnectionsPerHost int method in a per HostConfiguration basis. The value applies to every HostConfiguration the current connection manager is managing. I would be quite useful to allow the connection manager to set different values depending on the HostConfiguration.Created an attachment id 12033 Patch 1 Here s a quick solution to this one. Please take a look and let me know what you think. MikeHi Mike In the JavaDocs for HostConfiguration.ANY HOST CONFIGURATION could you mention that this object is to be used as a lookup key only For a moment I really thought something would be stored in it. I only realized my mistake the very last moment before posting a comment that would have been really embarrassing for me - And someone else might get the idea of calling the setters on that one too. Looks good to me. cheers   RolandMike It looks like getParameter MAX HOST CONNECTIONS can return null and cause a NPE.         Map m Map getParameter MAX HOST CONNECTIONS         Integer max Integer m.get hostConfiguration I currently get over a dozen testcases failing on me with the patch applied Otherwise looks good OlegCreated an attachment id 12080 patch 2 Hi Oleg Roland Thanks for taking a look at this one. Here is a new version that should address both of the points mentioned. Please let me know what you think. Thanks MikeLooks good to me OlegPatch applied to HEAD. Mike
