 ant javacc in root project should also properly create contrib queryparser Java files
 ant javacc in the project root doesn t run javacc in contrib queryparser ant javacc in contrib queryparser does not properly create the Java files. What still needs to be done by hand is partly described in contrib queryparser README.javacc. I think this process should be automated. Patch provided. This patch caused ant javacc to also run in contrib queryparser and automates the steps in README.javacc in the ant script. linking issues Hi Jan Your patch does not apply clean against the trunk. I think the file names include part of your path. Please check and resubmit I ll try again I found some free time and fixed the patch. It should apply fine against the trunk now. Jan can you test it. Luis works fine for me. Hi Michael This is an update to the build files to allow javacc to be rebuild StandardSyntaxQueryparser from the .jj files without manually having to change ParseException.java. The patch looks good. I tested Jan-Pascal patch on my system and Jan-Pascal also confirms that it works with the small changes I made. Can you please commit it it would be great to have it on 2.9. I deleted my contrib queryparser src java org apache lucene queryParser standard parser ParseException.java. When I run now ant javacc after applying this patch I m getting javacc replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java replaceregexp The following file is missing Users buschmi work svn lucene trunk contrib queryparser src java org apache lucene queryParser standard parser ParseException.java At the end the ParseException.java is still missing so it wasn t regenerated. Shouldn t this work now If you remove StandardSyntaxParser.java the main class the .jj generates then ParseException will be generated. I ll try to see how we can persuade ant javacc to run also if just ParseException is missing Jan can you patch the build.xml target name clean-javacc to delete the parser files in contrib queryparser. If you don t have time let me know. Updated patch to properly clean generated files. ant clean-javacc and ant javacc are working fine now. Committed revision 806755. Thanks Jan-Pascal and Luis Would it still be possible to also treat the javacc ant goal of the surround parser in the same way Would it still be possible to also treat the javacc ant goal of the surround parser in the same way Can you please create another JIRA for the surround parser. Ok see LUCENE-1851
