StringHelper stringDifference is wrong about supplementary chars
StringHelper stringDifference does not take supplementary characters into account. Since this is not used internally at all we should think about removing it but I guess since it is not too complex we should just or fix it for bwcompat reasons. For released versions we should really fix it since folks might use it though. For trunk we could just drop it. here is a patch My vote would be to drop it if we arent using it its lucene.internal. since its unused its not obvious that its wrong its correct if you want the first code unit difference since its unused its not obvious that its wrong its correct if you want the first code unit difference yeah - my interpretation would be its wrong since you use Character.charAt int with the index of the first code unit. anyway - we should drop for trunk but I am not sure if we should for 3.x. I mean this is not that much of a deal anyway. drop in trunk and mark deprecated in 3.x regardless of whether its right or wrong if we arent using it i think its good to clean house. drop in trunk and mark deprecated in 3.x yeah that makes sense... shall we fix it in 3.x fix means support suppl. chars I don t have strong feelings about it. patch to deprecate we should just remove from trunk though patch to deprecate we should just remove from trunk though 1 - I committed that in 1024128 thanks robert I also merged into 3 x - should we backport to 3.0.x too simon Why not drop it from 3.x 3.0.x as well It s an internal API so there s no need to deprecate it first 1 to at least removing from 4.0. Lets drop it from 4.0 and 3.x and deprecate in the 3.0 branch so if we do a 3.0.3 release one day people get a heads up. thoughts Lets drop it from 4.0 and 3.x and deprecate in the 3.0 branch so if we do a 3.0.3 release one day people get a heads up. I think doing anything in 3.0.x is optional here... above beyond the call of duty And we should drop it in 3.x and 4.0. moving out And we should drop it in 3.x and 4.0. since this it gone from 4.0 I will remove from 3.x now too. here is a patch against 3x - I will commit shortly Committed revision 1043738. Bulk close for 3.1
