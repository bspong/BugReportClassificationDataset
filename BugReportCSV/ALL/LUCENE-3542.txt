StandardQueryParser ignores AND operator for tokenized query terms
The standard query parser uses the default query operator for query clauses that are created from tokenization in the query parser instead of the actual operator for the source term. here is an example StandardQueryParser parser new StandardQueryParser new StandardAnalyzer Version.LUCENE 34 parser.setDefaultOperator Operator.OR System.out.println BooleanQuery parser.parse deleted true AND title f this should yield deleted true title title as our former core query parser does but actually yields deleted true title title seems like a bug to me looking at the tests seems we don t test for this kind of queries in the standard query parser tests too. here is a patch against 3.x - turns out that the standard query parser doesn t group expanded terms internally while our core parser does. I added a testcase for my particular case and fixed the grouping if a term gets expanded committed to trunk in r1195275 backported to 3.x in r1195276 Bulk close after release of 3.5
