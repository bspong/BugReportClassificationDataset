Tika-based type detection in jcr-server
As discussed on dev I d like to make the jackrabbit-jcr-server component use Apache Tika for automatic media type detection.Proposed patch.Minor update to the patch Fix the javadocs about the default content node type nt unstructured instead of nt resource . Thanks Angela I m not sure whether replacing the MimeResolver interface with directly using Tika is a good idea. In fact in the Apache Sling WebDAV bundle I made use of the ability to inject a custom MimeResolver to be able to use Sling s mime type resolver. So I would actually favor a solution which would provide a Tika-based Mime Resolver.Committed the patch in revision 830670. Felix in the Apache Sling WebDAV bundle I made use of the ability to inject a custom MimeResolver to be able to use Sling s mime type resolver. You can still provide custom type detection functionality by injecting an implementation of the org.apache.tika.detect.Detector interface. I would actually favor a solution which would provide a Tika-based Mime Resolver. The Detector interface is more expressive than the MimeResolver class we ve used so far so a Tika-based MimeResolver would not be as powerful a solution. For example the MimeResolver class did not support things like content sniffing or Content-Type hints.Resolving as Fixed based on the changes in revision 830670.
