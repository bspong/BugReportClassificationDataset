JSR 283 Locking
initial steps - add extensions to Lock.java and new interface LockManager.java to jackrabbit-api ... jsr283 lock - let LockImpl implement the extended Lock - add TODOs for the changes to be made to LockImpl for 2.0rev r732693 - added LockManager implementation SessionLockManager - moved code from deprecated lock related methods from NodeImpl to LockManager - changed lockOwner according to jsr 283 semantics - some preparations for specifying lock timeout currently timeout hints are ignored however - lock related properties are written on state level directly omitting any transient modifications TODOs - timeout - lock token handling - enable tests - adjust TCK testsrev 736658 - lock token handling TODOs - timeout - session-scoped locks must not expose the lock token   uncommenting that needs some more adjustments in jcr2spi and the spi - adjust review TCK tests and merge with 283 testsrev. 753228 jackrabbit-api - update Lock.java getSecondsRemaining throws RepositoryException - add Workspace.javarev. 753244 - session-scoped locks must not expose the lock token   - see also changes made to jackrabbit-spi jackrabbit-jcr2spi and spi-impls - WorkspaceImpl implements the 283-Workspace   - renamed the implementation specific getLockManager method to getInternalLockManager   - and changed its usage accordingly - getSecondsRemaining returns a negative number if the lock has expired or was released. TODO - timeout - adjust review TCK tests and merge with 283 tests - LockException should have the failure-node-path setThanks for the list of TODOs and the status update on dev . I ll give a look at the remaining items in the next few days.once the timeout hint is respected issue JCR-779 can be resolved as well.Added the failure node path when easily available to LockExceptions in revisions 803549 and 803566.Added a simple lock timeout mechanism and updated the related TCK tests in revision 805431.
