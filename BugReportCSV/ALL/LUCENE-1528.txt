Add support for Ideographic Space to the queryparser - also know as fullwith space and wide-space
The Ideographic Space is a space character that is as wide as a normal CJK character cell. It is also known as wide-space or fullwith space.This type of space is used in CJK languages. This patch adds support for the wide space making the queryparser component more friendly to queries that contain CJK text. Reference http en.wikipedia.org wiki Space punctuation - see Table of spaces char U 3000. I also added a new testcase that fails before the patch. After the patch is applied all junits pass. LUCENE-1528 - Add support for Ideographic Space to the queryparser Looks good Luis I was just wondering if you can do something like the following to avoid defining the whitespace chars in two places WHITESPACE t n r TERM START CHAR WHITESPACE - ESCAPED CHAR This does not compile... is there another way to achieve this in javacc If not it s not a big deal and I can commit this patch as is. Hi Michael I checked the book Generating parser with JavaCC and I checked the javacc website https javacc.dev.java.net doc javaccgrm.html for grammar here is the syntax for a character list character list character descriptor character descriptor character descriptor java string literal - java string literal also the character in javacc syntax is used like an XOR and there is no OR or AND operator to be used in the javacc syntax that I m aware. So the expression WHITESPACE ... would have to look like WHITESPACE ... but this is not possible in javacc grammar. So I think the best option for now is to keep the current syntax. If you like I can change WHITESPACE t n r to a character list to make it more consistent but that would not help to remove the duplicated list of characters. WHITESPACE t n r Committed revision 738592. Thanks Luis.
