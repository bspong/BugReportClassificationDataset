ALLOW CIRCULAR REDIRECTS has no effect if references include query string
ALLOW CIRCULAR REDIRECTS parameter in HttpClientParameters has no effect if circular reference contains in URL parameters.Created an attachment id 13953 possible patch for bug Created an attachment id 13954 Previous patch - contains not proper exception handling please ignore it Looks okay to me. The only thing missing is a test case. Would you mind providing a test case for the bug or shall I take it over from here TestRedirects test case suite may server as a good starting point. OlegCreated an attachment id 13960 Patch for TestRedirects test case Please note since the max redirect and allow circular redirects throw same exceptions - RedirectException the only way to understand real reason to exception is to parse the message of exception. For my opinion circular references should throw exception of inherited from RedirectException e.g. class CircularRedirectException extends RedirectException - this will save on the backward compatibility and provide better error handling.Created an attachment id 13976 Ilya s patch the test case a few minor tweaks Folks Please let me if the patch is okay to be committed. OlegLooks like this has already been applied... Other than a few embedded tab characters it s good. MikePatch committed. Many thanks Ilya Oleg
