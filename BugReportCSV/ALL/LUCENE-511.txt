New BufferedIndexOutput optimization fails to update bufferStart
New BufferIndexOutput optimization of writeBytes fails to update bufferStart under some conditions. Test case and fix attached. Can you please package this as a single patch file generated with svn diff while connected to the Lucene root Thanks My lucene root is not as clean as it should be. Don t have time to do that sorry... . Simple copy and paste the BufferedIndexOutput to your local one and check for changes there will be only one line . The test if you want to add it should be dropped to its package location. Sorry for this have so many other things to do and its not a big change. I have committed a patch for this. Here s the files in patch format.
