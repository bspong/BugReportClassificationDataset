WebDAV BIND support
I m tempted to work on implementing the WebDAV BIND protocol as currently defined in http greenbytes.de tech webdav draft-ietf-webdav-bind-20.html. This issue can be used to collect design proposals and track progress. 1 DAV resource-id live property This can be implemented in terms of the JCR UUID. However we need to turn this one into a URI for WebDAV. If the JCR UUID happens to really use UUID syntax we could use urn uuid. Otherwise it would probably useful to mint an HTTP URI served by the WebDAV servlet. note that the latter has the disadvantage that moving a node to a different server will affect its resource-id in case that other server allows importing UUIDs . 2 REBIND and UNBIND methods Same as MOVE and DELETE with the excpetion of marshalling. 3 DAV parent-set property Either trivial when node isn t shared or needs to use the JCR 2.0 shared set functionality. 4 BIND method Either trivial when shareable nodes aren t supported or needs to use the JCR 2.0 shared set functionality. 5 Cycle detection in depth infinity requests TBD - patch containing support for DAV resource-idLooks good to me so far. Maybe we can re-use org.apache.jackrabbit.uuid.UUID for the UUID parsing patch containing support for DAV resource-idLooks good to me. I ll commit this soonish unless somebody can spot a problem with this little extension... Contains support for the property DAV resource-id and the methods REBIND and UNBIND includes patch-resourceid.txt .Applied first patch DAV resource-id with revision 697767.patch containing support for WebDAV binding extensions.The file patch-bindsupport.txt covers all five issues mentioned by Julian together with the necessary changes to the OPTIONS method and the handling of the DAV header. It should be noted that DELETE may remove the wrong binding which is a separate issue concerning jackrabbit-core. Cycle detection is not implemented at WebDAV level since the current jackrabbit core does not allow cycles anyway.The latest patch looks good to me so far except one typo in pom.xml - I d propose to apply it soonish in the meantime more tests can be added .Added client components and testcases. The test org.apache.jackrabbit.webdav.server.BindTest.testUnbind currently fails due to the jackrabbit-core issue JCR-1773. removed changes from AbstractResource belongs to JCR WebDAV not Simple WebDAV Applied Manfred s patch plus some minor changes to documentation with revision 700097.
