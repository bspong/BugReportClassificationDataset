SetCookie DateParser failing to parse non-standard date format
I m receiving the following expiration date in SetCookie which DateParser doesn t handle expires Sat 19-Apr-03 04 28 07 GMT The lack of a space between and 19 is causing the problem. Is it possible to add the following lines to DatePattern EEE dd-MMM-yy HH mm ss z EEE dd-MMM-yyyy HH mm ss z I m happy to add these as new date formats. Is there a public server that we can hit to test this out This change may not make it in until after we release beta1 though. Oleg Jeff do you mind if we add this one before the freeze MikeI think the code freeze does not go into effect until publicly announced by Jandalf on the mailing list. We may still slip minor changes in meanwhile OlegPeter I will add these new date formats to the code as we have not quite entered a code freeze yet. Please let me know if there is a public site I can hit to test this out. Thanks MikeHi Mike             I ve emailed you a test case which you can run before after applying the fix... Regards PeterPatch committed.Tested ok I received the following expiry date in SetCookie which DateParser v1.3 from rc1 cannot handle expires Mon 18-08-2013 16 19 55 GMT It uses numeric month value instead of the abbreviated form. It is I m not sure if it is related from a Microsoft-IIS 5.0 server. Is it possible to add EEE dd-MM-yyyy HH mm ss z to DATE PATTERNS Well it depends. Is this cookie date set by a faulty web application Then you should rather fix that application to use the standard date format. If however this is coming from the server directly we will need to support it of course.The server is out of my control and I can t tell whether it is an application or system fault. However may I suggest if there is a way for programmers to configure their own list of formats instead of changing the code base.Though I agree the server is certainly behaving in a non-standard way it is by no means the only one. I see no reason not to add this date format to our growing list. We should probably take a look at this as a configuration option for 2.1 3.0. Keith please try the attached patch to make sure this fixes the problem. MikeCreated an attachment id 7929 patch It works. Thanks.Committed.
