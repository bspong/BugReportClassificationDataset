RFC 2965 Support Port sensitive cookies 
RFC 2109 doesn t consider port numbers when matching and filtering cookies. RFC 2965 does. Modify the Cookie class so that it optionally supports RFC 2965 while maintaining support for RFC 2109-style portless cookies.Created an attachment id 16235 Patch file for RFC2965 Spec. Latest patch file for this feature. The patch is created against http svn.apache.org repos asf jakarta commons proper httpclient branches COOKIE 2 BRANCH . -SamitFolks The patch requires manual conflict resolution. Do not waste your time fixing it. I ll check the patch in as soon as I get home. All test cases pass which is a good news. The only trouble is the use of Java 1.5 specific Arrays.toString method which is a very minor problem. Otherwise it is a big step forward OlegPatch checked in OlegCreated an attachment id 16245 A small bug fix - Arrays.toString not supported. Fixed bug in TestCookieRFC2965Spec class - Arrays.toString are only supported in Java 1.5 not earlier versions. Created an attachment id 16247 Version support patch Samit I am not particularly fond of the idea of always sending the Cookie2 Version 1 header regardless of the cookie spec being used. This can especially be misleading when HttpClient is configured to use the Netscape draft or the browser compat spec. How about this fix Let me know what you think OlegLooks like the way to go. MikeChecked in patches 2 A small bug fix - Arrays.toString not supported in old versions and 3 Version support patch OlegCreated an attachment id 16358 Cookie attribute handler patch Samit I like the CookieAttributeHandler interface and the way it allows to modularize the processing logic of various cookie attributes. I do not like the fact though that cookie attribute handlers cannot be used polymorphically in the match and validate methods of the RFC2965 cookie spec. This patch is intended to address this shortcoming. It changes the interface a little and restructures the code here and there but overall it keep the existing design intact. Please let me know what you think OlegCreated an attachment id 16359 Cookie attribute handler patch Cookie attribute handler patch committed OlegRFC2965 support merged down to the SVN trunk Oleg
