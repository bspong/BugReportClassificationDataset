need members of MultipartRequestEntity to be protected instead of private to make it extendable for multipart related
As explained in the mailing-list 1 I d like to have some of MultipartRequestEntity move from private visibility to protected visibility to be able to extend as MultipartRelatedRequestEntity. Namely the attribute parts and the method getMultipartBoundary would be needed. Thank you. 1 http mail-archives.apache.org mod mbox jakarta-httpclient-dev 200510.mbox 3c87irw18ndm.fsf meuh.mnc.ch 3eCreated an attachment id 16738 Patch take 1 Guillaume please let me know if this patch is sufficient for you OlegUnless I m mistaken I don t think so. I badly need to have the same boundary in the overriden getContentType than the one used in the motherclass getContentLength and writeRequest. I think I really need getMultipartBoundary to be protected rather than generateMultipartBoundary.Guillaume would you mind explaining why you need this IMHO a entity should not care if it is embedded in another multipart entity and the parent s boundary string.Guillaume Just patch it the way you want it to be and submit the patch for review Oleg In reply to comment 3 Guillaume would you mind explaining why you need this IMHO a entity should not care if it is embedded in another multipart entity and the parent s boundary string. To perform a multipart related POST compared to the MultipartRequestEntity I need to change the Content-Type header to use another base type and possibly add a couple of additional parameters in it start type by overriding getContentType. As the boundary of used in the Content-Type header and then used in other places in getContentLength and writeBody I need to use the same boundary in the overriden getContentType than in these non-overriden methods. I hope this helps understanding the problem Created an attachment id 16762 patch proposal This is the minimal patch that I d need to implement a working MultipartRelatedRequestEntity of 50 LOC. For orthogonality one might consider to put params also protected.Created an attachment id 16766 Enhanced proposal Fair enough. I just added API doc. For orthogonality one might consider to put params also protected. One can use getParams to access this.params instance variable Oleg In reply to comment 7 Created an attachment id 16766 edit Enhanced proposal Fair enough. I just added API doc. Works for me OlegPatch checked in Oleg
