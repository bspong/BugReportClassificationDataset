PATCH MultiLevelSkipListReader NullPointerException
When Reconstructing Document Using Luke Tool received NullPointerException. java.lang.NullPointerException at org.apache.lucene.index.MultiLevelSkipListReader.loadSkipLevels MultiLevelSkipListReader.java 188 at org.apache.lucene.index.MultiLevelSkipListReader.skipTo MultiLevelSkipListReader.java 97 at org.apache.lucene.index.SegmentTermDocs.skipTo SegmentTermDocs.java 164 at org.getopt.luke.Luke 2.run Unknown Source Luke version 0.7.1 I emailed with Luke author Andrzej Bialecki and he suggested the attached patch file which fixed the problem. Interesting... I wonder why none of our current tests hit this bug. Shame on me this is a pretty bad typo Rich thank you for finding this. The patch is good. I ll add a testcase that hits this bug and commit it shortly. With this patch reusing the same TermPositions object for different terms works fine now. It includes a testcase that shows the bug. All tests pass. Committed. Thanks Rich 
