possible SynonymFilter bug hudson fail
See https builds.apache.org job Lucene-trunk 1867 consoleText no seed Since this test just wraps SynonymFilter around MockTokenizer i suspect the bug is in Synonyms. junit Testsuite org.apache.lucene.analysis.synonym.TestSynonymMapFilter junit Testcase testRandom2 org.apache.lucene.analysis.synonym.TestSynonymMapFilter Caused an ERROR junit Uncaught exception by thread Thread Thread-1042 5 junit org.apache.lucene.util.UncaughtExceptionsRule UncaughtExceptionsInBackgroundThread Uncaught exception by thread Thread Thread-1042 5 junit at org.apache.lucene.util.UncaughtExceptionsRule 1.evaluate UncaughtExceptionsRule.java 60 junit at org.apache.lucene.util.LuceneTestCase RememberThreadRule 1.evaluate LuceneTestCase.java 618 junit at org.junit.rules.RunRules.evaluate RunRules.java 18 junit at org.junit.runners.ParentRunner.runLeaf ParentRunner.java 263 junit at org.junit.runners.BlockJUnit4ClassRunner.runChild BlockJUnit4ClassRunner.java 68 junit at org.apache.lucene.util.LuceneTestCaseRunner.runChild LuceneTestCaseRunner.java 164 junit at org.apache.lucene.util.LuceneTestCaseRunner.runChild LuceneTestCaseRunner.java 57 junit at org.junit.runners.ParentRunner 3.run ParentRunner.java 231 junit at org.junit.runners.ParentRunner 1.schedule ParentRunner.java 60 junit at org.junit.runners.ParentRunner.runChildren ParentRunner.java 229 junit at org.junit.runners.ParentRunner.access 000 ParentRunner.java 50 junit at org.junit.runners.ParentRunner 2.evaluate ParentRunner.java 222 junit at org.junit.internal.runners.statements.RunBefores.evaluate RunBefores.java 28 junit at org.junit.internal.runners.statements.RunAfters.evaluate RunAfters.java 30 junit at org.apache.lucene.util.UncaughtExceptionsRule 1.evaluate UncaughtExceptionsRule.java 51 junit at org.apache.lucene.util.StoreClassNameRule 1.evaluate StoreClassNameRule.java 21 junit at org.apache.lucene.util.SystemPropertiesInvariantRule 1.evaluate SystemPropertiesInvariantRule.java 22 junit at org.junit.rules.RunRules.evaluate RunRules.java 18 junit at org.junit.runners.ParentRunner.run ParentRunner.java 300 junit at junit.framework.JUnit4TestAdapter.run JUnit4TestAdapter.java 39 junit at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run JUnitTestRunner.java 420 junit at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch JUnitTestRunner.java 911 junit at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main JUnitTestRunner.java 743 junit Caused by org.junit.ComparisonFailure term 0 expected script but was junit at org.junit.Assert.assertEquals Assert.java 125 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.assertTokenStreamContents BaseTokenStreamTestCase.java 144 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData BaseTokenStreamTestCase.java 516 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.access 000 BaseTokenStreamTestCase.java 49 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase AnalysisThread.run BaseTokenStreamTestCase.java 329 junit junit junit Tests run 15 Failures 0 Errors 1 Time elapsed 21.001 sec junit junit Standard Error junit junit junit Uncaught exception by thread Thread Thread-1042 5 main junit org.junit.ComparisonFailure term 0 expected script but was junit at org.junit.Assert.assertEquals Assert.java 125 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.assertTokenStreamContents BaseTokenStreamTestCase.java 144 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.checkRandomData BaseTokenStreamTestCase.java 516 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase.access 000 BaseTokenStreamTestCase.java 49 junit at org.apache.lucene.analysis.BaseTokenStreamTestCase AnalysisThread.run BaseTokenStreamTestCase.java 329 junit I can t provoke this failure yet... just beasting the test . It definitely requires some beasting but I found a seed ant test -Dtestcase TestSynonymMapFilter -Dtestmethod testRandom2 -Dtests.seed 4960bdc955a84bcf -3fa62ebdf7c327b2 -3a600dcf6292a436 -Dtests.multiplier 5 -Dtests.nightly true -Dargs -Dfile.encoding UTF-8 I think this is fixed...
