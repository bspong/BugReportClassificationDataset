Add set getLocalAddress methods to HostConfiguration
On clustered or multi-homed systems there s a need to specify the local bind address of sockets to ensure that they re created on the right interface. To do this the local address needs to be passed to the 4-argument version of ProtcolSocketFactory.createSocket. After discussion on the mailing list the best approach for this seems to be adding the local address as a property on HostConfiguration and HttpConnection. I ve attached a patch which does the following - Add public set getLocalAddress methods to HostConfiguration and HttpConnection. - HttpConnection uses the local address when opening connections. - Modify HostConfiguration.equals and hostEquals to compare the local address too. - SimpleHttpConnectionManager uses the local address from the provided config. I also cleaned up its getConnection method a bit. - HttpClient.executeMethod uses the local address from its default HostConfiguration if the method s config doesn t specify one.Created an attachment id 6311 Patch version 2 Looks good to me. Nice work Laura. Would you object to being added as an author for the various classes I will apply this patch tonight unless there are any objections. MikeThanks. Go ahead and add me as an author if you want. I figured it would be presumptuous of me to do so after doing so little work.Patch applied. Your code regardless of the size adds a valuable HttpClient feature. I think you deserve some credit. You have been added as an author for the modified files. Mike
