CookieSpec.formatCookie Cookie produces an incorrect cookie header value
Consider the following Cookie cookie new Cookie .foo.com name value cookie.setVersion 1 cookie.setPath CookieSpec spec CookiePolicy.getSpecByPolicy CookiePolicy.RFC2109 System.out.println spec.formatCookie cookie When calling CookieSpec.formatCookie Cookie the resulting output is    name value The Version attribute is not present as required by RFC2109 nor is the path or domain information included. It seems that in this case only Cookie type 0 output is produced.Ryan CookieSpec.formatCookie Cookie was not envisaged to produce a complete Cookie header value. It s a helper method used internally by CookieSpec.formatCookie Cookie to produce full-fledged Cookie header value that includes a version attribute as well. This is more a documentation problem rather than a bug. Do you see it differently Oleg If it s a documentation bug that s fine. Would of course request they be clarified. Also if it s used internally wouldn t it make more sense to make this method private I haven t had time to dig in here to see if there are any reasons to keep it public. Just a thought. Of course the method should not be public. The trouble is that this method is declared by CookieSpec interface and therefore cannot be made protected correct me if I am wrong . I believe making this method produce fully RFC compliant Cookie header value is a better cleaner solution. Bug acceptedDone
