httpClient does not support installation of different SSLSocketFactory
Description The SSLProtocolSocketFactory class had hard- coded javax.net.ssl.SSLSocketFactory as the socket factory. It does not support installation of other socket factory. Proposed Fix We added a setDefaultSSLSocketFactory method to the SSLProtocolSocketFactory and modified the code to use the factory it it is set. The code falls back on using javax.net.ssl.SSLSocketFactory if a default is not set.Created an attachment id 5952 Changed SSLProtocolSocketFactory.java This is not quite correct. Please refer to the following sample for instructions on how to provide a custom SSL socket factory http cvs.apache.org viewcvs jakarta- commons httpclient src contrib org apache commons httpclient contrib ssl Olegsee also HTTPCLIENT-498Oleg I don t see what you mean in Comment 2. Please review this again. In reply to comment 4 Oleg I don t see what you mean in Comment 2. Please review this again. Odi my point was and still is that if one needs to customize any of the SSL context parameters one should simply implement a custom SecureProtocolSocketFactory. There s no need to change the default SSLProtocolSocketFactory class. OlegIf it helps to avoid code duplication comment 3 I would consider this issue. It boils down to the question on which level to implement SSL security Ê javax.net.ssl.SSLSocketFactory Ê org.apache.commons.httpclient.protocol.SecureProtocolSocketFactory The classes in contrib suggest to use our API. Ralf Hauser has shown that it is possible on the JDK API as well. I think it would be best to rewrite the contributed code on top of the JDK API and build just a simple adapter layer for our API. That would encourage reuse. I know we are not actively supporting the contrib code. Maybe Ralf would like to work on it Code contributions are always welcome and can be submitted by opening a new ticket. I still hold this particular bug is invalid and should be marked as such Oleg
