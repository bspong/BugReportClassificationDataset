Add Override annotations
During removal of deprecated APIs mostly the problem was to not only remove the method in the abstract base class e.g. Scorer.explain but also remove it in sub classes that override it. You can easily forget that especially if the method was not marked deprecated in the subclass . By adding Override annotations everywhere in Lucene such removals are simple because the compiler throws out an error message in all subclasses which then no longer override the method. Also it helps preventing the well-known traps like overriding hashcode instead of hashCode . The patch was generated automatically and is rather large. Should I apply it or would it break too many patches but I think trunk has changed so much that this is only a minimum of additional work to merge Patch. 1 - I ve felt this pain. Also in keeping the flex branch up to date I ve seen that the recent trurn has been incredible. Addng this to the mix isn t going to put things over any tipping point IMO. If there is a patch out there that hasn t been severely affected recently it s small enough not to matter - and I ve swalled so many merges on the flex branch that I don t much care about swallowing this patch too. Easy merging with this one Uwe what did you use to generate the override I use normally only my text editor for developing but for such a thing Eclipse is good Right mouse on src java folder Source - Cleanup - Use Custom Profile - remove everything except add missing Override That s why you need override in first place - any decent Java IDE shows that method overrides has overrides. If nobody objects I will commit during the day. And then do the same with tests contrib. Committed trunk changes in revision 830661 I will proceed with contrib and test later not yet . This patch breaks compatibility with Java 5 Override annotations are only available on interface implementation from Java 1.6 There are no Overrides on interfaces. By the way I always-ever use 1.5. I do not have any shitty 1.6 on my computer Oops my mistake sorry. twas my workspace I didn t upgrade from 1.4... Mea culpa No problem But then it should also have stopped at generics - What about tests and contrib Uwe Shouldn t we just hit them all edit scratch that - sorry - missed your comment that you will do contrib tests next test for the patches it also fixes whitespace where broken. EDIT other way round patch for the tests Will commit now. Committed revision 832972 Uwe attached is a patch for contrib and its tests. there were some places where override was added for generated code snowball javacc I excluded these files as was done for core. also add override for demo. will commit and resolve this soon as this will quickly get out of date. Committed revision 833867. contrib contrib tests and demo Thanks Robert I was in plane and wasn t able to do heavy committing Uwe just curious if you had this problem when the files had funky formatting eclipse would sometimes insert the override with the correct existing indentation but would change the formatting of the method itself... seems like a bug... i corrected this and saw you had a similar comment... Yes that was exactly the problem but it is not a bug it simply replaced the incorrect indended line by an Override followed by a new line and then the correct indended method declaration. This lead to the fact that the second line with the method declaration was looking ugly.
