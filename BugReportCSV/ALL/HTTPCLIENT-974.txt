RequestWrapper does not use the headers of the request it wraps.
The RequestWrapper does not use the headers of the request it wraps. Therefore the wrapper appears as having no header while the wrapped request may have some. To work-around that behavior I have to call resetHeaders on the wrapper just after having created it. This method does the following     public void resetHeaders              headergroup.clear         setHeaders original.getAllHeaders      I suggest calling setHeaders directly in the constructor. Or at least highlight in the Javadoc that we should call resetHeaders .Fixed in SVN trunk. Actually RequestWrapper should have never been a part of the public API OlegActually I m using it to manually handle redirects on HTTP 302 and reposting data in some cases. This class wouldn t be there I would have had to do something similar... - Hi Oleg Sorry to ask you that but should I close the issue after you set it to resolved 2010 8 4 Oleg Kalnichevski JIRA jira apache.org You are satisfied with the resolution please go ahead and close the issue. By the way you may want to take a look at the HttpRedirectStrategy in HttpClient 4.1 which should make handling of POST redirects easier. OlegIssue fixed.
