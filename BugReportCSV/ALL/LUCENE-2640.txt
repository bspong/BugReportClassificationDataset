add LuceneTestCase J4 .newField
I think it would be good to vary the different field options in tests. For example we do this with IW settings newIndexWriterConfig and directories newDirectory . This patch adds newField it works just like new Field except it will sometimes turns on extra options Stored fields term vectors additional term vectors data etc. attached is a patch with all core tests converted and passing we can always do the contrib tests later. In my opinion TedstBackwardsCompatibility should not add random things in its document creation as the zip files should be reproducible. If there are any random parts in it from previous parts we should remove them. I would revert the changes and any previous randomization in the parts that are respo nsible for the zip file creation. I would revert the changes and any previous randomization in the parts that are respo nsible for the zip file creation. Uwe good catch. really though the parts of the test that modify the index once opened should be randomized. only createIndex should have no randomization... I ll fix this. updated patch with testbackwardscompat fixed and i also did the contrib tests. Committed revision 996268 996278 3x Bulk close for 3.1
