Incorrect node position after import
I have found a behavior that does not seem to be consistent with the spec After replacing a node with importXML using IMPORT UUID COLLISION REPLACE EXISTING the new node is not at the position of the replaced node talking about the position among the siblings . The origininal node is removed but the new node is created as the last child of the parent node and not spec-compliant at the position of the replaced node. Here how I use it assume Session s Node n String text holding XML data s.importXML n.getPath new ByteArrayInputStream text.getBytes UTF-8 ImportUUIDBehavior.IMPORT UUID COLLISION REPLACE EXISTING s.save Ê And here a quote from the spec section 7.3.6 ImportUUIDBehavior.IMPORT UUID COLLISION REPLACE EXISTING If an incoming referenceable node has the same UUID as a node already existing in the workspace then the already existing node is replaced by the incoming node in the same position as the existing node. note same position fixed in svn r565399 thanks for reporting this issue WOW thats good to hear Thank you Marcus. Merged to the 1.3 branch in revision 577818.
