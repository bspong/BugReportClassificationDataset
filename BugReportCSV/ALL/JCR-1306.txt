Reduce number of different repository.xml present with jackrabbit-core
while taking a look at the repository configuration and the related test-cases i saw that there are quite some repository.xml files around... which i think is a bit confusion and probably hard to maintain once we make changes to the config. i would to suggest to consolidate that and - if possible - get rid of some of them. if we can t i would suggest to put some comment in every of the different configuration files indicating what they are used for. from what i ve seen so far still missing complete overview 1 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src main config repository.xml     Current comment Example Repository Configuration File     Usage 2 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src main resources org apache jackrabbit core test-repository.xml    current comment -    Used as repository configuration in org.apache.jackrabbit.core.TestRepository.java     3 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src main resources org apache jackrabbit core repository.xml       current comment Example Repository Configuration File    Used by org.apache.jackrabbit.core.config.RepositoryConfigTest.java in order to create another repository.xml    under target test-repository.xml. a bit confusing given the fact that a test-repository.xml exists as well. I would    suggest to rename the REPOSITORY XML constant in RepositoryConfigTest. 4 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src test repository repository.xml    current comment Example Repository Configuration File    Usage i assume that is the one referenced in test resources repositoryStubImpl.properties 5 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src test resources org apache jackrabbit core config repository.xml    current comment Example Repository Configuration File    Usage does anybody feel responsible for those repository.xml files that i marked with Usage . can we remove those please comment. angela 1 http svn.apache.org repos asf jackrabbit trunk jackrabbit-core src main config repository.xml i think it s a good idea having an example repository.xml in svn. src main config is IMO a good place since most people would probably look for it there first. Unless there s overwhelming reason not to do so I d rather get rid of all but one repository.xml file. As for having an example configuration file IMHO it s better to put up a configuration page on the web site and if needed point directly to the official one in o.a.j.core.BTW I consider the file number 3 above to be the canonical repository configuration file. It s used by TransientRepository when no other configuration is given and I recently modified the Jackrabbit webapp to also use that file as the default.I agree with Jukka in that we should get rid of all config files that don t have a sound reason to stay where they are. Regarding to Stefan s comment I think that there could be a new directory in svn called examples or something like that where we can put different configuration examples. I agree with Jukka in that we should get rid of all config files that don t have a sound reason to stay where they are. so do i. Regarding to Stefan s comment I think that there could be a new directory in svn called examples or something like that where we can put different configuration examples. i m less convinced about this one... in other words i wouldn t want wont to be the one that runs after config changes and makes sure those examples are always up to date. i tried to reduce to above list of repository.xml and was able to get rid of the following with moderate to no effort 1 - removed without consequences to build process 2 - removed modified line 45 in TestRepository.java 5 - removed without consequences to build process up to now nobody spoke up for 2 and 5 . unless somebody objects i will remove those. regarding 1 i would prefer to remove it since its not used while building the source. is anybody volunteering to make sure that is is up to date 1 to removing 1 2 and 5 1 remove About example applications It would be great to have really simple standalone sample apps for the most important features. I find the following easy to use and manage The sample apps in the test source tree maybe better add an examples tree that write to System.out. Then for each of those sample apps add a test that redirects System.out to a ByteArrayOutputStream calls the main method checks if the output is correct. Like that the sample apps don t get out of sync. I will open a new issue about that.revision 638367 removed 2 and 5 stefan would you still object to removing 1 as well please let me know. stefan would you still object to removing 1 as well please let me know. no that s fine with me. thanks.removed 1 too.
