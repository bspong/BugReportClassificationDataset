add ability to not count sub-task doLogic increment to contri benchmark
Sometimes you want to run a sub-task like CloseIndex and include the time it takes to run but not include the count that it returns when reporting rec s. We could adopt this approach if a task is preceded by a - character then do not count the value returned by doLogic. See discussion leading to this here http www.gossamer-threads.com lists lucene java-dev 57081 This patch should do it. Give it a try Mike patch also fixing a minor issue in benchmarks execution where the outer most task did not report its stats even in the case that it was named in the algorithm. It works like a charm And all tests pass. Thanks Doron. The only minor thing I noticed was when it prints out the alg it s about to execute the - is not included. Good catch This patch fixes that - printing the - for tasks with disableCounting set. OK 2nd patch now prints the - and all tests pass Thanks Doron. Doron do you plan to commit this soon As soon as 2.3 is out OK. updated patch for reference integrated with recent changes . Committed.
