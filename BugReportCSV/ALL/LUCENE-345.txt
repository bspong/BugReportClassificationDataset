Weird BooleanQuery behavior
Here s a simple OR-connected query. T files T deleting C thanks C exists The query above hits 1 document. But following same query only with parenthesis results nothing. T files T deleting C thanks C exists Another combinations of MUST and SHOULD. T files T deleting C production C optimize hits 1 document. T files T deleting C production C optimize hits 1 document. Created an attachment id 14222 Testcase for the weird BooleanQuery behavior. It has one Lucene document with two fields T and C . And each field has one sentence. In testBooleanOr case 1 3 asserts passes as expected but 4th and 5th assert fails. Created an attachment id 14233 Same test case TestBooleanOr.java with APL and in lucene package. The test passes in the development version. I ll try 1.4.3 later. Regards Paul Elschot. The test case doesn t compile against 1.4.3 because BooleanClause.Occur is not available. Is it possible that the bug occurs in an earlier intermediate development version Regards Paul Elschot I ve checked with 1.4.3 and current development snapshot. It passes fine. My lucene-x.jar file was packed around 29th Nov 2004 and some intermediate development code could be the cause of that behavior. I think this issue can be closed. And also I ll attach a revised test case using RAMDirectory instead of FSDirectory and textX methods split so it s more clear to see. Created an attachment id 14239 Revised test case using RAMDirectory and methods split This is the revised test case using RAMDirectory testX methods split. Can you do me a favor of those ASL and lucene packages. Created an attachment id 14240 TestBooleanOr.java as revised with APL in Lucene package Could this be added to src test org apache lucene search to close the bug Regards Paul Elschot Thanks I just committed this. I m out of practise. Marking this fixed now.
