Improve the documentation of Version
In my opinion we should elaborate more on the effects of changing the Version parameter. Particularly changing this value even if you recompile your code likely involves reindexing your data. I do not think this is adequately clear from the current javadocs. here is an initial patch to try to improve it. 1 Uwe maybe we could have some very very short verbage about this in 3.0 release notes since it won t make 3.0 1 commit it to 3.0 too Its only documentation change no need for a new RC because of this. Committed revision 881819. I am reopening this because I have noticed lots of usage of LUCENE CURRENT on the user list etc in examples from peoples code. So I would like to backport this to 2.9 branch. I think it may be the case that even with this warning it is not enough. We should think of further improvements. 1 to fix on 2.9.x It seems that LUCENE CURRENT is still causing some confusion. I am reopening this issue and propose removing this constant entirely. Regardless of whether we want to remove it it should be deprecated have much scarier javadocs text and instead positive wording like latest and greatest should instead be applied to LUCENE 31 whatever the latest constant is to encourage users to use that instead. attached is a patch that deprecates LUCENE CURRENT adds some scarier text about reindexing all your documents and moves positive latest greatest text to LUCENE 31 instead. I think this wording is even better and scarier i bolded re-index all your documents in the previous wording. i added another sentence Additionally you may need to re-test your entire application to ensure it now does what you want as some defaults may have changed and may break functionality in your application. I like this extension and I think it is important Yet I would use the following wording instead Additionally you may need to re-test your entire application to ensure it behaves like expected as some defaults may have changed and may break functionality in your application. I like the new scary javadoc Robert I think removing deprecating today LUCENE CURRENT may make sense Ð it s very dangerous. I was thinking... this wording could be more concise too. I will add simons suggestion trying to also think of the scariest shortest verbage we can use. updated patch with simon s suggestion some reformatting and edits to be slightly scarier. if no one objects will commit tomorrow and backport adjusting the latest and greatest wordage to the appropriate versions Committed revision 908975. We should add a note in CHANGES.txt in 3.0 and 2.9 branch as this is an API change. Something like Deprecated Version.LUCENE CURRENT constant... with the reason phrases from above
