Provider org.apache.xalan.processor.TransformerFactoryImpl not found
 maven jar fails with the following error message on a fresh Jackrabbit source tree BUILD FAILED File...... home hukka tmp jackrabbit maven.xml Element... ant xslt Line...... 146 Column.... 25 Provider org.apache.xalan.processor.TransformerFactoryImpl not found Total time 4 seconds Finished at Sun Feb 13 10 09 03 EET 2005 Fixed the issue titleBackground and solution from my earlier message to jacrabbit-dev summary Place xalan.jar in MAVEN HOME lib endorsed to build the latest since 2004-12-22 Jackrabbit sources with JDK 1.5. summary Below is a description of the details of the problem. I hope someone finds this useful. I ran into the same problem as Oliver Kiessler after updating my source tree. I d like to keep using JDK 1.5 so I first traced the problem to the following lines in maven.xml line breaks added for clarity The following is a hack to get xslt work with maven        See http maven.apache.org faq.html BadXSLT systemScope.setProperty        javax.xml.transform.TransformerFactory        org.apache.xalan.processor.TransformerFactoryImpl The JavaCC grammar in src grammar xpath makes heavy use of XSLT and the following ant xslt entries in maven.xml handle the transformations         ant xslt style src grammar xpath strip.xsl               in src grammar xpath xpath-grammar.xml               out src grammar xpath stripped-xpath-grammar.xml               force yes         ant xslt         ant xslt style src grammar xpath jjtree-jackrabbit.xsl               in src grammar xpath stripped-xpath-grammar.xml               out src grammar xpath XPath.jjt               force yes         ant xslt The systemScope.setProperty hack is needed to make the ant xslt task work properly with Maven see 1 . However as mentioned in the comments of the associated bug entry 2 this hack doesn t work with JDK 1.5 that uses the new Xalan XSLTC compiler at com.sum.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl. Unfortunately the problem could not be solved by simply changing the systemScope.setProperty line because the XSLTC version bundled with JDK 1.5 has problems with named templates probably bug 3 . Instead of the provider not found errors from ant xslt I now received NoSuchMethodError exceptions from XSLTC. As an alternative solution I then downloaded the normal Xalan binaries and placed xalan.jar in MAVEN HOME lib endorsed. I was then able to run maven jar without problems. Note that the library needs to be placed in lib endorsed instead of just lib to make the Xalan classes visible for the ant xslt task. Although this solution is a bit of a hack I don t think a better one is possible until either the Maven problem gets solved or the JDK XSLTC gets fixed. BR Jukka Zitting 1 http maven.apache.org faq.html BadXSLT 2 http jira.codehaus.org secure ViewIssue.jspa key MAVEN-156 3 http issues.apache.org jira browse XALANJ-1994 Added a note about the workaround in README.txt. Committed in revision 153614.also need to install serializer.jar from XalanHello Jukka and all dear users Unfortunately I still have the problem you ve described above. What do u mean exactly by download the normal Xalan binaries That s what I ve done from http mirror1.zic-network.ch apache xml xalan-j binaries I also placed xalan.jar in MAVEN HOME lib endorsed as well as serializer.jar Any other advices to get rid of this annoying error Thanks a lot in advance BR. Leïla P.S Here s the output I got DEPRECATED the default goal should be specified in the build section of proje ct.xml instead of maven.xml build start java prepare-filesystem Running post goal java prepare-filesystem jackrabbit generate-xpath-parser              xslt Processing C MasterProject jackrabbit src main javacc xpath xpath-grammar.xml to C MasterProject jackrabbit target generated-src main javac c stripped-xpath-grammar.xml      xslt Loading stylesheet C MasterProject jackrabbit src main javacc xpath strip.xsl BUILD FAILED File...... C MasterProject jackrabbit maven.xml Element... ant xslt Line...... 142 Column.... 25 Provider org.apache.xalan.processor.TransformerFactoryImpl not found Total time 10 seconds Finished at Sunday November 13 2005 9 19 08 PM CET Are you using the Maven 1.1 beta In that case you should place the xalan.jar and serializer.jar files in the lib endorsed directory of the JRE usually JAVA HOME jre lib endorsed when you have the full JDK installed .
