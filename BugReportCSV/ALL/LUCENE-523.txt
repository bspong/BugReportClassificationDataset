FSDirectory.openFile String causes ClassCastException
When you call FSDirectory.openFile String you get a ClassCastException since FSIndexInput is not an org.apache.lucene.store.InputStream The workaround is to reimplement using openInput String . I personally don t need this to be fixed but wanted to document it here in case anyone else runs into this for any reason. The reason I m calling this is that I have a requirement on my project to create read only indexes and name the index segments consistently from one build to the next. So after creating and optimizing the index I rename the files and rewrite the segments file. It would be nice if I had an API that would allow me to say I only want one segment and I want its name to be foo . For instance IndexWriter.optimize String segmentName i run into this problem when using the jackrabbit jcr implementation. any ideas for a workaround The related Jackrabbit issue is http issues.apache.org jira browse JCR-352 The issue at Jackrabbit is closed so I guess this can be closed too I ll do so unless someone objects. We worked around the issue in Jackrabbit by using the new openInput method. I guess the underlying issue FSDirectory.openFile throws an exception is still there in Lucene but I m not sure if people are actually using that method. openFile had been deprecated in Lucene 1.9 and then later removed so I m closing this issue.
