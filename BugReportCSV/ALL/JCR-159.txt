JCR-RMI UnmarshalException when calling getProperty 
I ve been trying to get the JCR-RMI adaptors going to talk to my noddy test repository. It seems I can successfully login and traverse the nodes getNode etc.. but whenever I try to get something from a nt resource actually I ve subclassed nt resource to add our own properties I get the following exception org.apache.jackrabbit.rmi.client.RemoteRepositoryException error unmarshalling return nested exception is java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue error unmarshalling return nested exception is java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue at org.apache.jackrabbit.rmi.client.ClientProperty.getValue ClientProperty.java 139 at org.apache.jackrabbit.rmi.client.ClientProperty.getString ClientProperty.java 131 at ClientTest.main ClientTest.java 20 Caused by java.rmi.UnmarshalException error unmarshalling return nested exception is java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue at sun.rmi.server.UnicastRef.invoke UnicastRef.java 164 at org.apache.jackrabbit.rmi.server.ServerProperty Stub.getValue Unknown Source at org.apache.jackrabbit.rmi.client.ClientProperty.getValue ClientProperty.java 137 ... 2 more My svn is up-to-date as of this morning 2005 7 5 although the maven builds don t inspire much confidence as it falls over with Jelly exceptions at various points and there s a couple of dozen unit tests that fail. Don t know if this is the norm the maven reports on the jackrabbit main site reports suggest not But calling the same code with an in-process repository works fine. Thanks for the bug report This problem should now be fixed in revision 209313. About the build warnings they might be caused by JCR-162 and are most probably a result of the recent code reorganization JCR-157 . Please file a different bug report if the problems continue.Reopened as indicated by Richard Osbaldeston Sorry Jukka just tried revision 209468 and I m still seeing org.apache.jackrabbit.rmi.client.RemoteRepositoryException error unmarshalling return nested exception is    java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue error unmarshalling return nested exception is    java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue    at org.apache.jackrabbit.rmi.client.ClientProperty.getValue ClientProperty.java 139    at org.apache.jackrabbit.rmi.client.ClientProperty.getString ClientProperty.java 131    at ClientTest.main ClientTest.java 27    at sun.reflect.NativeMethodAccessorImpl.invoke0 Native Method    at sun.reflect.NativeMethodAccessorImpl.invoke NativeMethodAccessorImpl.java 39    at sun.reflect.DelegatingMethodAccessorImpl.invoke DelegatingMethodAccessorImpl.java 25    at java.lang.reflect.Method.invoke Method.java 324    at com.intellij.rt.execution.application.AppMain.main AppMain.java 78 Caused by java.rmi.UnmarshalException error unmarshalling return nested exception is    java.io.WriteAbortedException writing aborted java.io.NotSerializableException org.apache.jackrabbit.value.BinaryValue    at sun.rmi.server.UnicastRef.invoke UnicastRef.java 164    at org.apache.jackrabbit.rmi.server.ServerProperty Stub.getValue Unknown Source    at org.apache.jackrabbit.rmi.client.ClientProperty.getValue ClientProperty.java 137    ... 7 more Wiped out all my target directories before rebuilding and am pretty sure its not running against any old code. Also couldn t work out how to reopen the JIRA ticket.OK I ll take a second look at this in a moment.OK I think the problem was caused by a name collision in the o.a.j.value package. I renamed the package to o.a.j.rmi.value in revision 209511 and the issue should now be fully fixed. Please comment if the problem still appears.
