PersistenceManager API change breaks backward compatibility
Persistence Manager API change introduced in JCR-1428 breaks backward compatibility. although this is not a public visible API it renders 3rd party PMs invalid that do not extend from AbstractPersistenceManager. at least for the 1.4.3 patch release we should not do this. suggest to revert the API change for the next 1.4.4 release but leave the method on the abstract pm and introduce it only for 1.5. Once svn works again I plan to fix this simply by commenting out the method in the PersistenceManager interface Index jackrabbit-core src main java org apache jackrabbit core persistence PersistenceManager.java jackrabbit-core src main java org apache jackrabbit core persistence PersistenceManager.java revision 650539 jackrabbit-core src main java org apache jackrabbit core persistence PersistenceManager.java working copy -197 6 197 8        repaired. if false no data will be modified instead all        inconsistencies will only get logged        - void checkConsistency String uuids boolean recursive boolean fix JCR-1556 This method will be introduced in 1.5 If you need it before cast to AbstractPersistenceManager void checkConsistency String uuids boolean recursive boolean fix   Fixed as proposed in revision 653348 1.4 branch only .
