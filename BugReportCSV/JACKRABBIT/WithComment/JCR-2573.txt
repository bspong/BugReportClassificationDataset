Performance of AC Evaluation
1. Performance in access control evaluation  - main focus on     read performance     resource-based access control in .a.j.c s authorization acl  - comparison admin vs. anonymous with full permissions  - comparision between shortcut and ACL-evaluation.  - comparison JR 1.4 vs JR 2.0 actually i will compare Day s CRX as it already provided    some custom AC stuff with JR 1.4 2. Potential Problems    I would expect the most significant problems to be found in a ACLProvider retrieveResultEntries calculating effective ACEs      for each session separately. b AclPermission      Each instance registering an event listener in order to      keep the result cache up to date c AclPermission      Resolution form Path to Item or to nearest existing Itemi had focus the acl performance problem and make a new acl implement it work in the way 1.in many query the result had same parent to reduce collect times of parent entries i use LRUMap 100 to cache parentEntries 2.a global cache to cache every ACE of ACLNode a cache like ItemStateReferenceCache.see CachedACLManager 3.avoid path operate add a new method public boolean grants ItemId itemId int permissions HierarchyManager hierMgr the test result show fast many times and small memory footprintI am seeing a sporadic failure to read a file using webdav with Jackrabbit 2.1.0. If I share a nt folder and apply permissions to it to make it read-only for some users sometimes I am unable to read the properties of an nt file in that folder. I tried our code against Jackrabbit 2.2-SNAPSHOT and it worked fine. I tried to find out what change fixes the bug and it appears to be r950440. Are there plans to merge this into the 2.1 branch I just saw it was merged to 2.0 . ... plans to merge this into the 2.1 branch I just saw it was merged to 2.0 . no concrete plans up to now. I merged revision 950440 to the 2.1 branch in revision 989597.See also JCR-2699 for some concurrent ACL evaluation improvements proposed by Ian Boston.Please read the later comment in JCR-2699 as we found GC Threshold problems with the AccessControlProviderHolder in JCR-2699Marking this as resolved for 2.2 based on the work that has already been done. We can track additional improvements in separate issues.
