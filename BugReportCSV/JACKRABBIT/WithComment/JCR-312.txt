CompactNodeTypeDefReader adds nt base as declared supertype even if already extending
 reported to the list by michael singer I wrote a simple program which uses the nt-ns-util contribution to register custom node types written in CND language. I defined the following very simple custom node types test http foo.bar test 39 test firstnodetype test secondnodetype mandatory test http foo.bar test 39 test secondnodetype test firstnodetype test thirdnodetype test http foo.bar test 39 test thirdnodetype test secondnodetype - test catalog string URI URN DOI ISBN ISSN - test entry string m In the resulting custom nodetypes.xml each of the custom nodes has a supertype of nt base but I didn t explicitely define a supertype of nt base for test secondnodetype and test thirdnodetype . I think this behavior is wrong since the method getDeclaredSupertypes of class NodeType always returns nt base plus the explicitely declared Supertype which it e.g. does not for nt folder . fixed . Date Wed Feb 1 05 54 23 2006 New Revision 374065 Modified    incubator jackrabbit trunk contrib nt-ns-util src main java org apache jackrabbit core nodetype compact CompactNodeTypeDefReader.java please note CND that defined nodetypes that just extended from mixintypes but did not extend from nt base and are not mixin types themselfes cannot be registered anymore. they need to be extended from nt base explicitely. eg my Profile mix referenceable .... does not work anymore since it just extends from a mixin type but not from a primary type my Profile mix referenceable nt base ....
