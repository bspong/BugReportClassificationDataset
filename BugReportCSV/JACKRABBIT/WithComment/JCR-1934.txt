DbDataStore delete temporary files using finalize 
Currently reading from the DbDataStore creates a temporary file by default. If the application doesn t fully read or close the input stream the file is not deleted. The best solution is to use finally in.close in the application but this is easily forgotten. I suggest to delete the temp file using finalize . There is a small performance penalty when creating the temporary object but compared to I O it is very small. Note that FileInputStream and FileOutputStream also use finalize .We may want to leverage the AutoCloseInputStream class 1 I wrote for Commons IO 1.4. It will automatically call close on the stream when the last byte is read or when the stream is finalized. 1 http commons.apache.org io api-release org apache commons io input AutoCloseInputStream.htmlAutoCloseInputStream good idea And another commons IO suggestion - FileCleaner 1 1 http commons.apache.org io api-release org apache commons io FileCleaner.htmlCommitted in revision 740262 trunk . Temporary files are now deleted when the input stream is garbage collected. Database resources are released when the input stream is garbage collected.
