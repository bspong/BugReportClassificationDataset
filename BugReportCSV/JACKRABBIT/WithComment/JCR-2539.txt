spi2dav Observation s user data not property handled
org.apache.jackrabbit.test.api.observation GetUserDataTest still fail in the setup jcr2spi - spi2dav ex - jcr-server. OK as far as I can tell we need a way to transport the user data over HTTP. Does anybody have a better idea then a custom HTTP header i would not use a custom header but didn t yet think about a better idea I agree we should avoid a custom header but I do think we need to put it into a header so that it can be requested with all requests including PUT and POST... We could avoid using a new header by claiming that the User Data is a related resource and put it into a link header field with an extension link relation roughly like that Link data my 20user 20data rel ... with ... a suitable URI for JCR user data . See RFCs 2397 and 5988.Confirmed that all we need to seems to 1 add the user data in some form to the request in RepositoryServiceImpl.initMethod and 2 receive it in SessionProviderImpl.getSession.Draft patch that puts the user data into a Link header field. If we go ahead of this we should probably make the Link header field parser more compliant though.Proposed patch now with header field parsing cleaned up and unit-tested. Do we need to update documentation somewhere r1200319
