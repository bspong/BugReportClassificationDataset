Improved log message include path
The cluster logs a message for each appended operation. The log message is currently the revision number. A more interesting log message would be the user name and the path of the change the most specific path if the change contains multiple nodes .patch against Jackrabbit 1.4. Example output 17.03.2009 14 43 37 INFO ClusterNode 18216140 admin apps acme templates contentpage thumbnail.png ClusterNode.java line 631 Committed in revision 760900 trunk Please note the log level for this path is debug so you will not see the message by default.While looking at this for some other bug I found some issues with this fix. For example if i create three nested nodes eg. hello world jackrabbit like this Node root session.getRootNode Node hello root.addNode hello session.save Node world hello.addNode world session.save Node jackrabbit world.addNode jackrabbit session.save I see the following in the logs for the three saves revision 1 admin revision 2 admin revision 3 admin hello 24 The problem with this is 1- Not sure what admin means. I think this should be admin to signify that something is written to the root. 2- Even though world node was added under hello node it shows up as being added to root in revision 2. 3- Even though jackrabbit node was added under world node it shows up as being added to hello node in revision 3. I think the logs should look like this revision 1 admin revision 2 admin hello 25 revision 3 admin hello 25 worldThe patch that fixes the issues I outlined.Could someone with commit rights apply the patch for me please Hi It would be better to create a new issue because this is already closed. Right. Opened JCR-3275.
