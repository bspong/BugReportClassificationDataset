Versioning operations should be done on the workspace
currently all versioning operations modify the transient states of the items where the operation is executed although all operations are workspace operations.proposed patch in sandbox https svn.apache.org repos asf jackrabbit sandbox tripod-JCR-2209 there is one nasty hack in order to access another workspace for the merge operations the version manager needs to create a new session. this is currently done using the RepositoryImpl.createSession subject string which is protected. the only solution i see so far would be other than making this method public to move the JcrVersionManager to org.apache.jackrabbit.core.Committed revision 795866.
