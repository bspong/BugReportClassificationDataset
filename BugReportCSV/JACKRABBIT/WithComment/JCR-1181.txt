Use common base classes in jackrabbit-core and jcr2spi
As part of JCR-742 I ve implemented a number of generic JCR base classes and adapters in org.apache.jackrabbit.commons. These classes are based on existing code in jackrabbit-core. To encourage code reuse across jackrabbit-core and jcr2spi I d like to make both components use these generic base classes. Attached a proposed patch. I ll commit the changes in a few days unless anyone objects.hi jukka while working on JCR-1169 i was not sure about the status of the classes in the org.apache.jackrabbit.commons package because they were not used anywere. therefore i decided not to touch them. however if you would like to make jackrabbit-core and jcr2spi use them i would suggest to move them out of the jcr-commons project as well and adjust them in order to get rid of their usage of QName and the other deprecated classes. what do you think Angela however if you would like to make jackrabbit-core and jcr2spi use them i would suggest to move them out of the jcr-commons project as well and adjust them in order to get rid of their usage of QName and the other deprecated classes. The classes in org.apache.jackrabbit.commons use the now deprecated QName class for a few namespace constants. In fact I just dropped the dependency by copying the jcr and mix URI string constants to o.a.j.commons.AbstractNode in revision 587120. The classes are intimately related to the JCR API boundary and they only deal with prefixed names in string format. There are no dependencies to SPI concepts. Thus I d rather keep the classes in jcr-commons instead of spi-commons. Alternatively we could or perhaps should move them over to jcr2spi but I m not sure if we re yet ready to introduce jcr2spi as a dependency to jackrabbit-core. The classes in org.apache.jackrabbit.commons use the now deprecated QName class for a few namespace constants. In fact I just dropped the dependency by copying the jcr and mix URI string constants to o.a.j.commons.AbstractNode in revision 587120. ok. then i m fine i just wanted to make sure we get rid of the QName and don t introduce a dependency to spi spi-commons in the jcr-commons... that s all.Resolved in a sequence of commits see the Subversion Commits tab .
