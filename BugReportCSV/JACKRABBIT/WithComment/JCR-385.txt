ClassCastExeption when executing union queries
The XPathQueryBuilder throws a ClassCastException on line 322 in release 0.9 when executing syntactically valid union queries. An example query would be element nt file or element mix lockable . It appears that in the invocation of the visit method the SimpleNode id indicates a type of JJTROOTDESCENDANTS at a certain point but the data is actually an OrQueryNode and hence the cast to a PathQueryNode fails.Fixed in revision 544316 by throwing a more descriptive InvalidQueryException instead of the ClassCastException. Note that such union queries are currently not supported by Jackrabbit. Merged to the 1.3 branch in revision 544319.
