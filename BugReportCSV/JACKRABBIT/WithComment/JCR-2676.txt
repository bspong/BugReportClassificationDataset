FileDataStore should check for lastModified error result
According to javadoc for File.lastModified the return value may indicate error ...or 0L if the file does not exist or if an I O error occurs . Accordingly FileDataStore should be checking for this return value rather than treating it as an actual modification time of 0 . Patch to follow. Patch of FileDataStore to check for lastModified return code of 0 indicating error. - in addRecord and getRecordIfStored it s an error if lastModified fails since we can t tell whether to call setLastModified or not. - in deleteOlderRecursive we just log a warning and make sure not to delete the file Also added a warning if the call to File.delete fails in deleteOlderRecursive Thanks for the patch I have committed it in the trunk.
