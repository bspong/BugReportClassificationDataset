Error when registering nodetype with same propdef as supertype
error in check                                 if pd.getRequiredType epd.getRequiredType                                          pd.isMultiple epd.isMultiple                                      conflict                                     String msg The property definition for                                              name in node type                                              def.getDeclaringNodeType                                              conflicts with node type                                              existingDef.getDeclaringNodeType                                              ambiguous property definition                                     log.debug msg                                     throw new NodeTypeConflictException msg                                  if needs to be inverted.fixed. candiate for backport to 1.4.2sorry but i don t agree with the issue at hand. there s IMO nothing wrong with the check during the merge of node type definitions e.g. in order to resolve node type inheritance the specified snippet of code checks whether 2 property definitions with the same name also have the same required type and multiValue flag. if that s the case an exception is thrown since the 2 definitions would be ambiguous. name required type and multiValue flags are used as discriminators when choosing an appropriate property definition on a Node setProperty call. i suggest to resolve this issue as Invalid and revert the associated svn commit.   Re-classified this as an improvement as the original behaviour seems to be as designed. No opinion on whether the behaviour should be changed I haven t looked at the details.so you re saying if 2 defs have the same name and flags they are ambiguous that sounds wrong to me - but it s probably an implementation issue. i ll revert the changes but update the error message a bit reverted change and adjusted error messages.
