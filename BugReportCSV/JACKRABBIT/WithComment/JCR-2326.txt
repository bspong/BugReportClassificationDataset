some jcr-client tests fail if a server runs on localhost 80
This is caused by RepositoryFactoryImplTest.testGetSpi2davRepository and probably RepositoryFactoryImplTest.testGetSpi2davexRepository . To fix this the tests should set up the required webDav servers for the test runs. Currently the tests just try to connect to localhost 80 expecting the connection to fail in a specific way.I m resolving this as fixed. Instantiating a full blown server for the webdav factory tests seems a bit of an overkill. This should be the subject of integration tests though. See also JCR-2037.Reopening. The test should not rely on the build environment to have or to not have a specific kind of a server running at port 80.Did you run into an issue with this I.e. did the test fail when it shouldn t See my comment regarding JCR-2037. As long as we don t have that I think we either have to live with the current test or remove it entirely. IMO instantiating a full blown server for the factory test would make the test run way to slow. What we could try to do is to put up a mock server instead of the full blown server. WDYT OTOH there is also JCR-2362. If we are going to remove the jcr-client module entirely I think we shouldn t bother too much. Since 2.0-beta3 i have the following test case which fails Test set org.apache.jackrabbit.client.RepositoryFactoryImplTest Tests run 8 Failures 0 Errors 1 Skipped 0 Time elapsed 8.253 sec FAILURE testGetSpi2davexRepository org.apache.jackrabbit.client.RepositoryFactoryImplTest Time elapsed 0.078 sec ERROR java.lang.UnsupportedOperationException Missing implementation        at org.apache.jackrabbit.spi2dav.ExceptionConverter.generate ExceptionConverter.java 109        at org.apache.jackrabbit.spi2dav.ExceptionConverter.generate ExceptionConverter.java 49        at org.apache.jackrabbit.spi2dav.RepositoryServiceImpl.getRepositoryDescriptors RepositoryServiceImpl.java 537        at org.apache.jackrabbit.jcr2spi.RepositoryImpl. init RepositoryImpl.java 82        at org.apache.jackrabbit.jcr2spi.RepositoryImpl.create RepositoryImpl.java 95        at org.apache.jackrabbit.jcr2spi.Jcr2spiRepositoryFactory.getRepository Jcr2spiRepositoryFactory.java 166        at org.apache.jackrabbit.client.RepositoryFactoryImpl.getRepository RepositoryFactoryImpl.java 75        at org.apache.jackrabbit.client.RepositoryFactoryImplTest.testGetSpi2davexRepository RepositoryFactoryImplTest.java 169 Caused by org.apache.jackrabbit.webdav.DavException Method REPORT is not defined in RFC 2068 and is not supported by the Servlet API        at org.apache.jackrabbit.webdav.client.methods.DavMethodBase.getResponseException DavMethodBase.java 172        at org.apache.jackrabbit.webdav.client.methods.DavMethodBase.checkSuccess DavMethodBase.java 181        at org.apache.jackrabbit.spi2dav.RepositoryServiceImpl.getRepositoryDescriptors RepositoryServiceImpl.java 507        ... 31 moreI fixed this in revision 887190 by moving the tests into an integration-test profile. Now you need to explicitly enable the jackrabbit-jcr-client tests so we can assume that the user already has an environment in which the tests should run properly.Ok that sould do I guess. Could we enable this profile on the CI instance 
