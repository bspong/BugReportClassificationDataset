Permit using different tablespaces for tables and indexes with Oracle
OracleFileSystem OraclePersistenceManager and OracleDatabaseJournal already provide a tableSpace parameter to customize the DDL but the same tablespace is used for both tables and indexes. It is common place to use distinct tablespaces for these. Jackrabbit could provide support for this.I have already starting working on a patch still needs a little testing.Patch for jackrabbit-core rev. 1149180 . Affects - org.apache.jackrabbit.core.fs.db.OracleFileSystem - org.apache.jackrabbit.core.journal.OracleDatabaseJournal - org.apache.jackrabbit.core.persistence.pool.OraclePersistenceManager and associated oracle.ddl resources. The old tableSpace replacement variable is replaced with tableTablespace and indexTablespace variables and matching getters setters. Also included are two unit tests - org.apache.jackrabbit.core.fs.db.OracleFileSystemTest similar to DerbyFileSystemTest - org.apache.jackrabbit.core.OracleRepositoryTest with org.apache.jackrabbit.core.repository-oracle.xml starts and logins to a transient repository using the three classes above. Both unit tests expect a bunch of system properties to retrieve the database connection parameters. I chose not to hardcode them as I have no idea of what databases are available to CI builds.Patch with unit testsSorry for the late response. I like the idea and the fact that you included a test case with the patch. The only thing I d like to see added before we commit this is restoring backwards compatibility with existing repository configurations. For example if someone has already configured a repository with the current tableSpace parameter it should automatically be used for both the new tablespace variables instead of throwing a configuration error as it would with the proposed patch.Updated patch with restored backward compatibility with configuration files and two relative unit tests.Great work thanks Patch committed in revision 1179984.
