Node.canAddMixin String 
after the spec this method must return false if the node is locked.fixed in rev. 157730 after the spec this method must return false if the node is locked. This is not exactly true by specification JSR170 at least 1. In those repositories that support it locking allows a user to temporarily lock nodes in order to prevent OTHER users from changing them 8.4 2. A lock would prevent the addition of the mixin - definetely is not the same as node is locked . Just because of 1 - lock may prevent and may allow. 7.4.3 3. Effect of a lock - node cannot be changed by anyone except the user who is the token holder for that lock. 8.4.8 and 4. More precisely a lock applying to a node prevents all non-token holders from doing any of the following ... Adding or removing its mixin node types. same 8.4.8 So IMO the Node.canAddMixin must return false for non-tocken holders and work as usual for tocken holders. Hi. I have comment for the following issue http www.mail-archive.com jackrabbit-dev incubator.apache.org msg00183.html The comment starts here after the spec this method must return false if the node is locked. This is not exactly true by specification JSR170 at least 1. In those repositories that support it locking allows a user to temporarily lock nodes in order to prevent OTHER users from changing them 8.4 2. A lock would prevent the addition of the mixin - definetely is not the same as node is locked . Just because of 1 - lock may prevent and may allow. 7.4.3 3. Effect of a lock - node cannot be changed by anyone except the user who is the token holder for that lock. 8.4.8 and 4. More precisely a lock applying to a node prevents all non-token holders from doing any of the following Adding or removing its mixin node types. same 8.4.8 So IMO the Node.canAddMixin must return false for non-tocken holders and work as usual for tocken holders. wbr dMitry i agree with dimitry reopening issue...fixed in svn r474372 thanks dmitry for reporting this issue 
