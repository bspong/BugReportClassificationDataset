Missing class JNDIDatabaseJournal
We re dealing to set up a clustered repository and run into some issues and missing features stated to be fixed in the upcoming v1.4. But while scanning the sources of the v1.4-rc1 i still can t find the class   JNDIDatabaseJournal org.apache.jackrabbit.core.journal.JNDIDatabaseJournal as a silbing to the classes   JNDIDatabaseFileSystem org.apache.jackrabbit.core.fs.db.JNDIDatabaseFileSystem and   JNDIDatabasePersistenceManager org.apache.jackrabbit.core.persistence.db.JNDIDatabasePersistenceManager The missing one you ll need to configure all parts of a repository handeled in an abstract way by e.g one common JNDI database resource. From the shortness and simplicity of the source code of the other ones i think adding this missing feature takes just about an hour. Thank you for supportToday we try to build an implementation of the JNDIDatabaseJournal.class just by a stupid refactoring of one of the other JNDI DB adapter classes. And it seems to work out of the box ... You may include it to the official codebase.The attached class has a header that declares it as GPL software. Can you please upload a new version with the Apache license header or alternatively comment that it s OK for me to change the header.Never mind I reimplemented the class based on the same JNDIDatabasePersistenceManager class. Committed in revision 610164 and merged to the 1.4 branch in revision 610167.Dear Jukka thank you for your quick reaction. Yes no problem to choose the appropriate header because we intend to spread it to the community. My co-worker s did it within a quater of an hour and may automatically include our standart header without further considerations. Unfortunately even using v1.4-rc1 our main blocking issue haven t gone After a breakdown of the underying database connection due to an idle timeout or a failure the repository is unusable because it still fails to re-establish the database connection layer. I ll rescan the project jira for this an may open an issue ... sincerely yours Guido   The re-connection issue is JCR-927 and should be resolved already. The re-connection issue is JCR-927 and should be resolved already. Not at all. This is just dealing with the journal component. And here but only here the re-connect works now. We re dealing with the PersistantManager and FileSystem connections for repository and the workspace s and they are still lost.
