Problems with File Copy using WebDAV
When i make a copy of files from one workspace to other CTRL-C - CTRL-V . The file isnt copied but the original file is deleted.sorry i can t follow you. which servlet are you using how do you copy across workspaces note that with jcr-server Workspace.copy is not yet implemented and as far as i know throws an exception . and the simple server on the other hand doesn t even attempt to implement a workspace copy only one workspace is exposed . thanks for posting additional info. angelaangela I«m using a webdav application that come with jackrabbit. The steps are Create 2 workspaces Put files using webdav into a fisrt workspace Using Windows View My Network places copy one file CTRL-C and open the other workspace windows interface and paste CTRL-V well i guess you are using the SimpleWebdavServlet . there i never tried to copy resources between 2 workspaces.... but it shouldn t be a big thing to add a check to the DavResourceImpl making sure that copy and move between workspace will be detected and forbidden . regards angelaFixed as suggested i added a check with copy and move that makes sure that src and destination resource belong to the same workspace. if that is not the case the operation fails. rev. 523640 btw i couldn t reproduce the behaviour described resource then gets deleted at the source . however what i found was - without the additional check the copy already failed with conflict - windows dav client doesn t stop the copy then but adds some additional PROPFIND calls and asks ÊÊwhether i want to replace the existing resource. - in case of no the copy operation is aborted.... in case of yes the COPY operation again results in ÊÊconflict and finally tries to COPY forever.
