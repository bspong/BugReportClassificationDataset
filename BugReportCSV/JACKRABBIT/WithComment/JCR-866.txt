ResidualProperties Converter uses wrong AtomicType Converter on update
When writing back data the ResidualPropertiesCollectionConverterImpl.internalSetProperties method looks at the type of the Java object to find the atomic type converter instead of getting the converter according to the collection descriptor. This may lead to NullPointerExceptions in case the concrete type is an extension or implementation of the declared type. I am currently working on a patch to attache to this bug.And here is the patch. Note that the ResidualProperties converter will now throw a PersistenceException on read or write if no atomic type converter can be found for the element class name.Patch applied. Sorry for the delay. Felix can you check if it is ok thanksThanks for applying the patch. Looks god.
