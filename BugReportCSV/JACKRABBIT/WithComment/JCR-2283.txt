Incorrect CND for mix etag
Jackrabbit currently defined mix etag as follows mix etag   mixin    currently has a default value because auto-creation not handled see JCR-2116   - jcr etag STRING protected autocreated I think this violates the spec which says mix etag mixin   - jcr etag STRING protected autocreated This also affects the predefined node type test in jackrabbit-jcr-tests where mix-etag.txt is NodeTypeName   mix etag Supertypes    IsMixin   true HasOrderableChildNodes   false PrimaryItemName   null PropertyDefinition   Name jcr etag   RequiredType STRING   DefaultValues   AutoCreated true   Mandatory false   OnParentVersion COPY   Protected true   Multiple false but should rather be NodeTypeName   mix etag Supertypes    IsMixin   true HasOrderableChildNodes   false PrimaryItemName   null PropertyDefinition   Name jcr etag   RequiredType STRING   DefaultValues null   AutoCreated true   Mandatory false   OnParentVersion COPY   Protected true   Multiple false that s why the comment is there currently has a default value because auto-creation not handled see JCR-2116 as soon as we implement the correct etag handling we can change this.We need to change it as soon as possible because the affected test is part of the TCK.The proposed change does the same as before but initializes the default value in NodeTypeInstanceHandler.computeSystemGeneratedPropertyValues . 1 good idea.Applied patch in revision 808408 Merged into jsr283 branch in revision 808416
