Let NameException extend RepositoryException
Since the NameExceptions IllegalNameException UnknownPrefixException etc. are typically thrown when parsing or formatting JCR names at the JCR API level it would make sense for the NameException class to extend RepositoryException instead of the internal BaseException. This idea is supported by the fact that the majority of cases where NameExceptions are encountered simply rethrow the exceptions wrapped inside RepositoryException instances. Making NameException extend RepositoryException would reduce the amount of try-catch blocks and wrapped exceptions.Attached NameException.patch against trunk that implements the proposed change and adjusts the code in jackrabbit-core accordingly.I completely agree with this. Everytime I catch a NameException I wrap it into a RepositoryException. But this change may break some code no But this change may break some code no Yes it s a change to the public API of jackrabbit-jcr-commons and thus can lead to some things breaking. This is the reason why I didn t just commit the change. I don t think there are many any cases where BaseException is caught instead of NameException or one of the more specific subclasses thus this change shouldn t affect too many things. But please comment if there are cases where this would be troublesome. Dropping this from the 1.3 release to avoid unexpected issues.this issues has been addressed by JCR-1169 The NameException placed in the spi-commons which replaces the former o.a.j.name.NameException in jcr-commons extends from RepositoryException. I guess we can mark i fixed for 1.4.
