org.apache.jackrabbit.core.query.lucene.SearchIndex with in-memory lucene index
If I m not wrong there is actually no way to configure SearchIndex in order to use a memory only lucene index. Since you can configure a repository using a org.apache.jackrabbit.core.state.mem.InMemPersistenceManager it makes sense that also search index offers a similar configuration. MultiIndex and PersistentIndex now always use a org.apache.lucene.store.FSDirectory they should be refactored in order to allow a switching to a org.apache.lucene.store.RAMDirectory for this.The attached patch introduces a DirectoryManager interface. There are two implementations currently - FSDirectoryManager this is the default which matches the current behaviour - RAMDirectoryManager this one allows you to have an index that is completely held in memory Updated patch with a fix. There was a bug that would delete directories that are not index segments.Applied patch and added test case for DirectoryManager implementations. svn revision 718218
