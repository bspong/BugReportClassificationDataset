BundleDumper to analyze broken bundles
The BundleReader fails if it can t read a bundle. We should have a tool to analyze broken bundles.This tool can also be used for older version of Jackrabbit.Good idea. Is it possible to have the analyzer point to the problems Rather than relying on manual validation of the properties found in the broken bundle Maybe a status message after the dump along the lines of Ê- bundle check ok or Ê- bundle check failed broken properties are or might be p1 p2... For example I m looking at a bundle that has 35 properties how can I know what is going on The tool doesn t try to detect broken properties currently who and why would you want to detect them I m looking at a bundle that has 35 properties how can I know what is going on I used it to manually read the data. I already knew the bundle was broken because loading the bundle failed so I knew roughly what the problem was couldn t parse a timestamp because the year was out of range but I needed to see the actual data. For what I used the tool to easily analyze broken bundles it works well but I wonder if adding more complexity is really necessary - I don t need more features currently. But if have a use case then that s different of course. It would be great if we could refactor things so that no code duplication between BundleReader and BundleDumper is needed. It would be great if we could refactor things so that no code duplication between BundleReader and BundleDumper is needed. I agree that would be great. However I don t see how it s possible.
