SetPropertyAssumeTypeTest check for non-protected string array property
SetPropertyAssumeTypeTest.testValuesConstraintViolationExceptionBecauseOfInvalidTypeParameter tries to find a property definition for a writable multivalued string property. It consults NodeTypeUtil.locatePropertyDef for that purpose. In my setup the property definition being returned is for jcr valueConstraints defined on nt propertyDefinition. Nodes of that type in turn can not be created on the test node thus the test fails already when trying to create the node. It seems the test suite tries to be too smart here. Can we change this so that the node type and the property name are configuration parameters Agreed. Using configuration parameters sounds good to me.Any preferences about using existing name such as nodetype or propertyname1 vs inventing new ones Re-using the existing names would affect existing TCK setups...Fixed with revision 566247.This resolves the issue for my use cases. However there may be some other scenarios where the strategy of picking a random property type may prove problematic. Merged to the 1.3 branch in revision 577845.
