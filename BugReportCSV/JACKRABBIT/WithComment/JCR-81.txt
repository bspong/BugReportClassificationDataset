Implement anonymous login with credentials
Jackrabbit currently implements anonymous login by detecting a null credentials argument on login. This is actually not compliant to the specification. spec If credentials is null it is assumed that authentication is handled by a mechanism external to the repository itself for example through the JAAS framework and that the repository implementation exists within a context for example an application server that allows it to handle authorization of the request for access to the specified workspace. spec Jackrabbit should rather support anonymous login with a defined credential either some subclass of SimpleCredentials or a predefined known userId that has read-only access.The SimpleLoginModule now supports anonymous login with a SimpleCredentials where userid is set to anonymous . This user id is configurable in jaas.config with the anonymousId module option. A Session aquired with such credentials has read-only access to the repository. If null credentials are passed to one of the Repository.login methods the SimpleLoginModule tries to retreive the Subject from the AccessControlContext. If none is found a LoginException is thrown. I have changed the first steps examples to use a different userid than anonymous because they will now return a read-only session. SVN revision 159358
