WorkspaceInfo.dispose does not deregister SharedItemStateManager from virtual item state providers
Automatic disposal of idle workspaces frees unused workspaces but corresponding SharedItemStateManager and releated PersistenceManager is still kept in memory referenced by virtual item state providers this can lead to memory leaks.During initialization of workspace SharedItemStateManager is registeres as listener fro virtual item state providers by the following code              create item state manager             try                 itemStateMgr createItemStateManager persistMgr rootNodeId                         ntReg true cacheFactory ismLocking                 try                     itemStateMgr.addVirtualItemStateProvider                             vMgr.getVirtualItemStateProvider                     itemStateMgr.addVirtualItemStateProvider                             virtNTMgr.getVirtualItemStateProvider                  catch Exception e                     log.error Unable to add vmgr e.toString e                  When workspace is disposed SharedItemStateManager should be deregistered from virtual item state providers to aloow JVM to free memory.Attached patch which updates dispose method of SharedItemStateManager and deregister it from virtual item state providers.Good point. I applied the patch in revision 760386 and merged it to the 1.5 branch in revision 760413.
